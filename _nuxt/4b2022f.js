/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{100:function(t,e,n){!function(t,e,n,r,o,l){"use strict";function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=c(e),m=c(n);m.default.registerHooks(["beforeRouteEnter","beforeRouteUpdate","beforeRouteLeave","asyncData","fetch","fetchOnServer","head","key","layout","loading","middleware","scrollToTop","transition","validate","watchQuery","meta"]);var h=/\B([A-Z])/g,f=function(t){return t.replace(h,"-$1").toLowerCase()};Object.defineProperty(t,"Vue",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"mixins",{enumerable:!0,get:function(){return n.mixins}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return r.Module}}),Object.defineProperty(t,"MutationAction",{enumerable:!0,get:function(){return r.MutationAction}}),Object.defineProperty(t,"VuexAction",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(t,"VuexModule",{enumerable:!0,get:function(){return r.VuexModule}}),Object.defineProperty(t,"VuexMutation",{enumerable:!0,get:function(){return r.Mutation}}),Object.defineProperty(t,"getModule",{enumerable:!0,get:function(){return r.getModule}}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return o.Action}}),Object.defineProperty(t,"Getter",{enumerable:!0,get:function(){return o.Getter}}),Object.defineProperty(t,"Mutation",{enumerable:!0,get:function(){return o.Mutation}}),Object.defineProperty(t,"State",{enumerable:!0,get:function(){return o.State}}),Object.defineProperty(t,"namespace",{enumerable:!0,get:function(){return o.namespace}}),Object.defineProperty(t,"Emit",{enumerable:!0,get:function(){return l.Emit}}),Object.defineProperty(t,"Inject",{enumerable:!0,get:function(){return l.Inject}}),Object.defineProperty(t,"InjectReactive",{enumerable:!0,get:function(){return l.InjectReactive}}),Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return l.Model}}),Object.defineProperty(t,"ModelSync",{enumerable:!0,get:function(){return l.ModelSync}}),Object.defineProperty(t,"Prop",{enumerable:!0,get:function(){return l.Prop}}),Object.defineProperty(t,"PropSync",{enumerable:!0,get:function(){return l.PropSync}}),Object.defineProperty(t,"Provide",{enumerable:!0,get:function(){return l.Provide}}),Object.defineProperty(t,"ProvideReactive",{enumerable:!0,get:function(){return l.ProvideReactive}}),Object.defineProperty(t,"Ref",{enumerable:!0,get:function(){return l.Ref}}),Object.defineProperty(t,"VModel",{enumerable:!0,get:function(){return l.VModel}}),Object.defineProperty(t,"Watch",{enumerable:!0,get:function(){return l.Watch}}),t.NextTick=function(t){return function(e,n,r){var o=r.value;r.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!1!==o.apply(this,e)){if("function"!=typeof this[t])throw new TypeError("must be a method name");this.$nextTick(this[t])}}}},t.Off=function(t,e){return function(n,r,o){r=f(r);var l=o.value;o.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!1!==l.apply(this,n))if(e){if("function"!=typeof this[e])throw new TypeError("must be a method name");this.$off(t||r,this[e])}else t?this.$off(t||r):this.$off()}}},t.On=function(t){return n.createDecorator((function(e,n){var r=f(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$on(t||r,e.methods[n])}}))},t.Once=function(t){return n.createDecorator((function(e,n){var r=f(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$once(t||r,e.methods[n])}}))},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(0),n(4),n(230),n(310),n(309))},126:function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,l=r(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||d)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||d):c.length>0?c.map((function(){return t(!1)})):t(!1))}};t.exports=r},128:function(t,e,n){"use strict";n.d(e,"a",(function(){return Xt}));var r={};n.r(r),n.d(r,"linear",(function(){return U})),n.d(r,"easeInQuad",(function(){return z})),n.d(r,"easeOutQuad",(function(){return V})),n.d(r,"easeInOutQuad",(function(){return G})),n.d(r,"easeInCubic",(function(){return W})),n.d(r,"easeOutCubic",(function(){return X})),n.d(r,"easeInOutCubic",(function(){return Y})),n.d(r,"easeInQuart",(function(){return K})),n.d(r,"easeOutQuart",(function(){return Q})),n.d(r,"easeInOutQuart",(function(){return Z})),n.d(r,"easeInQuint",(function(){return J})),n.d(r,"easeOutQuint",(function(){return $})),n.d(r,"easeInOutQuint",(function(){return tt}));n(63),n(50),n(67),n(69);var o=n(8),l=n(17),c=n(0);n(29),n(95),n(36),n(31),n(26),n(90),n(97),n(42);function d(t,e,n){if(!Xt.config.silent){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return"[Vuetify] ".concat(t)+(e?function(t){if(t._isVue&&t.$parent){for(var e=[],n=0;t;){if(e.length>0){var r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map((function(t,i){return"".concat(0===i?"---\x3e ":" ".repeat(5+2*i)).concat(Array.isArray(t)?"".concat(v(t[0]),"... (").concat(t[1]," recursive calls)"):v(t))})).join("\n")}return"\n\n(found in ".concat(v(t),")")}(e):"")}}function m(t,e,n){var r=d(t,e,n);null!=r&&console.warn(r)}function h(t,e,n){var r=d(t,e,n);null!=r&&console.error(r)}var f=/(?:^|[-_])(\w)/g;function v(t,e){if(t.$root===t)return"<Root>";var n="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},r=n.name||n._componentTag,o=n.__file;if(!r&&o){var l=o.match(/([^/\\]+)\.vue$/);r=l&&l[1]}return(r?"<".concat(r.replace(f,(function(t){return t.toUpperCase()})).replace(/[-_]/g,""),">"):"<Anonymous>")+(o&&!1!==e?" at ".concat(o):"")}var x=n(73),y=n(18),w=n(14),A=n(7),E=(n(240),{breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:{badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}}},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}}),M=(n(163),n(232),n(87),n(234),n(155),n(124),n(96),n(112),n(235),n(236),n(168),n(66),n(13),n(71),n(51),n(47),n(53),n(170),n(46),n(10)),T=n(19),_=n(11);try{if("undefined"!=typeof window){var S=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("testListener",S,S),window.removeEventListener("testListener",S,S)}}catch(t){console.warn(t)}function C(t,path,e){var n=path.length-1;if(n<0)return void 0===t?e:t;for(var i=0;i<n;i++){if(null==t)return e;t=t[path[i]]}return null==t||void 0===t[path[n]]?e:t[path[n]]}function L(t,path,e){return null!=t&&path&&"string"==typeof path?void 0!==t[path]?t[path]:C(t,(path=(path=path.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),e):e}function R(t){return null!==t&&"object"===Object(T.a)(t)}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34});function k(t){return Object.keys(t)}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(n,t))}function D(){var source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var e in t){var n=source[e],r=t[e];R(n)&&R(r)?source[e]=D(n,r):source[e]=r}return source}var O=function(){function t(){Object(o.a)(this,t),this.framework={}}return Object(l.a)(t,[{key:"init",value:function(t,e){}}]),t}();function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var B=function(t){Object(y.a)(n,t);var e=I(n);function n(t,r){var l;Object(o.a)(this,n),l=e.call(this);var c=D({},E),d=r.userPreset,h=d.preset,f=void 0===h?{}:h,v=Object(x.a)(d,["preset"]);return null!=f.preset&&m("Global presets do not support the **preset** option, it can be safely omitted"),r.preset=D(D(c,f),v),l}return n}(O);B.property="presets";n(171);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var F=function(t){Object(y.a)(n,t);var e=N(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).bar=0,t.top=0,t.left=0,t.insetFooter=0,t.right=0,t.bottom=0,t.footer=0,t.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}},t}return Object(l.a)(n,[{key:"register",value:function(t,e,n){this.application[e]=Object(_.a)({},t,n),this.update(e)}},{key:"unregister",value:function(t,e){null!=this.application[e][t]&&(delete this.application[e][t],this.update(e))}},{key:"update",value:function(t){this[t]=Object.values(this.application[t]).reduce((function(t,e){return t+e}),0)}}]),n}(O);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}F.property="application";var H=function(t){Object(y.a)(n,t);var e=j(n);function n(t){var r;Object(o.a)(this,n),(r=e.call(this)).xs=!1,r.sm=!1,r.md=!1,r.lg=!1,r.xl=!1,r.xsOnly=!1,r.smOnly=!1,r.smAndDown=!1,r.smAndUp=!1,r.mdOnly=!1,r.mdAndDown=!1,r.mdAndUp=!1,r.lgOnly=!1,r.lgAndDown=!1,r.lgAndUp=!1,r.xlOnly=!1,r.name="xs",r.height=0,r.width=0,r.mobile=!0,r.resizeTimeout=0;var l=t[n.property],c=l.mobileBreakpoint,d=l.scrollBarWidth,m=l.thresholds;return r.mobileBreakpoint=c,r.scrollBarWidth=d,r.thresholds=m,r}return Object(l.a)(n,[{key:"init",value:function(){this.update(),"undefined"!=typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?0:this.getClientHeight(),n=t?0:this.getClientWidth(),r=n<this.thresholds.xs,o=n<this.thresholds.sm&&!r,l=n<this.thresholds.md-this.scrollBarWidth&&!(o||r),c=n<this.thresholds.lg-this.scrollBarWidth&&!(l||o||r),d=n>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=e,this.width=n,this.xs=r,this.sm=o,this.md=l,this.lg=c,this.xl=d,this.xsOnly=r,this.smOnly=o,this.smAndDown=(r||o)&&!(l||c||d),this.smAndUp=!r&&(o||l||c||d),this.mdOnly=l,this.mdAndDown=(r||o||l)&&!(c||d),this.mdAndUp=!(r||o)&&(l||c||d),this.lgOnly=c,this.lgAndDown=(r||o||l||c)&&!d,this.lgAndUp=!(r||o||l)&&(c||d),this.xlOnly=d,!0){case r:this.name="xs";break;case o:this.name="sm";break;case l:this.name="md";break;case c:this.name="lg";break;default:this.name="xl"}if("number"!=typeof this.mobileBreakpoint){var m={xs:0,sm:1,md:2,lg:3,xl:4},h=m[this.name],f=m[this.mobileBreakpoint];this.mobile=h<=f}else this.mobile=n<parseInt(this.mobileBreakpoint,10)}},{key:"onResize",value:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}},{key:"getClientWidth",value:function(){return"undefined"==typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},{key:"getClientHeight",value:function(){return"undefined"==typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}]),n}(O);H.property="breakpoint";var U=function(t){return t},z=function(t){return Math.pow(t,2)},V=function(t){return t*(2-t)},G=function(t){return t<.5?2*Math.pow(t,2):(4-2*t)*t-1},W=function(t){return Math.pow(t,3)},X=function(t){return Math.pow(--t,3)+1},Y=function(t){return t<.5?4*Math.pow(t,3):(t-1)*(2*t-2)*(2*t-2)+1},K=function(t){return Math.pow(t,4)},Q=function(t){return 1-Math.pow(--t,4)},Z=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},J=function(t){return Math.pow(t,5)},$=function(t){return 1+Math.pow(--t,5)},tt=function(t){return t<.5?16*Math.pow(t,5):1+16*Math.pow(--t,5)};function et(t){if("number"==typeof t)return t;var e=at(t);if(!e)throw"string"==typeof t?new Error('Target element "'.concat(t,'" not found.')):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received ".concat(nt(t)," instead."));for(var n=0;e;)n+=e.offsetTop,e=e.offsetParent;return n}function it(t){var e=at(t);if(e)return e;throw"string"==typeof t?new Error('Container element "'.concat(t,'" not found.')):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received ".concat(nt(t)," instead."))}function nt(t){return null==t?t:t.constructor.name}function at(t){return"string"==typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}function st(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function pt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?st(Object(source),!0).forEach((function(e){Object(_.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):st(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pt({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},e),o=it(n.container);if(n.appOffset&&lt.framework.application){var l=o.classList.contains("v-navigation-drawer"),c=o.classList.contains("v-navigation-drawer--clipped"),d=lt.framework.application,m=d.bar,h=d.top;n.offset+=m,l&&!c||(n.offset+=h)}var f,v=performance.now();f="number"==typeof t?et(t)-n.offset:et(t)-et(o)-n.offset;var x=o.scrollTop;if(f===x)return Promise.resolve(f);var y="function"==typeof n.easing?n.easing:r[n.easing];if(!y)throw new TypeError('Easing function "'.concat(n.easing,'" not found.'));return new Promise((function(t){return requestAnimationFrame((function e(r){var l=r-v,progress=Math.abs(n.duration?Math.min(l/n.duration,1):1);o.scrollTop=Math.floor(x+(f-x)*y(progress));var c=o===document.body?document.documentElement.clientHeight:o.clientHeight;if(1===progress||c+o.scrollTop===o.scrollHeight)return t(f);requestAnimationFrame(e)}))}))}lt.framework={},lt.init=function(){};var ct=function(t){Object(y.a)(n,t);var e=ot(n);function n(){var t;return Object(o.a)(this,n),t=e.call(this),Object(w.a)(t,lt)}return n}(O);ct.property="goTo";n(70);var mt={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"},ht={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"},ut={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},ft={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"},gt={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};var vt=function(component,t){var e={};for(var n in t)e[n]={component:component,props:{icon:t[n].split(" fa-")}};return e}("font-awesome-icon",ft),xt=Object.freeze({mdiSvg:mt,md:ht,mdi:ut,fa:ft,fa4:gt,faSvg:vt});function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var bt=function(t){Object(y.a)(n,t);var e=yt(n);function n(t){var r;Object(o.a)(this,n),r=e.call(this);var l=t[n.property],c=l.iconfont,d=l.values,component=l.component;return r.component=component,r.iconfont=c,r.values=D(xt[c],d),r}return n}(O);bt.property="icons";n(242),n(245);function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var At=Symbol("Lang fallback");var Et=function(t){Object(y.a)(n,t);var e=wt(n);function n(t){var r;Object(o.a)(this,n),(r=e.call(this)).defaultLocale="en";var l=t[n.property],c=l.current,d=l.locales,m=l.t;return r.current=c,r.locales=d,r.translator=m||r.defaultTranslator,r}return Object(l.a)(n,[{key:"currentLocale",value:function(t){return function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,l=n.replace("$vuetify.",""),c=L(e,l,At);return c===At&&(r?(h('Translation key "'.concat(l,'" not found in fallback')),c=n):(m('Translation key "'.concat(l,'" not found, falling back to default')),c=t(o,n,!0,o))),c}(this.locales[this.current],t,!1,this.locales[this.defaultLocale])}},{key:"t",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.startsWith("$vuetify.")?this.translator.apply(this,[t].concat(n)):this.replace(t,n)}},{key:"defaultTranslator",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.replace(this.currentLocale(t),n)}},{key:"replace",value:function(t,e){return t.replace(/\{(\d+)\}/g,(function(t,n){return String(e[+n])}))}}]),n}(O);Et.property="lang";n(173),n(246);var Mt=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Tt=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},_t=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],St=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function Ct(t){for(var e=Array(3),n=Tt,r=Mt,i=0;i<3;++i)e[i]=Math.round(255*P(n(r[i][0]*t[0]+r[i][1]*t[1]+r[i][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function Lt(t){for(var e=[0,0,0],n=St,r=_t,o=n((t>>16&255)/255),g=n((t>>8&255)/255),b=n((t>>0&255)/255),i=0;i<3;++i)e[i]=r[i][0]*o+r[i][1]*g+r[i][2]*b;return e}function Rt(t){var e;if("number"==typeof t)e=t;else{if("string"!=typeof t)throw new TypeError("Colors can only be numbers or strings, recieved ".concat(null==t?t:t.constructor.name," instead"));var n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((function(t){return t+t})).join("")),6!==n.length&&m("'".concat(t,"' is not a valid rgb color")),e=parseInt(n,16)}return e<0?(m("Colors cannot be negative: '".concat(t,"'")),e=0):(e>16777215||isNaN(e))&&(m("'".concat(t,"' is not a valid rgb color")),e=16777215),e}function kt(t){var e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function Pt(t){return kt(Rt(t))}n(249);var Dt=.20689655172413793,Ot=function(t){return t>Math.pow(Dt,3)?Math.cbrt(t):t/(3*Math.pow(Dt,2))+4/29},It=function(t){return t>Dt?Math.pow(t,3):3*Math.pow(Dt,2)*(t-4/29)};function Bt(t){var e=Ot,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Nt(t){var e=It,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}var Ft=function(t,e){return"\n.v-application .".concat(t," {\n  background-color: ").concat(e," !important;\n  border-color: ").concat(e," !important;\n}\n.v-application .").concat(t,"--text {\n  color: ").concat(e," !important;\n  caret-color: ").concat(e," !important;\n}")},jt=function(t,e,n){var r=e.split(/(\d)/,2),o=Object(M.a)(r,2),l=o[0],c=o[1];return"\n.v-application .".concat(t,".").concat(l,"-").concat(c," {\n  background-color: ").concat(n," !important;\n  border-color: ").concat(n," !important;\n}\n.v-application .").concat(t,"--text.text--").concat(l,"-").concat(c," {\n  color: ").concat(n," !important;\n  caret-color: ").concat(n," !important;\n}")},Ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"--v-".concat(t,"-").concat(e)},Ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"var(".concat(Ht(t,e),")")};function zt(t,e){for(var n={base:kt(e)},i=5;i>0;--i)n["lighten".concat(i)]=kt(Vt(e,i));for(var r=1;r<=4;++r)n["darken".concat(r)]=kt(Gt(e,r));return n}function Vt(t,e){var n=Bt(Lt(t));return n[0]=n[0]+10*e,Ct(Nt(n))}function Gt(t,e){var n=Bt(Lt(t));return n[0]=n[0]-10*e,Ct(Nt(n))}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(A.a)(t);if(e){var o=Object(A.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var qt=function(t){Object(y.a)(n,t);var e=Wt(n);function n(t){var r;Object(o.a)(this,n),(r=e.call(this)).disabled=!1,r.isDark=null,r.unwatch=null,r.vueMeta=null;var l=t[n.property],c=l.dark,d=l.disable,m=l.options,h=l.themes;return r.dark=Boolean(c),r.defaults=r.themes=h,r.options=m,d?(r.disabled=!0,Object(w.a)(r)):(r.themes={dark:r.fillVariant(h.dark,!0),light:r.fillVariant(h.light,!1)},r)}return Object(l.a)(n,[{key:"applyTheme",value:function(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}},{key:"clearCss",value:function(){this.css=""}},{key:"init",value:function(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme(t))}},{key:"setTheme",value:function(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()}},{key:"resetThemes",value:function(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}},{key:"checkOrCreateStyleElement",value:function(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}},{key:"fillVariant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=this.themes[e?"dark":"light"];return Object.assign({},n,t)}},{key:"genStyleElement",value:function(){"undefined"!=typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}},{key:"initVueMeta",value:function(t){var e=this;if(this.vueMeta=t.$meta(),this.isVueMeta23)t.$nextTick((function(){e.applyVueMeta23()}));else{var n="function"==typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",r=t.$options[n]||{};t.$options[n]=function(){r.style=r.style||[];var t=r.style.find((function(s){return"vuetify-theme-stylesheet"===s.id}));return t?t.cssText=e.generatedStyles:r.style.push({cssText:e.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(e.options||{}).cspNonce}),r}}}},{key:"applyVueMeta23",value:function(){(0,this.vueMeta.addApp("vuetify").set)({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}},{key:"initSSR",value:function(t){var e=this.options.cspNonce?' nonce="'.concat(this.options.cspNonce,'"'):"";t.head=t.head||"",t.head+='<style type="text/css" id="vuetify-theme-stylesheet"'.concat(e,">").concat(this.generatedStyles,"</style>")}},{key:"initTheme",value:function(t){var e=this;"undefined"!=typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),t.$once("hook:created",(function(){var n=c.default.observable({themes:e.themes});e.unwatch=t.$watch((function(){return n.themes}),(function(){return e.applyTheme()}),{deep:!0})})),this.applyTheme())}},{key:"css",set:function(t){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t)}},{key:"dark",set:function(t){var e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()},get:function(){return Boolean(this.isDark)}},{key:"currentTheme",get:function(){var t=this.dark?"dark":"light";return this.themes[t]}},{key:"generatedStyles",get:function(){var t,e=this.parsedTheme,n=this.options||{};return null!=n.themeCache&&null!=(t=n.themeCache.get(e))||(t=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.anchor,r=Object(x.a)(t,["anchor"]),o=Object.keys(r);if(!o.length)return"";var l="",c="",d=e?Ut("anchor"):n;c+=".v-application a { color: ".concat(d,"; }"),e&&(l+="  ".concat(Ht("anchor"),": ").concat(n,";\n"));for(var i=0;i<o.length;++i){var m=o[i],h=t[m];c+=Ft(m,e?Ut(m):h.base),e&&(l+="  ".concat(Ht(m),": ").concat(h.base,";\n"));for(var f=k(h),v=0;v<f.length;++v){var y=f[v],w=h[y];"base"!==y&&(c+=jt(m,y,e?Ut(m,y):w),e&&(l+="  ".concat(Ht(m,y),": ").concat(w,";\n")))}}return e&&(l=":root {\n".concat(l,"}\n\n")),l+c}(e,n.customProperties),null!=n.minifyTheme&&(t=n.minifyTheme(t)),null!=n.themeCache&&n.themeCache.set(e,t)),t}},{key:"parsedTheme",get:function(){return function t(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.anchor,l=Object(x.a)(e,["anchor"]),c=Object.keys(l),d={},i=0;i<c.length;++i){var m=c[i],h=e[m];null!=h&&(r?n?("base"===m||m.startsWith("lighten")||m.startsWith("darken"))&&(d[m]=Pt(h)):"object"===Object(T.a)(h)?d[m]=t(h,!0,r):d[m]=zt(m,Rt(h)):d[m]={base:kt(Rt(h))})}return n||(d.anchor=o||d.base||d.primary.base),d}(this.currentTheme||{},void 0,C(this.options,["variations"],!0))}},{key:"isVueMeta23",get:function(){return"function"==typeof this.vueMeta.addApp}}]),n}(O);qt.property="theme";var Xt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,t),this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=e,this.use(B),this.use(F),this.use(H),this.use(ct),this.use(bt),this.use(Et),this.use(qt)}return Object(l.a)(t,[{key:"init",value:function(t,e){var n=this;this.installed.forEach((function(r){var o=n.framework[r];o.framework=n.framework,o.init(t,e)})),this.framework.rtl=Boolean(this.preset.rtl)}},{key:"use",value:function(t){var e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset,this),this.installed.push(e))}}]),t}();Xt.install=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.installed){t.installed=!0,c.default!==e&&h("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");var r=n.components||{},o=n.directives||{};for(var l in o){var d=o[l];e.directive(l,d)}!function t(n){if(n){for(var r in n){var component=n[r];component&&!t(component.$_vuetify_subcomponents)&&e.component(r,component)}return!0}return!1}(r),e.$_vuetify_installed||(e.$_vuetify_installed=!0,e.mixin({beforeCreate:function(){var t=this.$options;t.vuetify?(t.vuetify.init(this,this.$ssrContext),this.$vuetify=e.observable(t.vuetify.framework)):this.$vuetify=t.parent&&t.parent.$vuetify||this},beforeMount:function(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted:function(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}},Xt.installed=!1,Xt.version="2.4.3",Xt.config={silent:!1}},182:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var l in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(l,e.headers[l]);s.send(e.body||null)}))}},184:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(t,e){return!1!==e.clone&&e.isMergeableObject(t)?f((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function c(t,source,e){return t.concat(source).map((function(element){return l(element,e)}))}function d(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function m(object,t){try{return t in object}catch(t){return!1}}function h(t,source,e){var n={};return e.isMergeableObject(t)&&d(t).forEach((function(r){n[r]=l(t[r],e)})),d(source).forEach((function(r){(function(t,e){return m(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(m(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return f;var n=e.customMerge(t);return"function"==typeof n?n:f}(r,e)(t[r],source[r],e):n[r]=l(source[r],e))})),n}function f(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||c,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=l;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):h(t,source,e):l(source,e)}f.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return f(t,n,e)}),{})};var v=f;t.exports=v},188:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",l=arguments.length>3?arguments[3]:void 0;if(!r(e))return o(t,{},n,l);var c=Object.assign({},e);for(var d in t)if("__proto__"!==d&&"constructor"!==d){var m=t[d];null!==m&&(l&&l(c,d,m,n)||(Array.isArray(m)&&Array.isArray(c[d])?c[d]=c[d].concat(m):r(m)&&r(c[d])?c[d]=o(m,c[d],(n?"".concat(n,"."):"")+d.toString(),l):c[d]=m))}return c}function l(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(p,e){return o(p,e,"",t)}),{})}}var c=l();c.fn=l((function(t,e,n,r){if(void 0!==t[e]&&"function"==typeof n)return t[e]=n(t[e]),!0})),c.arrayFn=l((function(t,e,n,r){if(Array.isArray(t[e])&&"function"==typeof n)return t[e]=n(t[e]),!0})),c.extend=l,t.exports=c},189:function(t,n,r){(function(n){t.exports=function t(e,n,r){function o(i,l){if(!n[i]){if(!e[i]){if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(t){return o(e[i][1][t]||t)}),p,p.exports,t,e,n,r)}return n[i].exports}for(var u=!1,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===r.call(t.buffer)||Array.isArray(t)}},{}],2:[function(t,e,n){e.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},{}],3:[function(t,e,n){"use strict";n.byteLength=function(t){var e=d(t),n=e[0],r=e[1];return 3*(n+r)/4-r},n.toByteArray=function(t){for(var e,n=d(t),r=n[0],c=n[1],m=new l(function(t,e,n){return 3*(e+n)/4-n}(0,r,c)),h=0,f=c>0?r-4:r,i=0;i<f;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],m[h++]=e>>16&255,m[h++]=e>>8&255,m[h++]=255&e;return 2===c&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,m[h++]=255&e),1===c&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,m[h++]=e>>8&255,m[h++]=255&e),m},n.fromByteArray=function(t){for(var e,n=t.length,o=n%3,l=[],i=0,c=n-o;i<c;i+=16383)l.push(m(t,i,i+16383>c?c:i+16383));return 1===o?(e=t[n-1],l.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],l.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),l.join("")};for(var r=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,c=code.length;i<c;++i)r[i]=code[i],o[code.charCodeAt(i)]=i;function d(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function m(t,e,n){for(var o,l,output=[],i=e;i<n;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(r[(l=o)>>18&63]+r[l>>12&63]+r[l>>6&63]+r[63&l]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],4:[function(t,e,n){"use strict";e.exports={createLink:function(t,e){var head=document.head||document.getElementsByTagName("head")[0],link=document.createElement("link");for(var n in link.href=t,link.rel="stylesheet",e)if(e.hasOwnProperty(n)){var r=e[n];link.setAttribute("data-"+n,r)}head.appendChild(link)},createStyle:function(t,e){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");for(var n in style.type="text/css",e)if(e.hasOwnProperty(n)){var r=e[n];style.setAttribute("data-"+n,r)}style.sheet?(style.innerHTML=t,style.sheet.cssText=t,head.appendChild(style)):style.styleSheet?(head.appendChild(style),style.styleSheet.cssText=t):(style.appendChild(document.createTextNode(t)),head.appendChild(style))}}},{}],5:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(a,b){if(r.isBuffer(a)&&r.isBuffer(b)){if("function"==typeof a.equals)return a.equals(b);if(a.length!==b.length)return!1;for(var i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}}},{buffer:6}],6:[function(t,e,r){(function(e,n){"use strict";var o=t("base64-js"),l=t("ieee754"),c=t("isarray");function d(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(t,e){if(d()<e)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=n.prototype:(null===t&&(t=new n(e)),t.length=e),t}function n(t,e,r){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return v(this,t)}return h(this,t,e,r)}function h(t,e,r,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,o){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,r):new Uint8Array(e,r,o),n.TYPED_ARRAY_SUPPORT?(t=e).__proto__=n.prototype:t=x(t,e),t}(t,e,r,o):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!n.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|w(e,r),l=(t=m(t,o)).write(e,r);return l!==o&&(t=t.slice(0,l)),t}(t,e,r):function(t,e){if(n.isBuffer(e)){var r=0|y(e.length);return 0===(t=m(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?m(t,0):x(t,e);if("Buffer"===e.type&&c(e.data))return x(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function v(t,e){if(f(e),t=m(t,e<0?0:0|y(e)),!n.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function x(t,e){var n=e.length<0?0:0|y(e.length);t=m(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function y(t){if(t>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|t}function w(t,e){if(n.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(o)return X(t).length;e=(""+e).toLowerCase(),o=!0}}function A(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return D(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function E(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function M(t,e,r,o,l){if(0===t.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=l?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(l)return-1;r=t.length-1}else if(r<0){if(!l)return-1;r=0}if("string"==typeof e&&(e=n.from(e,o)),n.isBuffer(e))return 0===e.length?-1:T(t,e,r,o,l);if("number"==typeof e)return e&=255,n.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):T(t,[e],r,o,l);throw new TypeError("val must be string, number or Buffer")}function T(t,e,n,r,o){var i,l=1,c=t.length,d=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;l=2,c/=2,d/=2,n/=2}function m(t,i){return 1===l?t[i]:t.readUInt16BE(i*l)}if(o){var h=-1;for(i=n;i<c;i++)if(m(t,i)===m(e,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===d)return h*l}else-1!==h&&(i-=i-h),h=-1}else for(n+d>c&&(n=c-d),i=n;i>=0;i--){for(var f=!0,v=0;v<d;v++)if(m(t,i+v)!==m(e,v)){f=!1;break}if(f)return i}return-1}function _(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var l=e.length;if(l%2!=0)throw new TypeError("Invalid hex string");r>l/2&&(r=l/2);for(var i=0;i<r;++i){var c=parseInt(e.substr(2*i,2),16);if(isNaN(c))return i;t[n+i]=c}return i}function S(t,e,n,r){return K(X(e,t.length-n),t,n,r)}function C(t,e,n,r){return K(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,n,r)}function L(t,e,n,r){return C(t,e,n,r)}function R(t,e,n,r){return K(Y(e),t,n,r)}function k(t,e,n,r){return K(function(t,e){for(var n,r,o,l=[],i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,o=n%256,l.push(o),l.push(r);return l}(e,t.length-n),t,n,r)}function P(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function D(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,l,c,d,m=t[i],h=null,f=m>239?4:m>223?3:m>191?2:1;if(i+f<=n)switch(f){case 1:m<128&&(h=m);break;case 2:128==(192&(o=t[i+1]))&&(d=(31&m)<<6|63&o)>127&&(h=d);break;case 3:o=t[i+1],l=t[i+2],128==(192&o)&&128==(192&l)&&(d=(15&m)<<12|(63&o)<<6|63&l)>2047&&(d<55296||d>57343)&&(h=d);break;case 4:o=t[i+1],l=t[i+2],c=t[i+3],128==(192&o)&&128==(192&l)&&128==(192&c)&&(d=(15&m)<<18|(63&o)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(h=d)}null===h?(h=65533,f=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(r)}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function B(t,e,n){var r,o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var l="",i=e;i<n;++i)l+=(r=t[i])<16?"0"+r.toString(16):r.toString(16);return l}function N(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function F(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,o,l,c){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>l||e<c)throw new RangeError('"value" argument is out of bounds');if(r+o>t.length)throw new RangeError("Index out of range")}function H(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function z(t,e,n,r,o,l){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(t,e,n,r,o){return o||z(t,0,n,4),l.write(t,e,n,r,23,4),n+4}function G(t,e,n,r,o){return o||z(t,0,n,8),l.write(t,e,n,r,52,8),n+8}r.Buffer=n,r.SlowBuffer=function(t){return+t!=t&&(t=0),n.alloc(+t)},r.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=d(),n.poolSize=8192,n._augment=function(t){return t.__proto__=n.prototype,t},n.from=function(t,e,n){return h(null,t,e,n)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?m(t,e):void 0!==n?"string"==typeof r?m(t,e).fill(n,r):m(t,e).fill(n):m(t,e)}(null,t,e,n)},n.allocUnsafe=function(t){return v(null,t)},n.allocUnsafeSlow=function(t){return v(null,t)},n.isBuffer=function(b){return!(null==b||!b._isBuffer)},n.compare=function(a,b){if(!n.isBuffer(a)||!n.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=n.allocUnsafe(e),o=0;for(i=0;i<t.length;++i){var l=t[i];if(!n.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(r,o),o+=l.length}return r},n.byteLength=w,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)E(this,i,i+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)E(this,i,i+3),E(this,i+1,i+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)E(this,i,i+7),E(this,i+1,i+6),E(this,i+2,i+5),E(this,i+3,i+4);return this},n.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):A.apply(this,arguments)},n.prototype.equals=function(b){if(!n.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===n.compare(this,b)},n.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t,e,r,o,l){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===o&&(o=0),void 0===l&&(l=this.length),e<0||r>t.length||o<0||l>this.length)throw new RangeError("out of range index");if(o>=l&&e>=r)return 0;if(o>=l)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(l>>>=0)-(o>>>=0),d=(r>>>=0)-(e>>>=0),m=Math.min(c,d),h=this.slice(o,l),f=t.slice(e,r),i=0;i<m;++i)if(h[i]!==f[i]){c=h[i],d=f[i];break}return c<d?-1:d<c?1:0},n.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},n.prototype.indexOf=function(t,e,n){return M(this,t,e,n,!0)},n.prototype.lastIndexOf=function(t,e,n){return M(this,t,e,n,!1)},n.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var l=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return L(this,t,e,n);case"base64":return R(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(t,e){var r,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),n.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=n.prototype;else{var l=e-t;r=new n(l,void 0);for(var i=0;i<l;++i)r[i]=this[i+t]}return r},n.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},n.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},n.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},n.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},n.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},n.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),l.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),l.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),l.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),l.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||j(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},n.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||j(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},n.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):H(this,t,e,!0),e+2},n.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):H(this,t,e,!1),e+2},n.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},n.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},n.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);j(this,t,e,n,o-1,-o)}var i=0,l=1,sub=0;for(this[e]=255&t;++i<n&&(l*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/l>>0)-sub&255;return e+n},n.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);j(this,t,e,n,o-1,-o)}var i=n-1,l=1,sub=0;for(this[e+i]=255&t;--i>=0&&(l*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/l>>0)-sub&255;return e+n},n.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):H(this,t,e,!0),e+2},n.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):H(this,t,e,!1),e+2},n.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},n.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},n.prototype.writeFloatLE=function(t,e,n){return V(this,t,e,!0,n)},n.prototype.writeFloatBE=function(t,e,n){return V(this,t,e,!1,n)},n.prototype.writeDoubleLE=function(t,e,n){return G(this,t,e,!0,n)},n.prototype.writeDoubleBE=function(t,e,n){return G(this,t,e,!1,n)},n.prototype.copy=function(t,e,r,o){if(r||(r=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-r&&(o=t.length-e+r);var i,l=o-r;if(this===t&&r<e&&e<o)for(i=l-1;i>=0;--i)t[i+e]=this[i+r];else if(l<1e3||!n.TYPED_ARRAY_SUPPORT)for(i=0;i<l;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+l),e);return l},n.prototype.fill=function(t,e,r,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!n.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var l=n.isBuffer(t)?t:X(new n(t,o).toString()),c=l.length;for(i=0;i<r-e;++i)this[i+e]=l[i%c]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function X(t,e){var n;e=e||1/0;for(var r=t.length,o=null,l=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&l.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&l.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&l.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&l.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;l.push(n)}else if(n<2048){if((e-=2)<0)break;l.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;l.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;l.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return l}function Y(t){return o.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"base64-js":3,buffer:6,ieee754:29,isarray:35}],7:[function(t,e,n){!function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var n,r;return(e=e||{}).bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()},{}],8:[function(t,e,n){function r(){var t;try{t=n.storage.debug}catch(t){}return t}(n=e.exports=t("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" "),!e)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,o=0;return t[0].replace(/%[a-z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,n),t},n.save=function(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}},n.load=r,n.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(r())},{"./debug":9}],9:[function(t,e,n){(n=e.exports=function(t){function e(){}function r(){var t=r;null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=o());var e=Array.prototype.slice.call(arguments);e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&(e=["%o"].concat(e));var l=0;e[0]=e[0].replace(/%([a-z%])/g,(function(r,o){if("%%"===r)return r;l++;var c=n.formatters[o];if("function"==typeof c){var d=e[l];r=c.call(t,d),e.splice(l,1),l--}return r})),"function"==typeof n.formatArgs&&(e=n.formatArgs.apply(t,e));var c=r.log||n.log||console.log.bind(console);c.apply(t,e)}e.enabled=!1,r.enabled=!0;var l=n.enabled(t)?r:e;return l.namespace=t,l}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){n.enable("")},n.enable=function(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&("-"===(t=e[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))},n.enabled=function(t){var i,e;for(i=0,e=n.skips.length;i<e;i++)if(n.skips[i].test(t))return!1;for(i=0,e=n.names.length;i<e;i++)if(n.names[i].test(t))return!0;return!1},n.names=[],n.skips=[],n.formatters={};var r=0;function o(){return n.colors[r++%n.colors.length]}},{}],10:[function(t,e,n){"use strict";var r=t("is-obj"),o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(t){if(null==t)throw new TypeError("Sources cannot be null or undefined");return Object(t)}function d(t,e,n){var l=e[n];if(null!=l){if(o.call(t,n)&&(void 0===t[n]||null===t[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");o.call(t,n)&&r(l)?t[n]=m(Object(t[n]),e[n]):t[n]=l}}function m(t,e){if(t===e)return t;for(var n in e=Object(e))o.call(e,n)&&d(t,e,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),i=0;i<r.length;i++)l.call(e,r[i])&&d(t,e,r[i]);return t}e.exports=function(t){t=c(t);for(var s=1;s<arguments.length;s++)m(t,arguments[s]);return t}},{"is-obj":34}],11:[function(t,e,n){"use strict";var r=t("object-keys"),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),l=Object.prototype.toString,c=Array.prototype.concat,d=Object.defineProperty,m=d&&function(){var t={};try{for(var e in d(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(object,t,e,n){var r;(!(t in object)||"function"==typeof(r=n)&&"[object Function]"===l.call(r)&&n())&&(m?d(object,t,{configurable:!0,enumerable:!1,value:e,writable:!0}):object[t]=e)},f=function(object,map){var t=arguments.length>2?arguments[2]:{},e=r(map);o&&(e=c.call(e,Object.getOwnPropertySymbols(map)));for(var i=0;i<e.length;i+=1)h(object,e[i],map[e[i]],t[e[i]])};f.supportsDescriptors=!!m,e.exports=f},{"object-keys":41}],12:[function(t,n,r){!function(t,n,r,i){"use strict";function o(t,e){for(var n=0,r=t.length;n<r;n++)y(t[n],e)}function l(t){return function(e){et(e)&&(y(e,t),o(e.querySelectorAll(N),t))}}function c(t){var e=nt.call(t,"is"),n=t.nodeName.toUpperCase(),r=j.call(b,e?O+e.toUpperCase():D+n);return e&&-1<r&&!d(n,e)?-1:r}function d(t,e){return-1<N.indexOf(t+'[is="'+e+'"]')}function m(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target;ft&&(!i||i===e)&&e.attributeChangedCallback&&"style"!==r&&t.prevValue!==t.newValue&&e.attributeChangedCallback(r,n===t[C]?null:t.prevValue,n===t[R]?null:t.newValue)}function h(t){var e=l(t);return function(t){w.push(e,t.target)}}function f(t){ut&&(ut=!1,t.currentTarget.removeEventListener(p,f)),o((t.target||n).querySelectorAll(N),t.detail===u?u:S),tt&&function(){for(var t,e=0,n=it.length;e<n;e++)t=it[e],F.contains(t)||(n--,it.splice(e--,1),y(t,u))}()}function v(t,e){var n=this;at.call(n,t,e),A.call(n,{target:n})}function dt(t,e){Z(t,e),T?T.observe(t,pt):(ht&&(t.setAttribute=v,t[s]=M(t),t.addEventListener(P,A)),t.addEventListener(k,m)),t.createdCallback&&ft&&(t.created=!0,t.createdCallback(),t.created=!1)}function x(t){throw new Error("A "+t+" type is already registered")}function y(t,e){var n,r=c(t);-1<r&&(rt(t,B[r]),r=0,e!==S||t[S]?e===u&&!t[u]&&(t[S]=!1,t[u]=!0,r=1):(t[u]=!1,t[S]=!0,r=1,tt&&j.call(it,t)<0&&it.push(t)),r&&(n=t[e+"Callback"])&&n.call(t))}if(!(i in n)){var w,A,E,M,T,rt,_,s="__"+i+(1e5*Math.random()>>0),S="attached",u="detached",a="extends",C="ADDITION",L="MODIFICATION",R="REMOVAL",k="DOMAttrModified",p="DOMContentLoaded",P="DOMSubtreeModified",D="<",O="=",g=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,I=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],b=[],B=[],N="",F=n.documentElement,j=b.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},H=r.prototype,U=H.hasOwnProperty,z=H.isPrototypeOf,V=r.defineProperty,G=r.getOwnPropertyDescriptor,W=r.getOwnPropertyNames,X=r.getPrototypeOf,Y=r.setPrototypeOf,K=!!r.__proto__,Q=r.create||function t(e){return e?(t.prototype=e,new t):this},Z=Y||(K?function(t,e){return t.__proto__=e,t}:W&&G?function(){function t(t,e){for(var n,r=W(e),i=0,s=r.length;i<s;i++)n=r[i],U.call(t,n)||V(t,n,G(e,n))}return function(e,n){do{t(e,n)}while((n=X(n))&&!z.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),J=t.MutationObserver||t.WebKitMutationObserver,$=(t.HTMLElement||t.Element||t.Node).prototype,tt=!z.call($,F),et=tt?function(t){return 1===t.nodeType}:function(t){return z.call($,t)},it=tt&&[],q=$.cloneNode,nt=$.getAttribute,at=$.setAttribute,ot=$.removeAttribute,st=n.createElement,pt=J&&{attributes:!0,characterData:!0,attributeOldValue:!0},lt=J||function(t){ht=!1,F.removeEventListener(k,lt)},ct=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},mt=!1,ht=!0,ut=!0,ft=!0;Y||K?(rt=function(t,e){z.call(e,t)||dt(t,e)},_=dt):_=rt=function(t,e){t[s]||(t[s]=r(!0),dt(t,e))},tt?(ht=!1,function(){var t=G($,"addEventListener"),n=t.value,r=function(t){var e=new CustomEvent(k,{bubbles:!0});e.attrName=t,e.prevValue=nt.call(this,t),e.newValue=null,e[R]=e.attrChange=2,ot.call(this,t),this.dispatchEvent(e)},i=function(t,n){var r=this.hasAttribute(t),i=r&&nt.call(this,t);e=new CustomEvent(k,{bubbles:!0}),at.call(this,t,n),e.attrName=t,e.prevValue=r?i:null,e.newValue=n,r?e[L]=e.attrChange=1:e[C]=e.attrChange=0,this.dispatchEvent(e)},o=function(t){var i,e=t.currentTarget,n=e[s],r=t.propertyName;n.hasOwnProperty(r)&&(n=n[r],(i=new CustomEvent(k,{bubbles:!0})).attrName=n.name,i.prevValue=n.value||null,i.newValue=n.value=e[r]||null,null==i.prevValue?i[C]=i.attrChange=0:i[L]=i.attrChange=1,e.dispatchEvent(i))};t.value=function(t,e,u){t===k&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[s]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=r,n.call(this,"propertychange",o)),n.call(this,t,e,u)},V($,"addEventListener",t)}()):J||(F.addEventListener(k,lt),F.setAttribute(s,1),F.removeAttribute(s),ht&&(A=function(t){var e,n,i,r=this;if(r===t.target){for(i in e=r[s],r[s]=n=M(r),n){if(!(i in e))return E(0,r,i,e[i],n[i],C);if(n[i]!==e[i])return E(1,r,i,e[i],n[i],L)}for(i in e)if(!(i in n))return E(2,r,i,e[i],n[i],R)}},E=function(t,e,n,r,i,s){var o={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};o[s]=t,m(o)},M=function(t){for(var e,n,r={},i=t.attributes,s=0,o=i.length;s<o;s++)"setAttribute"!==(n=(e=i[s]).name)&&(r[n]=e.value);return r})),n[i]=function(t,e){if(r=t.toUpperCase(),mt||(mt=!0,J?(T=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new J((function(r){for(var i,s,o,u=0,a=r.length;u<a;u++)"childList"===(i=r[u]).type?(n(i.addedNodes,t),n(i.removedNodes,e)):(s=i.target,ft&&s.attributeChangedCallback&&"style"!==i.attributeName&&(o=nt.call(s,i.attributeName))!==i.oldValue&&s.attributeChangedCallback(i.attributeName,i.oldValue,o))}))}(l(S),l(u))).observe(n,{childList:!0,subtree:!0}):(w=[],ct((function t(){for(;w.length;)w.shift().call(null,w.shift());ct(t)})),n.addEventListener("DOMNodeInserted",h(S)),n.addEventListener("DOMNodeRemoved",h(u))),n.addEventListener(p,f),n.addEventListener("readystatechange",f),n.createElement=function(t,e){var r=st.apply(n,arguments),i=""+t,s=j.call(b,(e?O:D)+(e||i).toUpperCase()),o=-1<s;return e&&(r.setAttribute("is",e=e.toLowerCase()),o&&(o=d(i.toUpperCase(),e))),ft=!n.createElement.innerHTMLHelper,o&&_(r,B[s]),r},$.cloneNode=function(t){var e=q.call(this,!!t),n=c(e);return-1<n&&_(e,B[n]),t&&function(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],_(e,B[c(e)])}(e.querySelectorAll(N)),e}),-2<j.call(b,O+r)+j.call(b,D+r)&&x(t),!g.test(r)||-1<j.call(I,r))throw new Error("The type "+t+" is invalid");var r,m,i=function(){return v?n.createElement(y,r):n.createElement(y)},s=e||H,v=U.call(s,a),y=v?e[a].toUpperCase():r;return v&&-1<j.call(b,D+y)&&x(y),m=b.push((v?O:D)+r)-1,N=N.concat(N.length?",":"",v?y+'[is="'+t.toLowerCase()+'"]':y),i.prototype=B[m]=U.call(s,"prototype")?s.prototype:Q($),o(n.querySelectorAll(N),S),i}}}(window,document,Object,"registerElement")},{}],13:[function(t,e,n){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],14:[function(t,e,n){"use strict";var r=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,l=Object.getPrototypeOf||function(t){return t.__proto__},c=void 0,d="undefined"==typeof Uint8Array?void 0:l(Uint8Array),m={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":o?l([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":c&&o&&Symbol.asyncIterator?c[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":o?l(l([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&o?l((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&o?l((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":o?l(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":o?Symbol:void 0,"$ %SymbolPrototype%":o?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":d,"$ %TypedArrayPrototype%":d?d.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};e.exports=function(t,e){if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+t;if(!(n in m))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===m[n]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return m[n]}},{}],15:[function(t,e,n){"use strict";var r=t("./GetIntrinsic"),o=r("%Object%"),l=r("%TypeError%"),c=r("%String%"),d=t("./helpers/assertRecord"),m=t("./helpers/isNaN"),h=t("./helpers/isFinite"),f=t("./helpers/sign"),v=t("./helpers/mod"),x=t("is-callable"),y=t("es-to-primitive/es5"),w=t("has"),A={ToPrimitive:y,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return m(e)?0:0!==e&&h(e)?f(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(m(e)||0===e||!h(e))return 0;var n=f(e)*Math.floor(Math.abs(e));return v(n,65536)},ToString:function(t){return c(t)},ToObject:function(t){return this.CheckObjectCoercible(t),o(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new l(e||"Cannot call method on "+t);return t},IsCallable:x,SameValue:function(t,e){return t===e?0!==t||1/t==1/e:m(t)&&m(e)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(w(t,n)&&!e[n])return!1;var r=w(t,"[[Value]]"),o=w(t,"[[Get]]")||w(t,"[[Set]]");if(r&&o)throw new l("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(d(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(d(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(d(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(d(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new l("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new l("ToPropertyDescriptor requires an object");var desc={};if(w(t,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(desc["[[Value]]"]=t.value),w(t,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var e=t.get;if(void 0!==e&&!this.IsCallable(e))throw new TypeError("getter must be a function");desc["[[Get]]"]=e}if(w(t,"set")){var n=t.set;if(void 0!==n&&!this.IsCallable(n))throw new l("setter must be a function");desc["[[Set]]"]=n}if((w(desc,"[[Get]]")||w(desc,"[[Set]]"))&&(w(desc,"[[Value]]")||w(desc,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}};e.exports=A},{"./GetIntrinsic":14,"./helpers/assertRecord":16,"./helpers/isFinite":17,"./helpers/isNaN":18,"./helpers/mod":19,"./helpers/sign":20,"es-to-primitive/es5":21,has:28,"is-callable":32}],16:[function(t,e,n){"use strict";var r=t("../GetIntrinsic"),o=r("%TypeError%"),l=r("%SyntaxError%"),c=t("has"),d={"Property Descriptor":function(t,e){if("Object"!==t.Type(e))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(c(e,r)&&!n[r])return!1;var l=c(e,"[[Value]]"),d=c(e,"[[Get]]")||c(e,"[[Set]]");if(l&&d)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(t,e,n,r){var c=d[e];if("function"!=typeof c)throw new l("unknown record type: "+e);if(!c(t,r))throw new o(n+" must be a "+e);console.log(c(t,r),r)}},{"../GetIntrinsic":14,has:28}],17:[function(t,e,n){var r=Number.isNaN||function(a){return a!=a};e.exports=Number.isFinite||function(t){return"number"==typeof t&&!r(t)&&t!==1/0&&t!==-1/0}},{}],18:[function(t,e,n){e.exports=Number.isNaN||function(a){return a!=a}},{}],19:[function(t,e,n){e.exports=function(t,e){var n=t%e;return Math.floor(n>=0?n:n+e)}},{}],20:[function(t,e,n){e.exports=function(t){return t>=0?1:-1}},{}],21:[function(t,e,n){"use strict";var r=Object.prototype.toString,o=t("./helpers/isPrimitive"),l=t("is-callable"),c=function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===r.call(t)?String:Number)===String||e===Number){var n,i,c=e===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<c.length;++i)if(l(t[c[i]])&&(n=t[c[i]](),o(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(input){return o(input)?input:arguments.length>1?c(input,arguments[1]):c(input)}},{"./helpers/isPrimitive":22,"is-callable":32}],22:[function(t,e,n){e.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],23:[function(t,e,n){var r=t("dtype");e.exports=function(data,output,t){if(!data)throw new TypeError("must specify data as first parameter");if(t=0|+(t||0),Array.isArray(data)&&data[0]&&"number"==typeof data[0][0]){var i,e,n,o,l=data[0].length,c=data.length*l;output&&"string"!=typeof output||(output=new(r(output||"float32"))(c+t));var d=output.length-t;if(c!==d)throw new Error("source length "+c+" ("+l+"x"+data.length+") does not match destination length "+d);for(i=0,n=t;i<data.length;i++)for(e=0;e<l;e++)output[n++]=null===data[i][e]?NaN:data[i][e]}else if(output&&"string"!=typeof output)output.set(data,t);else{var m=r(output||"float32");if(Array.isArray(data)||"array"===output)for(output=new m(data.length+t),i=0,n=t,o=output.length;n<o;n++,i++)output[n]=null===data[i]?NaN:data[i];else 0===t?output=new m(data):(output=new m(data.length+t)).set(data,t)}return output}},{dtype:13}],24:[function(t,e,n){"use strict";var r=t("is-callable"),o=Object.prototype.toString,l=Object.prototype.hasOwnProperty,c=function(t,e,n){for(var i=0,r=t.length;i<r;i++)l.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))},d=function(t,e,n){for(var i=0,r=t.length;i<r;i++)null==n?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)},m=function(object,t,e){for(var n in object)l.call(object,n)&&(null==e?t(object[n],n,object):t.call(e,object[n],n,object))};e.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=n),"[object Array]"===o.call(t)?c(t,e,l):"string"==typeof t?d(t,e,l):m(t,e,l)}},{"is-callable":32}],25:[function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,l=Object.prototype.toString;e.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==l.call(e))throw new TypeError(r+e);for(var n,c=o.call(arguments,1),d=function(){if(this instanceof n){var r=e.apply(this,c.concat(o.call(arguments)));return Object(r)===r?r:this}return e.apply(t,c.concat(o.call(arguments)))},m=Math.max(0,e.length-c.length),h=[],i=0;i<m;i++)h.push("$"+i);if(n=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(d),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},{}],26:[function(t,e,n){"use strict";var r=t("./implementation");e.exports=Function.prototype.bind||r},{"./implementation":25}],27:[function(t,e,r){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,n){"use strict";var r=t("function-bind");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":26}],29:[function(t,e,n){n.read=function(t,e,n,r,o){var l,c,d=8*o-r-1,m=(1<<d)-1,h=m>>1,f=-7,i=n?o-1:0,v=n?-1:1,s=t[e+i];for(i+=v,l=s&(1<<-f)-1,s>>=-f,f+=d;f>0;l=256*l+t[e+i],i+=v,f-=8);for(c=l&(1<<-f)-1,l>>=-f,f+=r;f>0;c=256*c+t[e+i],i+=v,f-=8);if(0===l)l=1-h;else{if(l===m)return c?NaN:1/0*(s?-1:1);c+=Math.pow(2,r),l-=h}return(s?-1:1)*c*Math.pow(2,l-r)},n.write=function(t,e,n,r,o,l){var c,d,m,h=8*l-o-1,f=(1<<h)-1,v=f>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=r?0:l-1,x=r?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=f):(c=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-c))<1&&(c--,m*=2),(e+=c+v>=1?rt/m:rt*Math.pow(2,1-v))*m>=2&&(c++,m/=2),c+v>=f?(d=0,c=f):c+v>=1?(d=(e*m-1)*Math.pow(2,o),c+=v):(d=e*Math.pow(2,v-1)*Math.pow(2,o),c=0));o>=8;t[n+i]=255&d,i+=x,d/=256,o-=8);for(c=c<<o|d,h+=o;h>0;t[n+i]=255&c,i+=x,c/=256,h-=8);t[n+i-x]|=128*s}},{}],30:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},{}],31:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],32:[function(t,e,n){"use strict";var r=Function.prototype.toString,o=/^\s*class\b/,l=function(t){try{var e=r.call(t);return o.test(e)}catch(t){return!1}},c=Object.prototype.toString,d="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(d)return function(t){try{return!l(t)&&(r.call(t),!0)}catch(t){return!1}}(t);if(l(t))return!1;var e=c.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},{}],33:[function(t,e,n){e.exports=function(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},{}],34:[function(t,e,n){"use strict";e.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},{}],35:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],36:[function(t,e,n){var r=t("word-wrapper"),o=t("xtend"),l=t("as-number"),c=["x","e","a","o","n","s","r","c","u","m","v","w","z"],d=["m","w"],m=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],h="\t".charCodeAt(0),f=" ".charCodeAt(0);function v(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function x(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function y(t,e){if(!t.chars||0===t.chars.length)return null;var n=A(t.chars,e);return n>=0?t.chars[n]:null}function w(t,e,n){if(!t.kernings||0===t.kernings.length)return 0;for(var table=t.kernings,i=0;i<table.length;i++){var r=table[i];if(r.first===e&&r.second===n)return r.amount}return 0}function A(t,e,n){for(var i=n=n||0;i<t.length;i++)if(t[i].id===e)return i;return-1}e.exports=function(t){return new v(t)},v.prototype.update=function(t){if(t=o({measure:this._measure},t),this._opt=t,this._opt.tabSize=l(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,text=t.text||"",n=t.font;this._setupSpaceGlyphs(n);var d=r.lines(text,t),h=t.width||0;e.length=0;var f=d.reduce((function(t,line){return Math.max(t,line.width,h)}),0),v=0,x=0,y=l(t.lineHeight,n.common.lineHeight),E=n.common.base,M=y-E,T=t.letterSpacing||0,_=y*d.length-M,S=function(t){return"center"===t?1:"right"===t?2:0}(this._opt.align);x-=_,this._width=f,this._height=_,this._descender=y-E,this._baseline=E,this._xHeight=function(t){for(var i=0;i<c.length;i++){var e=c[i].charCodeAt(0),n=A(t.chars,e);if(n>=0)return t.chars[n].height}return 0}(n),this._capHeight=function(t){for(var i=0;i<m.length;i++){var e=m[i].charCodeAt(0),n=A(t.chars,e);if(n>=0)return t.chars[n].height}return 0}(n),this._lineHeight=y,this._ascender=y-M-this._xHeight;var C=this;d.forEach((function(line,t){for(var r,o=line.start,l=line.end,c=line.width,i=o;i<l;i++){var d=text.charCodeAt(i),glyph=C.getGlyph(n,d);if(glyph){r&&(v+=w(n,r.id,glyph.id));var m=v;1===S?m+=(f-c)/2:2===S&&(m+=f-c),e.push({position:[m,x],data:glyph,index:i,line:t}),v+=glyph.xadvance+T,r=glyph}}x+=y,v=0})),this._linesTotal=d.length},v.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=y(t,f)||function(t){for(var i=0;i<d.length;i++){var e=d[i].charCodeAt(0),n=A(t.chars,e);if(n>=0)return t.chars[n]}return 0}(t)||t.chars[0],n=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=o(e,{x:0,y:0,xadvance:n,id:h,xoffset:0,yoffset:0,width:0,height:0})}},v.prototype.getGlyph=function(t,e){var glyph=y(t,e);return glyph||(e===h?this._fallbackTabGlyph:e===f?this._fallbackSpaceGlyph:null)},v.prototype.computeMetrics=function(text,t,e,n){var r,o=this._opt.letterSpacing||0,l=this._opt.font,c=0,d=0,m=0;if(!l.chars||0===l.chars.length)return{start:t,end:t,width:0};e=Math.min(text.length,e);for(var i=t;i<e;i++){var glyph,h=text.charCodeAt(i);if(glyph=this.getGlyph(l,h)){glyph.xoffset;var f=(c+=r?w(l,r.id,glyph.id):0)+glyph.xadvance+o,v=c+glyph.width;if(v>=n||f>=n)break;c=f,d=v,r=glyph}m++}return r&&(d+=r.xoffset),{start:t,end:t+m,width:d}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(t){Object.defineProperty(v.prototype,t,{get:x(t),configurable:!0})}))},{"as-number":2,"word-wrapper":68,xtend:71}],37:[function(t,e,n){(function(n){var r=t("xhr"),o=function(){},l=t("parse-bmfont-ascii"),c=t("parse-bmfont-xml"),d=t("parse-bmfont-binary"),m=t("./lib/is-binary"),h=t("xtend"),f=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(t,e){e="function"==typeof e?e:o,"string"==typeof t?t={uri:t}:t||(t={}),t.binary&&(t=function(t){if(f)return h(t,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),h({xhr:e},t)}(t)),r(t,(function(r,h,body){if(r)return e(r);if(!/^2/.test(h.statusCode))return e(new Error("http status code: "+h.statusCode));if(!body)return e(new Error("no body result"));var f,v,x=!1;if(f=body,"[object ArrayBuffer]"===Object.prototype.toString.call(f)){var y=new Uint8Array(body);body=new n(y,"binary")}m(body)&&(x=!0,"string"==typeof body&&(body=new n(body,"binary"))),x||(n.isBuffer(body)&&(body=body.toString(t.encoding)),body=body.trim());try{var w=h.headers["content-type"];v=x?d(body):/json/.test(w)||"{"===body.charAt(0)?JSON.parse(body):/xml/.test(w)||"<"===body.charAt(0)?c(body):l(body)}catch(t){e(new Error("error parsing font "+t.message)),e=o}e(null,v)}))}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":38,buffer:6,"parse-bmfont-ascii":43,"parse-bmfont-binary":44,"parse-bmfont-xml":45,xhr:69,xtend:71}],38:[function(t,e,n){(function(n){var r=t("buffer-equal"),o=new n([66,77,70,3]);e.exports=function(t){return"string"==typeof t?"BMF"===t.substring(0,3):t.length>4&&r(t.slice(0,4),o)}}).call(this,t("buffer").Buffer)},{buffer:6,"buffer-equal":5}],39:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,source){for(var e,n,d=c(t),s=1;s<arguments.length;s++){for(var m in e=Object(arguments[s]))o.call(e,m)&&(d[m]=e[m]);if(r){n=r(e);for(var i=0;i<n.length;i++)l.call(e,n[i])&&(d[n[i]]=e[n[i]])}}return d}},{}],40:[function(t,e,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,l=Object.prototype.toString,c=t("./isArguments"),d=Object.prototype.propertyIsEnumerable,m=!d.call({toString:null},"toString"),h=d.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=function(t){var e=t.constructor;return e&&e.prototype===t},x={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!x["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{v(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(object){var t=null!==object&&"object"==typeof object,e="[object Function]"===l.call(object),n=c(object),r=t&&"[object String]"===l.call(object),d=[];if(!t&&!e&&!n)throw new TypeError("Object.keys called on a non-object");var x=h&&e;if(r&&object.length>0&&!o.call(object,0))for(var i=0;i<object.length;++i)d.push(String(i));if(n&&object.length>0)for(var w=0;w<object.length;++w)d.push(String(w));else for(var A in object)x&&"prototype"===A||!o.call(object,A)||d.push(String(A));if(m)for(var E=function(t){if("undefined"==typeof window||!y)return v(t);try{return v(t)}catch(t){return!1}}(object),M=0;M<f.length;++M)E&&"constructor"===f[M]||!o.call(object,f[M])||d.push(f[M]);return d}}e.exports=r},{"./isArguments":42}],41:[function(t,e,n){"use strict";var r=Array.prototype.slice,o=t("./isArguments"),l=Object.keys,c=l?function(t){return l(t)}:t("./implementation"),d=Object.keys;c.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(object){return o(object)?d(r.call(object)):d(object)}):Object.keys=c,Object.keys||c},e.exports=c},{"./implementation":40,"./isArguments":42}],42:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},{}],43:[function(t,e,n){function r(line,t){if(!(line=line.replace(/\t+/g," ").trim()))return null;var e=line.indexOf(" ");if(-1===e)throw new Error("no named row at line "+t);var n=line.substring(0,e);line=(line=(line=(line=line.substring(e+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var data=[],i=0;i<line.length;i++){var dt=line[i];0===i?data.push({key:dt[0],data:""}):i===line.length-1?data[data.length-1].data=o(dt[0]):(data[data.length-1].data=o(dt[0]),data.push({key:dt[1],data:""}))}var r={key:n,data:{}};return data.forEach((function(t){r.data[t.key]=t.data})),r}function o(data){return data&&0!==data.length?0===data.indexOf('"')||0===data.indexOf("'")?data.substring(1,data.length-1):-1!==data.indexOf(",")?function(data){return data.split(",").map((function(t){return parseInt(t,10)}))}(data):parseInt(data,10):""}e.exports=function(data){if(!data)throw new Error("no data provided");var output={pages:[],chars:[],kernings:[]},t=(data=data.toString().trim()).split(/\r\n?|\n/g);if(0===t.length)throw new Error("no data in BMFont file");for(var i=0;i<t.length;i++){var e=r(t[i],i);if(e)if("page"===e.key){if("number"!=typeof e.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof e.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');output.pages[e.data.id]=e.data.file}else"chars"===e.key||"kernings"===e.key||("char"===e.key?output.chars.push(e.data):"kerning"===e.key?output.kernings.push(e.data):output[e.key]=e.data)}return output}},{}],44:[function(t,e,n){var r=[66,77,70];function o(t,e,i){if(i>e.length-1)return 0;var n=e.readUInt8(i++),r=e.readInt32LE(i);switch(i+=4,n){case 1:t.info=function(t,i){var e={};e.size=t.readInt16LE(i);var n=t.readUInt8(i+2);return e.smooth=n>>7&1,e.unicode=n>>6&1,e.italic=n>>5&1,e.bold=n>>4&1,n>>3&1&&(e.fixedHeight=1),e.charset=t.readUInt8(i+3)||"",e.stretchH=t.readUInt16LE(i+4),e.aa=t.readUInt8(i+6),e.padding=[t.readInt8(i+7),t.readInt8(i+8),t.readInt8(i+9),t.readInt8(i+10)],e.spacing=[t.readInt8(i+11),t.readInt8(i+12)],e.outline=t.readUInt8(i+13),e.face=function(t,e){return l(t,e).toString("utf8")}(t,i+14),e}(e,i);break;case 2:t.common=function(t,i){var e={};return e.lineHeight=t.readUInt16LE(i),e.base=t.readUInt16LE(i+2),e.scaleW=t.readUInt16LE(i+4),e.scaleH=t.readUInt16LE(i+6),e.pages=t.readUInt16LE(i+8),t.readUInt8(i+10),e.packed=0,e.alphaChnl=t.readUInt8(i+11),e.redChnl=t.readUInt8(i+12),e.greenChnl=t.readUInt8(i+13),e.blueChnl=t.readUInt8(i+14),e}(e,i);break;case 3:t.pages=function(t,i,e){for(var n=[],text=l(t,i),r=text.length+1,o=e/r,c=0;c<o;c++)n[c]=t.slice(i,i+text.length).toString("utf8"),i+=r;return n}(e,i,r);break;case 4:t.chars=function(t,i,e){for(var n=[],r=e/20,o=0;o<r;o++){var l={},c=20*o;l.id=t.readUInt32LE(i+0+c),l.x=t.readUInt16LE(i+4+c),l.y=t.readUInt16LE(i+6+c),l.width=t.readUInt16LE(i+8+c),l.height=t.readUInt16LE(i+10+c),l.xoffset=t.readInt16LE(i+12+c),l.yoffset=t.readInt16LE(i+14+c),l.xadvance=t.readInt16LE(i+16+c),l.page=t.readUInt8(i+18+c),l.chnl=t.readUInt8(i+19+c),n[o]=l}return n}(e,i,r);break;case 5:t.kernings=function(t,i,e){for(var n=[],r=e/10,o=0;o<r;o++){var l={},c=10*o;l.first=t.readUInt32LE(i+0+c),l.second=t.readUInt32LE(i+4+c),l.amount=t.readInt16LE(i+8+c),n[o]=l}return n}(e,i,r)}return 5+r}function l(t,e){for(var n=e;n<t.length&&0!==t[n];n++);return t.slice(e,n)}e.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every((function(e,i){return t.readUInt8(i)===e})))throw new Error("BMFont missing BMF byte header");var i=3;if(t.readUInt8(i++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var e={kernings:[],chars:[]},b=0;b<5;b++)i+=o(e,t,i);return e}},{}],45:[function(t,e,n){var r=t("./parse-attribs"),o=t("xml-parse-from-string"),l={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function c(element){return function(element){for(var t=[],i=0;i<element.attributes.length;i++)t.push(element.attributes[i]);return t}(element).reduce((function(t,e){var n;return t[(n=e.nodeName,l[n.toLowerCase()]||n)]=e.nodeValue,t}),{})}e.exports=function(data){data=data.toString();var t=o(data),output={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var element=t.getElementsByTagName(e)[0];element&&(output[e]=r(c(element)))}));var e=t.getElementsByTagName("pages")[0];if(!e)throw new Error("malformed file -- no <pages> element");for(var n=e.getElementsByTagName("page"),i=0;i<n.length;i++){var p=n[i],l=parseInt(p.getAttribute("id"),10),d=p.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!d)throw new Error('malformed file -- needs page "file" attribute');output.pages[parseInt(l,10)]=d}return["chars","kernings"].forEach((function(e){var element=t.getElementsByTagName(e)[0];if(element)for(var n=e.substring(0,e.length-1),o=element.getElementsByTagName(n),i=0;i<o.length;i++){var l=o[i];output[e].push(r(c(l)))}})),output}},{"./parse-attribs":46,"xml-parse-from-string":70}],46:[function(t,e,n){e.exports=function(t){for(var e in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?t[e].split(",").map((function(t){return parseInt(t,10)})):parseInt(t[e],10));return t}},{}],47:[function(t,e,n){var r=t("string.prototype.trim"),o=t("for-each");e.exports=function(t){if(!t)return{};var e={};return o(r(t).split("\n"),(function(t){var n,o=t.indexOf(":"),l=r(t.slice(0,o)).toLowerCase(),c=r(t.slice(o+1));void 0===e[l]?e[l]=c:(n=e[l],"[object Array]"===Object.prototype.toString.call(n)?e[l].push(c):e[l]=[e[l],c])})),e}},{"for-each":24,"string.prototype.trim":53}],48:[function(t,e,r){(function(t){var n=t.performance||{},r=function(){for(var t=["now","webkitNow","msNow","mozNow","oNow"];t.length;){var e=t.shift();if(e in n)return n[e].bind(n)}var r=Date.now||function(){return(new Date).getTime()},o=(n.timing||{}).navigationStart||r();return function(){return r()-o}}();r.performanceNow=n.now,r.noConflict=function(){n.now=r.performanceNow},r.conflict=function(){n.now=r},r.conflict(),e.exports=r}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){var r,o,l=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function m(t){if(r===setTimeout)return setTimeout(t,0);if((r===c||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:c}catch(t){r=c}try{o="function"==typeof clearTimeout?clearTimeout:d}catch(t){o=d}}();var h,f=[],v=!1,x=-1;function y(){v&&h&&(v=!1,h.length?f=h.concat(f):x=-1,f.length&&w())}function w(){if(!v){var t=m(y);v=!0;for(var e=f.length;e;){for(h=f,f=[];++x<e;)h&&h[x].run();x=-1,e=f.length}h=null,v=!1,function(marker){if(o===clearTimeout)return clearTimeout(marker);if((o===d||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(marker);try{o(marker)}catch(t){try{return o.call(null,marker)}catch(t){return o.call(this,marker)}}}(t)}}function A(t,e){this.fun=t,this.array=e}function E(){}l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new A(t,e)),1!==f.length||v||m(w)},A.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=E,l.addListener=E,l.once=E,l.off=E,l.removeListener=E,l.removeAllListeners=E,l.emit=E,l.prependListener=E,l.prependOnceListener=E,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],50:[function(t,e,n){(function(t){!function(n){var r=setTimeout,o="function"==typeof t&&t||function(t){r(t,1)};function l(t,e){return function(){t.apply(e,arguments)}}var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function d(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],y(t,l(h,this),l(f,this))}function m(t){var e=this;null!==this._state?o((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void t.reject(e)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function h(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void y(l(e,t),l(h,this),l(f,this))}this._state=!0,this._value=t,v.call(this)}catch(t){f.call(this,t)}}function f(t){this._state=!1,this._value=t,v.call(this)}function v(){for(var i=0,t=this._deferreds.length;i<t;i++)m.call(this,this._deferreds[i]);this._deferreds=null}function x(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function y(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(t){if(r)return;r=!0,n(t)}}d.prototype.catch=function(t){return this.then(null,t)},d.prototype.then=function(t,e){var n=this;return new d((function(r,o){m.call(n,new x(t,e,r,o))}))},d.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new d((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var c=l.then;if("function"==typeof c)return void c.call(l,(function(t){o(i,t)}),n)}t[i]=l,0==--r&&e(t)}catch(t){n(t)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},d.resolve=function(t){return t&&"object"==typeof t&&t.constructor===d?t:new d((function(e){e(t)}))},d.reject=function(t){return new d((function(e,n){n(t)}))},d.race=function(t){return new d((function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)}))},d._setImmediateFn=function(t){o=t},void 0!==e&&e.exports?e.exports=d:n.Promise||(n.Promise=d)}(this)}).call(this,t("timers").setImmediate)},{timers:66}],51:[function(t,e,n){var r=t("dtype"),o=t("an-array"),l=t("is-buffer"),c=[0,2,3],d=[2,1,3];e.exports=function(t,e){t&&(o(t)||l(t))||(e=t||{},t=null);for(var n="string"==typeof(e="number"==typeof e?{count:e}:e||{}).type?e.type:"uint16",m="number"==typeof e.count?e.count:1,h=e.start||0,f=!1!==e.clockwise?c:d,a=f[0],b=f[1],v=f[2],x=6*m,y=t||new(r(n))(x),i=0,w=0;i<x;i+=6,w+=4){var A=i+h;y[A+0]=w+0,y[A+1]=w+1,y[A+2]=w+2,y[A+3]=w+a,y[A+4]=w+b,y[A+5]=w+v}return y}},{"an-array":1,dtype:13,"is-buffer":31}],52:[function(t,e,n){"use strict";var r=t("function-bind"),o=t("es-abstract/es5"),l=r.call(Function.call,String.prototype.replace),c=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,d=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var t=o.ToString(o.CheckObjectCoercible(this));return l(l(t,c,""),d,"")}},{"es-abstract/es5":15,"function-bind":26}],53:[function(t,e,n){"use strict";var r=t("function-bind"),o=t("define-properties"),l=t("./implementation"),c=t("./polyfill"),d=t("./shim"),m=r.call(Function.call,c());o(m,{getPolyfill:c,implementation:l,shim:d}),e.exports=m},{"./implementation":52,"./polyfill":54,"./shim":55,"define-properties":11,"function-bind":26}],54:[function(t,e,n){"use strict";var r=t("./implementation");e.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:r}},{"./implementation":52}],55:[function(t,e,n){"use strict";var r=t("define-properties"),o=t("./polyfill");e.exports=function(){var t=o();return r(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{"./polyfill":54,"define-properties":11}],56:[function(t,e,n){"use strict";var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},l=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],c={CSS:{},springs:{}};function d(t,e,n){return Math.min(Math.max(t,e),n)}function m(t,text){return t.indexOf(text)>-1}function h(t,e){return t.apply(null,e)}var f=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,v=/^rgb/,x=/^hsl/,y={arr:function(a){return Array.isArray(a)},obj:function(a){return m(Object.prototype.toString.call(a),"Object")},pth:function(a){return y.obj(a)&&a.hasOwnProperty("totalLength")},svg:function(a){return a instanceof SVGElement},inp:function(a){return a instanceof HTMLInputElement},dom:function(a){return a.nodeType||y.svg(a)},str:function(a){return"string"==typeof a},fnc:function(a){return"function"==typeof a},und:function(a){return void 0===a},hex:function(a){return f.test(a)},rgb:function(a){return v.test(a)},hsl:function(a){return x.test(a)},col:function(a){return y.hex(a)||y.rgb(a)||y.hsl(a)},key:function(a){return!r.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&"targets"!==a&&"keyframes"!==a}},w=/\(([^)]+)\)/;function A(t){var e=w.exec(t);return e?e[1].split(",").map((function(p){return parseFloat(p)})):[]}function E(t,e){var n=A(t),r=d(y.und(n[0])?1:n[0],.1,100),o=d(y.und(n[1])?100:n[1],.1,100),l=d(y.und(n[2])?10:n[2],.1,100),m=d(y.und(n[3])?0:n[3],.1,100),h=Math.sqrt(o/r),f=l/(2*Math.sqrt(o*r)),v=f<1?h*Math.sqrt(1-f*f):0,b=f<1?(f*h-m)/v:-m+h;function x(t){var progress=e?e*t/1e3:t;return progress=f<1?Math.exp(-progress*f*h)*(1*Math.cos(v*progress)+b*Math.sin(v*progress)):(1+b*progress)*Math.exp(-progress*h),0===t||1===t?t:1-progress}return e?x:function(){var e=c.springs[t];if(e)return e;for(var n=0,r=0;;)if(1===x(n+=1/6)){if(++r>=16)break}else r=0;var o=n*(1/6)*1e3;return c.springs[t]=o,o}}function M(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var a=d(t,1,10),p=d(e,.1,2);return function(t){return 0===t||1===t?t:-a*Math.pow(2,10*(t-1))*Math.sin((t-1-p/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/p)}}function T(t){return void 0===t&&(t=10),function(e){return Math.round(e*t)*(1/t)}}var _=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function r(r,o,l){return((t(o,l)*r+e(o,l))*r+n(o))*r}function o(r,o,l){return 3*t(o,l)*r*r+2*e(o,l)*r+n(o)}return function(t,e,n,l){if(0<=t&&t<=1&&0<=n&&n<=1){var c=new Float32Array(11);if(t!==e||n!==l)for(var i=0;i<11;++i)c[i]=r(.1*i,t,n);return function(o){return t===e&&n===l||0===o||1===o?o:r(d(o),e,l)}}function d(e){for(var l=0,d=1;10!==d&&c[d]<=e;++d)l+=.1;--d;var m=l+(e-c[d])/(c[d+1]-c[d])*.1,h=o(m,t,n);return h>=.001?function(t,e,n,l){for(var i=0;i<4;++i){var c=o(e,n,l);if(0===c)return e;e-=(r(e,n,l)-t)/c}return e}(e,m,t,n):0===h?m:function(t,e,n,o,l){var c,d,i=0;do{(c=r(d=e+(n-e)/2,o,l)-t)>0?n=d:e=d}while(Math.abs(c)>1e-7&&++i<10);return d}(e,l,l+.1,t,n)}}}(),S=function(){var t=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],M],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(a,p){return function(t){return 1-M(a,p)(1-t)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(a,p){return function(t){return t<.5?M(a,p)(2*t)/2:1-M(a,p)(-2*t+2)/2}}]},n={linear:[.25,.25,.75,.75]};for(var r in e)for(var i=0,o=e[r].length;i<o;i++)n["ease"+r+t[i]]=e[r][i];return n}();function C(t,e){if(y.fnc(t))return t;var n=t.split("(")[0],r=S[n],o=A(t);switch(n){case"spring":return E(t,e);case"cubicBezier":return h(_,o);case"steps":return h(T,o);default:return y.fnc(r)?h(r,o):h(_,r)}}function L(t){try{return document.querySelectorAll(t)}catch(t){return}}var R=[];function k(t,e){for(var n=R,r=t.length,o=arguments.length>=2?arguments[1]:void 0,i=0;i<r;i++)if(i in t){var l=t[i];e.call(o,l,i,t)&&n.push(l)}return(R=t).length=0,n}function P(t,e){e||(e=[]);for(var i=0,n=t.length;i<n;i++){var r=t[i];Array.isArray(r)?P(r,e):e.push(r)}return e}function D(t){return y.arr(t)?t:(y.str(t)&&(t=L(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function O(t,e){return t.some((function(a){return a===e}))}function I(t){var e={};for(var p in t)e[p]=t[p];return e}function B(t,e){var n=I(t);for(var p in t)n[p]=e.hasOwnProperty(p)?e[p]:t[p];return n}function N(t,e){var n=I(t);for(var p in e)n[p]=y.und(t[p])?e[p]:t[p];return n}var F=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,j=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,H=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,U=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,z=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function V(t){return y.rgb(t)?(e=t,(n=F.exec(e))?"rgba("+n[1]+",1)":e):y.hex(t)?function(t){var e=t.replace(j,(function(t,e,g,b){return e+e+g+g+b+b})),n=H.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):y.hsl(t)?function(t){var e,g,b,n=U.exec(t)||z.exec(t),r=parseInt(n[1],10)/360,s=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,a=n[4]||1;function l(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}if(0==s)e=g=b=o;else{var q=o<.5?o*(1+s):o+s-o*s,p=2*o-q;e=l(p,q,r+1/3),g=l(p,q,r),b=l(p,q,r-1/3)}return"rgba("+255*e+","+255*g+","+255*b+","+a+")"}(t):void 0;var e,n}var G=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function W(t){var e=G.exec(t);if(e)return e[2]}function X(t,e){return y.fnc(t)?t(e.target,e.id,e.total):t}function Y(t,e){return t.getAttribute(e)}function K(t,e,n){if(O([n,"deg","rad","turn"],W(e)))return e;var r=c.CSS[e+n];if(!y.und(r))return r;var o=document.createElement(t.tagName),l=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;l.appendChild(o),o.style.position="absolute",o.style.width=100+n;var d=100/o.offsetWidth;l.removeChild(o);var m=d*parseFloat(e);return c.CSS[e+n]=m,m}function Q(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?K(t,o,n):o}}function Z(t,e){return y.dom(t)&&!y.inp(t)&&(Y(t,e)||y.svg(t)&&t[e])?"attribute":y.dom(t)&&O(l,e)?"transform":y.dom(t)&&"transform"!==e&&Q(t,e)?"css":null!=t[e]?"object":void 0}var J=/(\w+)\(([^)]*)\)/g;function $(t){if(y.dom(t)){for(var e,n=t.style.transform||"",r=new Map;e=J.exec(n);)r.set(e[1],e[2]);return r}}function tt(t,e,n,r){var o=m(e,"scale")?1:0+function(t){return m(t,"translate")||"perspective"===t?"px":m(t,"rotate")||m(t,"skew")?"deg":void 0}(e),l=$(t).get(e)||o;return n&&(n.transforms.list.set(e,l),n.transforms.last=e),r?K(t,l,r):l}function et(t,e,n,r){switch(Z(t,e)){case"transform":return tt(t,e,r,n);case"css":return Q(t,e,n);case"attribute":return Y(t,e);default:return t[e]||0}}var it=/^(\*=|\+=|-=)/;function nt(t,e){var n=it.exec(t);if(!n)return t;var u=W(t)||0,r=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+o+u;case"-":return r-o+u;case"*":return r*o+u}}var at=/\s/g;function ot(t,e){if(y.col(t))return V(t);var n=W(t),r=n?t.substr(0,t.length-n.length):t;return e&&!at.test(t)?r+e:r}function st(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pt(t){for(var e,n=t.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(r+=st(e,o)),e=o}return r}function lt(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*Y(t,"r")}(t);case"rect":return function(t){return 2*Y(t,"width")+2*Y(t,"height")}(t);case"line":return function(t){return st({x:Y(t,"x1"),y:Y(t,"y1")},{x:Y(t,"x2"),y:Y(t,"y2")})}(t);case"polyline":return pt(t);case"polygon":return function(t){var e=t.points;return pt(t)+st(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function ct(t,e){var svg=e||{},n=svg.el||function(t){for(var e=t.parentNode;y.svg(e)&&(e=e.parentNode,y.svg(e.parentNode)););return e}(t),rect=n.getBoundingClientRect(),r=Y(n,"viewBox"),o=rect.width,l=rect.height,c=svg.viewBox||(r?r.split(" "):[0,0,o,l]);return{el:n,viewBox:c,x:c[0]/1,y:c[1]/1,w:o/c[2],h:l/c[3]}}function mt(path,progress){function t(t){void 0===t&&(t=0);var e=progress+t>=1?progress+t:0;return path.el.getPointAtLength(e)}var svg=ct(path.el,path.svg),p=t(),e=t(-1),n=t(1);switch(path.property){case"x":return(p.x-svg.x)*svg.w;case"y":return(p.y-svg.y)*svg.h;case"angle":return 180*Math.atan2(n.y-e.y,n.x-e.x)/Math.PI}}var ht=/-?\d*\.?\d+/g;function ut(t,e){var n=ot(y.pth(t)?t.totalLength:t,e)+"";return{original:n,numbers:n.match(ht)?n.match(ht).map(Number):[0],strings:y.str(t)||e?n.split(ht):[]}}function ft(t){return k(t?P(y.arr(t)?t.map(D):D(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function gt(t){var e=ft(t);return e.map((function(t,i){return{target:t,id:i,total:e.length,transforms:{list:$(t)}}}))}var vt=/^spring/;function xt(t,e){var n=I(e);if(vt.test(n.easing)&&(n.duration=E(n.easing)),y.arr(t)){var r=t.length;2!==r||y.obj(t[0])?y.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}var o=y.arr(t)?t:[t];return o.map((function(t,i){var n=y.obj(t)&&!y.pth(t)?t:{value:t};return y.und(n.delay)&&(n.delay=i?0:e.delay),y.und(n.endDelay)&&(n.endDelay=i===o.length-1?e.endDelay:0),n})).map((function(t){return N(t,n)}))}function yt(t,e){var n=[],r=e.keyframes;for(var p in r&&(e=N(function(t){for(var e=k(P(t.map((function(t){return Object.keys(t)}))),(function(p){return y.key(p)})).reduce((function(a,b){return a.indexOf(b)<0&&a.push(b),a}),[]),n={},r=function(i){var r=e[i];n[r]=t.map((function(t){var e={};for(var p in t)y.key(p)?p==r&&(e.value=t[p]):e[p]=t[p];return e}))},i=0;i<e.length;i++)r(i);return n}(r),e)),e)y.key(p)&&n.push({name:p,tweens:xt(e[p],t)});return n}function bt(t,e){var n;return t.tweens.map((function(r){var o=function(t,e){var n={};for(var p in t){var r=X(t[p],e);y.arr(r)&&1===(r=r.map((function(t){return X(t,e)}))).length&&(r=r[0]),n[p]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,e),l=o.value,c=y.arr(l)?l[1]:l,d=W(c),m=et(e.target,t.name,d,e),h=n?n.to.original:m,f=y.arr(l)?l[0]:h,v=W(f)||W(m),x=d||v;return y.und(c)&&(c=h),o.from=ut(f,x),o.to=ut(nt(c,f),x),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=C(o.easing,o.duration),o.isPath=y.pth(l),o.isColor=y.col(o.from.original),o.isColor&&(o.round=1),n=o,o}))}var wt={css:function(t,p,e){return t.style[p]=e},attribute:function(t,p,e){return t.setAttribute(p,e)},object:function(t,p,e){return t[p]=e},transform:function(t,p,e,n,r){if(n.list.set(p,e),p===n.last||r){var o="";n.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o}}};function At(t,e){for(var n=gt(t),i=0,r=n.length;i<r;i++){var o=n[i];for(var l in e){var c=X(e[l],o),d=o.target,m=W(c),h=et(d,l,m,o),f=nt(ot(c,m||W(h)),h),v=Z(d,l);wt[v](d,l,f,o.transforms,!0)}}}function Et(t,e){return k(P(t.map((function(t){return e.map((function(e){return function(t,e){var n=Z(t.target,e.name);if(n){var r=bt(e,t),o=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:o.end,delay:r[0].delay,endDelay:o.endDelay}}}(t,e)}))}))),(function(a){return!y.und(a)}))}function Mt(t,e){var n=t.length,r=function(t){return t.timelineOffset?t.timelineOffset:0},o={};return o.duration=n?Math.max.apply(Math,t.map((function(t){return r(t)+t.duration}))):e.duration,o.delay=n?Math.min.apply(Math,t.map((function(t){return r(t)+t.delay}))):e.delay,o.endDelay=n?o.duration-Math.max.apply(Math,t.map((function(t){return r(t)+t.duration-t.endDelay}))):e.endDelay,o}var Tt,_t=0,St=[],Ct=[],Lt=function(){function t(){Tt=requestAnimationFrame(e)}function e(e){var n=St.length;if(n){for(var i=0;i<n;){var r=St[i];if(r.paused){var o=St.indexOf(r);o>-1&&(St.splice(o,1),n=St.length)}else r.tick(e);i++}t()}else Tt=cancelAnimationFrame(Tt)}return t}();function Rt(t){void 0===t&&(t={});var e,n=0,l=0,c=0,m=0,h=null;function f(){return window.Promise&&new Promise((function(t){return h=t}))}var v=f(),x=function(t){var e=B(r,t),n=B(o,t),l=yt(n,t),c=gt(t.targets),d=Et(c,l),m=Mt(d,n),h=_t;return _t++,N(e,{id:h,children:[],animatables:c,animations:d,duration:m.duration,delay:m.delay,endDelay:m.endDelay})}(t);function y(){x.reversed=!x.reversed;for(var i=0,t=e.length;i<t;i++)e[i].reversed=x.reversed}function w(time){return x.reversed?x.duration-time:time}function A(){n=0,l=w(x.currentTime)*(1/Rt.speed)}function E(time,t){t&&t.seek(time-t.timelineOffset)}function M(t){for(var i=0,e=x.animations,n=e.length;i<n;){var r=e[i],o=r.animatable,l=r.tweens,c=l.length-1,m=l[c];c&&(m=k(l,(function(e){return t<e.end}))[0]||m);for(var h=d(t-m.start-m.delay,0,m.duration)/m.duration,f=isNaN(h)?1:m.easing(h),v=m.to.strings,y=m.round,w=[],A=m.to.numbers.length,progress=void 0,E=0;E<A;E++){var M=void 0,T=m.to.numbers[E],_=m.from.numbers[E]||0;M=m.isPath?mt(m.value,f*T):_+f*(T-_),y&&(m.isColor&&E>2||(M=Math.round(M*y)/y)),w.push(M)}var S=v.length;if(S){progress=v[0];for(var s=0;s<S;s++){v[s];var b=v[s+1],C=w[s];isNaN(C)||(progress+=b?C+b:C+" ")}}else progress=w[0];wt[r.type](o.target,r.property,progress,o.transforms),r.currentValue=progress,i++}}function T(t){x[t]&&!x.passThrough&&x[t](x)}function _(t){var r=x.duration,o=x.delay,A=r-x.endDelay,_=w(t);x.progress=d(_/r*100,0,100),x.reversePlayback=_<x.currentTime,e&&function(time){if(x.reversePlayback)for(var t=m;t--;)E(time,e[t]);else for(var i=0;i<m;i++)E(time,e[i])}(_),!x.began&&x.currentTime>0&&(x.began=!0,T("begin"),T("loopBegin")),_<=o&&0!==x.currentTime&&M(0),(_>=A&&x.currentTime!==r||!r)&&M(r),_>o&&_<A?(x.changeBegan||(x.changeBegan=!0,x.changeCompleted=!1,T("changeBegin")),T("change"),M(_)):x.changeBegan&&(x.changeCompleted=!0,x.changeBegan=!1,T("changeComplete")),x.currentTime=d(_,0,r),x.began&&T("update"),t>=r&&(l=0,x.remaining&&!0!==x.remaining&&x.remaining--,x.remaining?(n=c,T("loopComplete"),T("loopBegin"),"alternate"===x.direction&&y()):(x.paused=!0,x.completed||(x.completed=!0,T("loopComplete"),T("complete"),"Promise"in window&&(h(),v=f()))))}return x.reset=function(){var t=x.direction;x.passThrough=!1,x.currentTime=0,x.progress=0,x.paused=!0,x.began=!1,x.changeBegan=!1,x.completed=!1,x.changeCompleted=!1,x.reversePlayback=!1,x.reversed="reverse"===t,x.remaining=x.loop,e=x.children;for(var i=m=e.length;i--;)x.children[i].reset();(x.reversed&&!0!==x.loop||"alternate"===t&&1===x.loop)&&x.remaining++,M(0)},x.set=function(t,e){return At(t,e),x},x.tick=function(t){c=t,n||(n=c),_((c+(l-n))*Rt.speed)},x.seek=function(time){_(w(time))},x.pause=function(){x.paused=!0,A()},x.play=function(){x.paused&&(x.paused=!1,St.push(x),A(),Tt||Lt())},x.reverse=function(){y(),A()},x.restart=function(){x.reset(),x.play()},x.finished=v,x.reset(),x.autoplay&&x.play(),x}function kt(t,e){for(var a=e.length;a--;)O(t,e[a].animatable.target)&&e.splice(a,1)}document.addEventListener("visibilitychange",(function(){if(document.hidden){for(var i=0,t=St.length;i<t;i++)activeInstance[i].pause();Ct=St.slice(0),St=[]}else for(var e=0,n=Ct.length;e<n;e++)Ct[e].play()})),Rt.version="3.0.0",Rt.speed=1,Rt.running=St,Rt.remove=function(t){for(var e=ft(t),i=St.length;i--;){var n=St[i],r=n.animations,o=n.children;kt(e,r);for(var l=o.length;l--;){var c=o[l],d=c.animations;kt(e,d),d.length||c.children.length||o.splice(l,1)}r.length||o.length||n.pause()}},Rt.get=et,Rt.set=At,Rt.convertPx=K,Rt.path=function(path,t){var e=y.str(path)?L(path)[0]:path,p=t||100;return function(t){return{property:t,el:e,svg:ct(e),totalLength:lt(e)*(p/100)}}},Rt.setDashoffset=function(t){var e=lt(t);return t.setAttribute("stroke-dasharray",e),e},Rt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",r=e.easing?C(e.easing):null,o=e.grid,l=e.axis,c=e.from||0,d="first"===c,m="center"===c,h="last"===c,f=y.arr(t),v=f?parseFloat(t[0]):parseFloat(t),x=f?parseFloat(t[1]):0,w=W(f?t[1]:t)||0,A=e.start||0+(f?v:0),E=[],M=0;return function(t,i,e){if(d&&(c=0),m&&(c=(e-1)/2),h&&(c=e-1),!E.length){for(var y=0;y<e;y++){if(o){var T=m?(o[0]-1)/2:c%o[0],_=m?(o[1]-1)/2:Math.floor(c/o[0]),S=T-y%o[0],C=_-Math.floor(y/o[0]),L=Math.sqrt(S*S+C*C);"x"===l&&(L=-S),"y"===l&&(L=-C),E.push(L)}else E.push(Math.abs(c-y));M=Math.max.apply(Math,E)}r&&(E=E.map((function(t){return r(t/M)*M}))),"reverse"===n&&(E=E.map((function(t){return l?t<0?-1*t:-t:Math.abs(M-t)})))}return A+(f?(x-v)/M:v)*(Math.round(100*E[i])/100)+w}},Rt.timeline=function(t){void 0===t&&(t={});var e=Rt(t);return e.duration=0,e.add=function(n,r){var l=St.indexOf(e),c=e.children;function d(ins){ins.passThrough=!0}l>-1&&St.splice(l,1);for(var i=0;i<c.length;i++)d(c[i]);var m=N(n,B(o,t));m.targets=m.targets||t.targets;var h=e.duration;m.autoplay=!1,m.direction=e.direction,m.timelineOffset=y.und(r)?h:nt(r,h),d(e),e.seek(m.timelineOffset);var ins=Rt(m);d(ins),c.push(ins);var f=Mt(c,t);return e.delay=f.delay,e.endDelay=f.endDelay,e.duration=f.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},Rt.easing=C,Rt.penner=S,Rt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.exports=Rt},{}],57:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:(t=t||self).THREE={})}(this,(function(t){"use strict";function e(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(t),e=1;e<arguments.length;e++){var source=arguments[e];if(null!=source)for(var n in source)Object.prototype.hasOwnProperty.call(source,n)&&(output[n]=source[n])}return output}),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var n=[],i=0;i<256;i++)n[i]=(i<16?"0":"")+i.toString(16);var r={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return(n[255&t]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+"-"+n[255&e]+n[e>>8&255]+"-"+n[e>>16&15|64]+n[e>>24&255]+"-"+n[63&r|128]+n[r>>8&255]+"-"+n[r>>16&255]+n[r>>24&255]+n[255&o]+n[o>>8&255]+n[o>>16&255]+n[o>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,o){return r+(t-e)*(o-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*r.DEG2RAD},radToDeg:function(t){return t*r.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function o(t,e){this.x=t||0,this.y=e||0}function l(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}Object.defineProperties(o.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(o.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(s){return this.x+=s,this.y+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},addScaledVector:function(t,s){return this.x+=t.x*s,this.y+=t.y*s,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(s){return this.x-=s,this.y-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*s+t.x,this.y=r*s+o*n+t.y,this}}),Object.assign(l,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,o,l,c){var d=n[r+0],m=n[r+1],h=n[r+2],f=n[r+3],v=o[l+0],x=o[l+1],y=o[l+2],w=o[l+3];if(f!==w||d!==v||m!==x||h!==y){var s=1-c,A=d*v+m*x+h*y+f*w,E=A>=0?1:-1,M=1-A*A;if(M>Number.EPSILON){var T=Math.sqrt(M),_=Math.atan2(T,A*E);s=Math.sin(s*_)/T,c=Math.sin(c*_)/T}var S=c*E;if(d=d*s+v*S,m=m*s+x*S,h=h*s+y*S,f=f*s+w*S,s===1-c){var C=1/Math.sqrt(d*d+m*m+h*h+f*f);d*=C,m*=C,h*=C,f*=C}}t[e]=d,t[e+1]=m,t[e+2]=h,t[e+3]=f}}),Object.defineProperties(l.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(l.prototype,{isQuaternion:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,o=t._z,l=t.order,c=Math.cos,d=Math.sin,m=c(n/2),h=c(r/2),f=c(o/2),v=d(n/2),x=d(r/2),y=d(o/2);return"XYZ"===l?(this._x=v*h*f+m*x*y,this._y=m*x*f-v*h*y,this._z=m*h*y+v*x*f,this._w=m*h*f-v*x*y):"YXZ"===l?(this._x=v*h*f+m*x*y,this._y=m*x*f-v*h*y,this._z=m*h*y-v*x*f,this._w=m*h*f+v*x*y):"ZXY"===l?(this._x=v*h*f-m*x*y,this._y=m*x*f+v*h*y,this._z=m*h*y+v*x*f,this._w=m*h*f-v*x*y):"ZYX"===l?(this._x=v*h*f-m*x*y,this._y=m*x*f+v*h*y,this._z=m*h*y-v*x*f,this._w=m*h*f+v*x*y):"YZX"===l?(this._x=v*h*f+m*x*y,this._y=m*x*f+v*h*y,this._z=m*h*y-v*x*f,this._w=m*h*f-v*x*y):"XZY"===l&&(this._x=v*h*f-m*x*y,this._y=m*x*f-v*h*y,this._z=m*h*y+v*x*f,this._w=m*h*f+v*x*y),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var s,e=t.elements,n=e[0],r=e[4],o=e[8],l=e[1],c=e[5],d=e[9],m=e[2],h=e[6],f=e[10],v=n+c+f;return v>0?(s=.5/Math.sqrt(v+1),this._w=.25/s,this._x=(h-d)*s,this._y=(o-m)*s,this._z=(l-r)*s):n>c&&n>f?(s=2*Math.sqrt(1+n-c-f),this._w=(h-d)/s,this._x=.25*s,this._y=(r+l)/s,this._z=(o+m)/s):c>f?(s=2*Math.sqrt(1+c-n-f),this._w=(o-m)/s,this._x=(r+l)/s,this._y=.25*s,this._z=(d+h)/s):(s=2*Math.sqrt(1+f-n-c),this._w=(l-r)/s,this._x=(o+m)/s,this._y=(d+h)/s,this._z=.25*s),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()},angleTo:function(q){return 2*Math.acos(Math.abs(r.clamp(this.dot(q),-1,1)))},rotateTowards:function(q,t){var e=this.angleTo(q);if(0===e)return this;var n=Math.min(1,t/e);return this.slerp(q,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(q,p){return void 0!==p?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)},premultiply:function(q){return this.multiplyQuaternions(q,this)},multiplyQuaternions:function(a,b){var t=a._x,e=a._y,n=a._z,r=a._w,o=b._x,l=b._y,c=b._z,d=b._w;return this._x=t*d+r*o+e*c-n*l,this._y=e*d+r*l+n*o-t*c,this._z=n*d+r*c+t*l-e*o,this._w=r*d-t*o-e*l-n*c,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,o=this._z,l=this._w,c=l*t._w+n*t._x+r*t._y+o*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;var d=1-c*c;if(d<=Number.EPSILON){var s=1-e;return this._w=s*l+e*this._w,this._x=s*n+e*this._x,this._y=s*r+e*this._y,this._z=s*o+e*this._z,this.normalize(),this._onChangeCallback(),this}var m=Math.sqrt(d),h=Math.atan2(m,c),f=Math.sin((1-e)*h)/m,v=Math.sin(e*h)/m;return this._w=l*f+this._w*v,this._x=n*f+this._x*v,this._y=r*f+this._y*v,this._z=o*f+this._z*v,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});var c=new m,d=new l;function m(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}Object.assign(m.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},addScaledVector:function(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(s){return this.x-=s,this.y-=s,this.z-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(d.setFromEuler(t))},applyAxisAngle:function(t,e){return this.applyQuaternion(d.setFromAxisAngle(t,e))},applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*n+o[6]*r,this.y=o[1]*e+o[4]*n+o[7]*r,this.z=o[2]*e+o[5]*n+o[8]*r,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,o=t.elements,l=1/(o[3]*e+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*e+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*e+o[6]*n+o[10]*r+o[14])*l,this},applyQuaternion:function(q){var t=this.x,e=this.y,n=this.z,r=q.x,o=q.y,l=q.z,c=q.w,d=c*t+o*n-l*e,m=c*e+l*t-r*n,h=c*n+r*e-o*t,f=-r*t-o*e-l*n;return this.x=d*c+f*-r+m*-l-h*-o,this.y=m*c+f*-o+h*-r-d*-l,this.z=h*c+f*-l+d*-o-m*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r,this.y=o[1]*e+o[5]*n+o[9]*r,this.z=o[2]*e+o[6]*n+o[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(a,b){var t=a.x,e=a.y,n=a.z,r=b.x,o=b.y,l=b.z;return this.x=e*l-n*o,this.y=n*r-t*l,this.z=t*o-e*r,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(t){return c.copy(this).projectOnVector(t),this.sub(c)},reflect:function(t){return this.sub(c.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());0===e&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(t)/e;return Math.acos(r.clamp(n,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)},setFromSphericalCoords:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}});var h,f=new m;function v(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(v.prototype,{isMatrix3:!0,set:function(t,e,n,r,o,l,c,d,m){var h=this.elements;return h[0]=t,h[1]=r,h[2]=c,h[3]=e,h[4]=o,h[5]=d,h[6]=n,h[7]=l,h[8]=m,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(t){for(var i=0,e=t.count;i<e;i++)f.x=t.getX(i),f.y=t.getY(i),f.z=t.getZ(i),f.applyMatrix3(this),t.setXYZ(i,f.x,f.y,f.z);return t},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(a,b){var t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[3],l=t[6],c=t[1],d=t[4],m=t[7],h=t[2],f=t[5],v=t[8],x=e[0],y=e[3],w=e[6],A=e[1],E=e[4],M=e[7],T=e[2],_=e[5],S=e[8];return n[0]=r*x+o*A+l*T,n[3]=r*y+o*E+l*_,n[6]=r*w+o*M+l*S,n[1]=c*x+d*A+m*T,n[4]=c*y+d*E+m*_,n[7]=c*w+d*M+m*S,n[2]=h*x+f*A+v*T,n[5]=h*y+f*E+v*_,n[8]=h*w+f*M+v*S,this},multiplyScalar:function(s){var t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this},determinant:function(){var t=this.elements,a=t[0],b=t[1],e=t[2],n=t[3],r=t[4],o=t[5],g=t[6],l=t[7],i=t[8];return a*r*i-a*o*l-b*n*i+b*o*g+e*n*l-e*r*g},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,o=n[0],l=n[1],c=n[2],d=n[3],m=n[4],h=n[5],f=n[6],v=n[7],x=n[8],y=x*m-h*v,w=h*f-x*d,A=v*d-m*f,E=o*y+l*w+c*A;if(0===E){var M="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(M);return console.warn(M),this.identity()}var T=1/E;return r[0]=y*T,r[1]=(c*v-x*l)*T,r[2]=(h*l-c*m)*T,r[3]=w*T,r[4]=(x*o-c*f)*T,r[5]=(c*d-h*o)*T,r[6]=A*T,r[7]=(l*f-v*o)*T,r[8]=(m*o-l*d)*T,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,o,l,c){var d=Math.cos(o),s=Math.sin(o);this.set(n*d,n*s,-n*(d*l+s*c)+l+t,-r*s,r*d,-r*(-s*l+d*c)+c+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),s=Math.sin(t),n=this.elements,r=n[0],o=n[3],l=n[6],c=n[1],d=n[4],m=n[7];return n[0]=e*r+s*c,n[3]=e*o+s*d,n[6]=e*l+s*m,n[1]=-s*r+e*c,n[4]=-s*o+e*d,n[7]=-s*l+e*m,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var x={getDataURL:function(image){var canvas;if("undefined"==typeof HTMLCanvasElement)return image.src;if(image instanceof HTMLCanvasElement)canvas=image;else{void 0===h&&(h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),h.width=image.width,h.height=image.height;var t=h.getContext("2d");image instanceof ImageData?t.putImageData(image,0,0):t.drawImage(image,0,0,image.width,image.height),canvas=h}return canvas.width>2048||canvas.height>2048?canvas.toDataURL("image/jpeg",.6):canvas.toDataURL("image/png")}},y=0;function w(image,t,e,n,l,c,d,m,h,f){Object.defineProperty(this,"id",{value:y++}),this.uuid=r.generateUUID(),this.name="",this.image=void 0!==image?image:w.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:w.DEFAULT_MAPPING,this.wrapS=void 0!==e?e:1001,this.wrapT=void 0!==n?n:1001,this.magFilter=void 0!==l?l:1006,this.minFilter=void 0!==c?c:1008,this.anisotropy=void 0!==h?h:1,this.format=void 0!==d?d:1023,this.type=void 0!==m?m:1009,this.offset=new o(0,0),this.repeat=new o(1,1),this.center=new o(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new v,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:3e3,this.version=0,this.onUpdate=null}function A(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function E(t,e,n){this.width=t,this.height=e,this.scissor=new A(0,0,t,e),this.scissorTest=!1,this.viewport=new A(0,0,t,e),n=n||{},this.texture=new w(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function M(t,e,n){E.call(this,t,e,n),this.samples=4}w.DEFAULT_IMAGE=void 0,w.DEFAULT_MAPPING=300,w.prototype=Object.assign(Object.create(e.prototype),{constructor:w,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.name=source.name,this.image=source.image,this.mipmaps=source.mipmaps.slice(0),this.mapping=source.mapping,this.wrapS=source.wrapS,this.wrapT=source.wrapT,this.magFilter=source.magFilter,this.minFilter=source.minFilter,this.anisotropy=source.anisotropy,this.format=source.format,this.type=source.type,this.offset.copy(source.offset),this.repeat.copy(source.repeat),this.center.copy(source.center),this.rotation=source.rotation,this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrix.copy(source.matrix),this.generateMipmaps=source.generateMipmaps,this.premultiplyAlpha=source.premultiplyAlpha,this.flipY=source.flipY,this.unpackAlignment=source.unpackAlignment,this.encoding=source.encoding,this},toJSON:function(meta){var t=void 0===meta||"string"==typeof meta;if(!t&&void 0!==meta.textures[this.uuid])return meta.textures[this.uuid];var output={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var image=this.image;if(void 0===image.uuid&&(image.uuid=r.generateUUID()),!t&&void 0===meta.images[image.uuid]){var e;if(Array.isArray(image)){e=[];for(var i=0,n=image.length;i<n;i++)e.push(x.getDataURL(image[i]))}else e=x.getDataURL(image);meta.images[image.uuid]={uuid:image.uuid,url:e}}output.image=image.uuid}return t||(meta.textures[this.uuid]=output),output},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(w.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(A.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(A.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this},addScaledVector:function(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this.w+=t.w*s,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*e+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*e+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*e+l[7]*n+l[11]*r+l[15]*o,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(q){this.w=2*Math.acos(q.w);var s=Math.sqrt(1-q.w*q.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=q.x/s,this.y=q.y/s,this.z=q.z/s),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,o,l=t.elements,c=l[0],d=l[4],m=l[8],h=l[1],f=l[5],v=l[9],x=l[2],y=l[6],w=l[10];if(Math.abs(d-h)<.01&&Math.abs(m-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+h)<.1&&Math.abs(m+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+f+w-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var A=(c+1)/2,E=(f+1)/2,M=(w+1)/2,T=(d+h)/4,_=(m+x)/4,S=(v+y)/4;return A>E&&A>M?A<.01?(n=0,r=.707106781,o=.707106781):(r=T/(n=Math.sqrt(A)),o=_/n):E>M?E<.01?(n=.707106781,r=0,o=.707106781):(n=T/(r=Math.sqrt(E)),o=S/r):M<.01?(n=.707106781,r=.707106781,o=0):(n=_/(o=Math.sqrt(M)),r=S/o),this.set(n,r,o,e),this}var s=Math.sqrt((y-v)*(y-v)+(m-x)*(m-x)+(h-d)*(h-d));return Math.abs(s)<.001&&(s=1),this.x=(y-v)/s,this.y=(m-x)/s,this.z=(h-d)/s,this.w=Math.acos((c+f+w-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),E.prototype=Object.assign(Object.create(e.prototype),{constructor:E,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.width=source.width,this.height=source.height,this.viewport.copy(source.viewport),this.texture=source.texture.clone(),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,this.depthTexture=source.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),M.prototype=Object.assign(Object.create(E.prototype),{constructor:M,isWebGLMultisampleRenderTarget:!0,copy:function(source){return E.prototype.copy.call(this,source),this.samples=source.samples,this}});var T=new m,_=new P,S=new m(0,0,0),C=new m(1,1,1),L=new m,R=new m,k=new m;function P(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(P.prototype,{isMatrix4:!0,set:function(t,e,n,r,o,l,c,d,m,h,f,v,x,y,w,A){var E=this.elements;return E[0]=t,E[4]=e,E[8]=n,E[12]=r,E[1]=o,E[5]=l,E[9]=c,E[13]=d,E[2]=m,E[6]=h,E[10]=f,E[14]=v,E[3]=x,E[7]=y,E[11]=w,E[15]=A,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new P).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(t){var e=this.elements,n=t.elements,r=1/T.setFromMatrixColumn(t,0).length(),o=1/T.setFromMatrixColumn(t,1).length(),l=1/T.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,o=t.z,a=Math.cos(n),b=Math.sin(n),l=Math.cos(r),c=Math.sin(r),d=Math.cos(o),m=Math.sin(o);if("XYZ"===t.order){var h=a*d,f=a*m,v=b*d,x=b*m;e[0]=l*d,e[4]=-l*m,e[8]=c,e[1]=f+v*c,e[5]=h-x*c,e[9]=-b*l,e[2]=x-h*c,e[6]=v+f*c,e[10]=a*l}else if("YXZ"===t.order){var y=l*d,w=l*m,A=c*d,E=c*m;e[0]=y+E*b,e[4]=A*b-w,e[8]=a*c,e[1]=a*m,e[5]=a*d,e[9]=-b,e[2]=w*b-A,e[6]=E+y*b,e[10]=a*l}else if("ZXY"===t.order)y=l*d,w=l*m,A=c*d,E=c*m,e[0]=y-E*b,e[4]=-a*m,e[8]=A+w*b,e[1]=w+A*b,e[5]=a*d,e[9]=E-y*b,e[2]=-a*c,e[6]=b,e[10]=a*l;else if("ZYX"===t.order)h=a*d,f=a*m,v=b*d,x=b*m,e[0]=l*d,e[4]=v*c-f,e[8]=h*c+x,e[1]=l*m,e[5]=x*c+h,e[9]=f*c-v,e[2]=-c,e[6]=b*l,e[10]=a*l;else if("YZX"===t.order){var M=a*l,T=a*c,_=b*l,S=b*c;e[0]=l*d,e[4]=S-M*m,e[8]=_*m+T,e[1]=m,e[5]=a*d,e[9]=-b*d,e[2]=-c*d,e[6]=T*m+_,e[10]=M-S*m}else"XZY"===t.order&&(M=a*l,T=a*c,_=b*l,S=b*c,e[0]=l*d,e[4]=-m,e[8]=c*d,e[1]=M*m+S,e[5]=a*d,e[9]=T*m-_,e[2]=_*m-T,e[6]=b*d,e[10]=S*m+M);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(q){return this.compose(S,q,C)},lookAt:function(t,e,n){var r=this.elements;return k.subVectors(t,e),0===k.lengthSq()&&(k.z=1),k.normalize(),L.crossVectors(n,k),0===L.lengthSq()&&(1===Math.abs(n.z)?k.x+=1e-4:k.z+=1e-4,k.normalize(),L.crossVectors(n,k)),L.normalize(),R.crossVectors(k,L),r[0]=L.x,r[4]=R.x,r[8]=k.x,r[1]=L.y,r[5]=R.y,r[9]=k.y,r[2]=L.z,r[6]=R.z,r[10]=k.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(a,b){var t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[4],l=t[8],c=t[12],d=t[1],m=t[5],h=t[9],f=t[13],v=t[2],x=t[6],y=t[10],w=t[14],A=t[3],E=t[7],M=t[11],T=t[15],_=e[0],S=e[4],C=e[8],L=e[12],R=e[1],k=e[5],P=e[9],D=e[13],O=e[2],I=e[6],B=e[10],N=e[14],F=e[3],j=e[7],H=e[11],U=e[15];return n[0]=r*_+o*R+l*O+c*F,n[4]=r*S+o*k+l*I+c*j,n[8]=r*C+o*P+l*B+c*H,n[12]=r*L+o*D+l*N+c*U,n[1]=d*_+m*R+h*O+f*F,n[5]=d*S+m*k+h*I+f*j,n[9]=d*C+m*P+h*B+f*H,n[13]=d*L+m*D+h*N+f*U,n[2]=v*_+x*R+y*O+w*F,n[6]=v*S+x*k+y*I+w*j,n[10]=v*C+x*P+y*B+w*H,n[14]=v*L+x*D+y*N+w*U,n[3]=A*_+E*R+M*O+T*F,n[7]=A*S+E*k+M*I+T*j,n[11]=A*C+E*P+M*B+T*H,n[15]=A*L+E*D+M*N+T*U,this},multiplyScalar:function(s){var t=this.elements;return t[0]*=s,t[4]*=s,t[8]*=s,t[12]*=s,t[1]*=s,t[5]*=s,t[9]*=s,t[13]*=s,t[2]*=s,t[6]*=s,t[10]*=s,t[14]*=s,t[3]*=s,t[7]*=s,t[11]*=s,t[15]*=s,this},applyToBufferAttribute:function(t){for(var i=0,e=t.count;i<e;i++)T.x=t.getX(i),T.y=t.getY(i),T.z=t.getZ(i),T.applyMatrix4(this),t.setXYZ(i,T.x,T.y,T.z);return t},determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],o=t[12],l=t[1],c=t[5],d=t[9],m=t[13],h=t[2],f=t[6],v=t[10],x=t[14];return t[3]*(+o*d*f-r*m*f-o*c*v+n*m*v+r*c*x-n*d*x)+t[7]*(+e*d*x-e*m*v+o*l*v-r*l*x+r*m*h-o*d*h)+t[11]*(+e*m*f-e*c*x-o*l*f+n*l*x+o*c*h-n*m*h)+t[15]*(-r*c*h-e*d*f+e*c*v+r*l*f-n*l*v+n*d*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this},getInverse:function(t,e){var n=this.elements,r=t.elements,o=r[0],l=r[1],c=r[2],d=r[3],m=r[4],h=r[5],f=r[6],v=r[7],x=r[8],y=r[9],w=r[10],A=r[11],E=r[12],M=r[13],T=r[14],_=r[15],S=y*T*v-M*w*v+M*f*A-h*T*A-y*f*_+h*w*_,C=E*w*v-x*T*v-E*f*A+m*T*A+x*f*_-m*w*_,L=x*M*v-E*y*v+E*h*A-m*M*A-x*h*_+m*y*_,R=E*y*f-x*M*f-E*h*w+m*M*w+x*h*T-m*y*T,k=o*S+l*C+c*L+d*R;if(0===k){var P="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(P);return console.warn(P),this.identity()}var D=1/k;return n[0]=S*D,n[1]=(M*w*d-y*T*d-M*c*A+l*T*A+y*c*_-l*w*_)*D,n[2]=(h*T*d-M*f*d+M*c*v-l*T*v-h*c*_+l*f*_)*D,n[3]=(y*f*d-h*w*d-y*c*v+l*w*v+h*c*A-l*f*A)*D,n[4]=C*D,n[5]=(x*T*d-E*w*d+E*c*A-o*T*A-x*c*_+o*w*_)*D,n[6]=(E*f*d-m*T*d-E*c*v+o*T*v+m*c*_-o*f*_)*D,n[7]=(m*w*d-x*f*d+x*c*v-o*w*v-m*c*A+o*f*A)*D,n[8]=L*D,n[9]=(E*y*d-x*M*d-E*l*A+o*M*A+x*l*_-o*y*_)*D,n[10]=(m*M*d-E*h*d+E*l*v-o*M*v-m*l*_+o*h*_)*D,n[11]=(x*h*d-m*y*d-x*l*v+o*y*v+m*l*A-o*h*A)*D,n[12]=R*D,n[13]=(x*M*c-E*y*c+E*l*w-o*M*w-x*l*T+o*y*T)*D,n[14]=(E*h*c-m*M*c-E*l*f+o*M*f+m*l*T-o*h*T)*D,n[15]=(m*y*c-x*h*c+x*l*f-o*y*f-m*l*w+o*h*w)*D,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,o=t.z;return e[0]*=n,e[4]*=r,e[8]*=o,e[1]*=n,e[5]*=r,e[9]*=o,e[2]*=n,e[6]*=r,e[10]*=o,e[3]*=n,e[7]*=r,e[11]*=o,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),s=Math.sin(t);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),s=Math.sin(e),r=1-n,o=t.x,l=t.y,c=t.z,d=r*o,m=r*l;return this.set(d*o+n,d*l-s*c,d*c+s*l,0,d*l+s*c,m*l+n,m*c-s*o,0,d*c-s*l,m*c+s*o,r*c*c+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,o=e._x,l=e._y,c=e._z,d=e._w,m=o+o,h=l+l,f=c+c,v=o*m,x=o*h,y=o*f,w=l*h,A=l*f,E=c*f,M=d*m,T=d*h,_=d*f,S=n.x,C=n.y,L=n.z;return r[0]=(1-(w+E))*S,r[1]=(x+_)*S,r[2]=(y-T)*S,r[3]=0,r[4]=(x-_)*C,r[5]=(1-(v+E))*C,r[6]=(A+M)*C,r[7]=0,r[8]=(y+T)*L,r[9]=(A-M)*L,r[10]=(1-(v+w))*L,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:function(t,e,n){var r=this.elements,o=T.set(r[0],r[1],r[2]).length(),l=T.set(r[4],r[5],r[6]).length(),c=T.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],_.copy(this);var d=1/o,m=1/l,h=1/c;return _.elements[0]*=d,_.elements[1]*=d,_.elements[2]*=d,_.elements[4]*=m,_.elements[5]*=m,_.elements[6]*=m,_.elements[8]*=h,_.elements[9]*=h,_.elements[10]*=h,e.setFromRotationMatrix(_),n.x=o,n.y=l,n.z=c,this},makePerspective:function(t,e,n,r,o,l){void 0===l&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var c=this.elements,d=2*o/(e-t),m=2*o/(n-r),a=(e+t)/(e-t),b=(n+r)/(n-r),h=-(l+o)/(l-o),f=-2*l*o/(l-o);return c[0]=d,c[4]=0,c[8]=a,c[12]=0,c[1]=0,c[5]=m,c[9]=b,c[13]=0,c[2]=0,c[6]=0,c[10]=h,c[14]=f,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this},makeOrthographic:function(t,e,n,r,o,l){var c=this.elements,d=1/(e-t),m=1/(n-r),p=1/(l-o),h=(e+t)*d,f=(n+r)*m,v=(l+o)*p;return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*m,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=-2*p,c[14]=-v,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}});var D=new P,O=new l;function I(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||I.DefaultOrder}function B(){this.mask=1}I.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],I.DefaultOrder="XYZ",Object.defineProperties(I.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(I.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var o=r.clamp,l=t.elements,c=l[0],d=l[4],m=l[8],h=l[1],f=l[5],v=l[9],x=l[2],y=l[6],w=l[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(o(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-v,w),this._z=Math.atan2(-d,c)):(this._x=Math.atan2(y,f),this._z=0)):"YXZ"===e?(this._x=Math.asin(-o(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(m,w),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-x,c),this._z=0)):"ZXY"===e?(this._x=Math.asin(o(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-x,w),this._z=Math.atan2(-d,f)):(this._y=0,this._z=Math.atan2(h,c))):"ZYX"===e?(this._y=Math.asin(-o(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(y,w),this._z=Math.atan2(h,c)):(this._x=0,this._z=Math.atan2(-d,f))):"YZX"===e?(this._z=Math.asin(o(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-v,f),this._y=Math.atan2(-x,c)):(this._x=0,this._y=Math.atan2(m,w))):"XZY"===e?(this._z=Math.asin(-o(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(m,c)):(this._x=Math.atan2(-v,w),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(q,t,e){return D.makeRotationFromQuaternion(q),this.setFromRotationMatrix(D,t,e)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return O.setFromEuler(this),this.setFromQuaternion(O,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new m(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(B.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return 0!=(this.mask&t.mask)}});var N=0,F=new m,j=new l,H=new P,U=new m,z=new m,V=new m,G=new l,W=new m(1,0,0),X=new m(0,1,0),Y=new m(0,0,1),K={type:"added"},Q={type:"removed"};function Z(){Object.defineProperty(this,"id",{value:N++}),this.uuid=r.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Z.DefaultUp.clone();var t=new m,e=new I,n=new l,o=new m(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new P},normalMatrix:{value:new v}}),this.matrix=new P,this.matrixWorld=new P,this.matrixAutoUpdate=Z.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new B,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function J(){Z.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Z.DefaultUp=new m(0,1,0),Z.DefaultMatrixAutoUpdate=!0,Z.prototype=Object.assign(Object.create(e.prototype),{constructor:Z,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(q){return this.quaternion.premultiply(q),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(q){this.quaternion.copy(q)},rotateOnAxis:function(t,e){return j.setFromAxisAngle(t,e),this.quaternion.multiply(j),this},rotateOnWorldAxis:function(t,e){return j.setFromAxisAngle(t,e),this.quaternion.premultiply(j),this},rotateX:function(t){return this.rotateOnAxis(W,t)},rotateY:function(t){return this.rotateOnAxis(X,t)},rotateZ:function(t){return this.rotateOnAxis(Y,t)},translateOnAxis:function(t,e){return F.copy(t).applyQuaternion(this.quaternion),this.position.add(F.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(W,t)},translateY:function(t){return this.translateOnAxis(X,t)},translateZ:function(t){return this.translateOnAxis(Y,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(H.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?U.copy(t):U.set(t,e,n);var r=this.parent;this.updateWorldMatrix(!0,!1),z.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?H.lookAt(z,U,this.up):H.lookAt(U,z,this.up),this.quaternion.setFromRotationMatrix(H),r&&(H.extractRotation(r.matrixWorld),j.setFromRotationMatrix(H),this.quaternion.premultiply(j.inverse()))},add:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return object===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",object),this):(object&&object.isObject3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,this.children.push(object),object.dispatchEvent(K)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object),this)},remove:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}var t=this.children.indexOf(object);return-1!==t&&(object.parent=null,this.children.splice(t,1),object.dispatchEvent(Q)),this},attach:function(object){return this.updateWorldMatrix(!0,!1),H.getInverse(this.matrixWorld),null!==object.parent&&(object.parent.updateWorldMatrix(!0,!1),H.multiply(object.parent.matrixWorld)),object.applyMatrix(H),object.updateWorldMatrix(!1,!1),this.add(object),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var object=this.children[i].getObjectByProperty(t,e);if(void 0!==object)return object}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new m),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new l),this.updateMatrixWorld(!0),this.matrixWorld.decompose(z,t,V),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new m),this.updateMatrixWorld(!0),this.matrixWorld.decompose(z,G,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new m),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(meta){var t=void 0===meta||"string"==typeof meta,output={};t&&(meta={geometries:{},materials:{},textures:{},images:{},shapes:{}},output.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var object={};function e(t,element){return void 0===t[element.uuid]&&(t[element.uuid]=element.toJSON(meta)),element.uuid}if(object.uuid=this.uuid,object.type=this.type,""!==this.name&&(object.name=this.name),!0===this.castShadow&&(object.castShadow=!0),!0===this.receiveShadow&&(object.receiveShadow=!0),!1===this.visible&&(object.visible=!1),!1===this.frustumCulled&&(object.frustumCulled=!1),0!==this.renderOrder&&(object.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData),object.layers=this.layers.mask,object.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(object.matrixAutoUpdate=!1),this.isInstancedMesh&&(object.type="InstancedMesh",object.count=this.count,object.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){object.geometry=e(meta.geometries,this.geometry);var n=this.geometry.parameters;if(void 0!==n&&void 0!==n.shapes){var r=n.shapes;if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++){var l=r[i];e(meta.shapes,l)}else e(meta.shapes,r)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(i=0,o=this.material.length;i<o;i++)c.push(e(meta.materials,this.material[i]));object.material=c}else object.material=e(meta.materials,this.material);if(this.children.length>0)for(object.children=[],i=0;i<this.children.length;i++)object.children.push(this.children[i].toJSON(meta).object);if(t){var d=v(meta.geometries),m=v(meta.materials),h=v(meta.textures),f=v(meta.images);r=v(meta.shapes),d.length>0&&(output.geometries=d),m.length>0&&(output.materials=m),h.length>0&&(output.textures=h),f.length>0&&(output.images=f),r.length>0&&(output.shapes=r)}return output.object=object,output;function v(t){var e=[];for(var n in t){var data=t[n];delete data.metadata,e.push(data)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(source,t){if(void 0===t&&(t=!0),this.name=source.name,this.up.copy(source.up),this.position.copy(source.position),this.quaternion.copy(source.quaternion),this.scale.copy(source.scale),this.matrix.copy(source.matrix),this.matrixWorld.copy(source.matrixWorld),this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate,this.layers.mask=source.layers.mask,this.visible=source.visible,this.castShadow=source.castShadow,this.receiveShadow=source.receiveShadow,this.frustumCulled=source.frustumCulled,this.renderOrder=source.renderOrder,this.userData=JSON.parse(JSON.stringify(source.userData)),!0===t)for(var i=0;i<source.children.length;i++){var e=source.children[i];this.add(e.clone())}return this}}),J.prototype=Object.assign(Object.create(Z.prototype),{constructor:J,isScene:!0,copy:function(source,t){return Z.prototype.copy.call(this,source,t),null!==source.background&&(this.background=source.background.clone()),null!==source.fog&&(this.fog=source.fog.clone()),null!==source.overrideMaterial&&(this.overrideMaterial=source.overrideMaterial.clone()),this.autoUpdate=source.autoUpdate,this.matrixAutoUpdate=source.matrixAutoUpdate,this},toJSON:function(meta){var data=Z.prototype.toJSON.call(this,meta);return null!==this.background&&(data.object.background=this.background.toJSON(meta)),null!==this.fog&&(data.object.fog=this.fog.toJSON()),data},dispose:function(){this.dispatchEvent({type:"dispose"})}});var $=[new m,new m,new m,new m,new m,new m,new m,new m],tt=new m,et=new ut,it=new m,nt=new m,at=new m,ot=new m,st=new m,pt=new m,lt=new m,ct=new m,mt=new m,ht=new m;function ut(t,e){this.min=void 0!==t?t:new m(1/0,1/0,1/0),this.max=void 0!==e?e:new m(-1/0,-1/0,-1/0)}function ft(t,e,n,r,o){var i,l;for(i=0,l=t.length-3;i<=l;i+=3){ht.fromArray(t,i);var c=o.x*Math.abs(ht.x)+o.y*Math.abs(ht.y)+o.z*Math.abs(ht.z),d=e.dot(ht),m=n.dot(ht),h=r.dot(ht);if(Math.max(-Math.max(d,m,h),Math.min(d,m,h))>c)return!1}return!0}Object.assign(ut.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0,i=0,d=t.length;i<d;i+=3){var m=t[i],h=t[i+1],f=t[i+2];m<e&&(e=m),h<n&&(n=h),f<r&&(r=f),m>o&&(o=m),h>l&&(l=h),f>c&&(c=f)}return this.min.set(e,n,r),this.max.set(o,l,c),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0,i=0,d=t.count;i<d;i++){var m=t.getX(i),h=t.getY(i),f=t.getZ(i);m<e&&(e=m),h<n&&(n=h),f<r&&(r=f),m>o&&(o=m),h>l&&(l=h),f>c&&(c=f)}return this.min.set(e,n,r),this.max.set(o,l,c),this},setFromPoints:function(t){this.makeEmpty();for(var i=0,e=t.length;i<e;i++)this.expandByPoint(t[i]);return this},setFromCenterAndSize:function(t,e){var n=tt.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},setFromObject:function(object){return this.makeEmpty(),this.expandByObject(object)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new m),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new m),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(object){object.updateWorldMatrix(!1,!1);var t=object.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),et.copy(t.boundingBox),et.applyMatrix4(object.matrixWorld),this.expandByPoint(et.min),this.expandByPoint(et.max));for(var e=object.children,i=0,n=e.length;i<n;i++)this.expandByObject(e[i]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new m),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,tt),tt.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(t){if(this.isEmpty())return!1;this.getCenter(lt),ct.subVectors(this.max,lt),it.subVectors(t.a,lt),nt.subVectors(t.b,lt),at.subVectors(t.c,lt),ot.subVectors(nt,it),st.subVectors(at,nt),pt.subVectors(it,at);var e=[0,-ot.z,ot.y,0,-st.z,st.y,0,-pt.z,pt.y,ot.z,0,-ot.x,st.z,0,-st.x,pt.z,0,-pt.x,-ot.y,ot.x,0,-st.y,st.x,0,-pt.y,pt.x,0];return!!ft(e,it,nt,at,ct)&&!!ft(e=[1,0,0,0,1,0,0,0,1],it,nt,at,ct)&&(mt.crossVectors(ot,st),ft(e=[mt.x,mt.y,mt.z],it,nt,at,ct))},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new m),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return tt.copy(t).clamp(this.min,this.max).sub(t).length()},getBoundingSphere:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(tt).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()||($[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),$[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),$[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),$[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),$[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),$[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),$[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),$[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints($)),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var gt=new ut;function vt(t,e){this.center=void 0!==t?t:new m,this.radius=void 0!==e?e:0}Object.assign(vt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){var n=this.center;void 0!==e?n.copy(e):gt.setFromPoints(t).getCenter(n);for(var r=0,i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new m),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ut),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});var xt=new m,yt=new m,bt=new m,wt=new m,At=new m,Et=new m,Mt=new m;function Tt(t,e){this.origin=void 0!==t?t:new m,this.direction=void 0!==e?e:new m(0,0,-1)}Object.assign(Tt.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new m),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,xt)),this},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new m),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){var e=xt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(xt.copy(this.direction).multiplyScalar(e).add(this.origin),xt.distanceToSquared(t))},distanceSqToSegment:function(t,e,n,r){yt.copy(t).add(e).multiplyScalar(.5),bt.copy(e).sub(t).normalize(),wt.copy(this.origin).sub(yt);var o,l,c,d,m=.5*t.distanceTo(e),h=-this.direction.dot(bt),f=wt.dot(this.direction),v=-wt.dot(bt),x=wt.lengthSq(),y=Math.abs(1-h*h);if(y>0)if(l=h*f-v,d=m*y,(o=h*v-f)>=0)if(l>=-d)if(l<=d){var w=1/y;c=(o*=w)*(o+h*(l*=w)+2*f)+l*(h*o+l+2*v)+x}else l=m,c=-(o=Math.max(0,-(h*l+f)))*o+l*(l+2*v)+x;else l=-m,c=-(o=Math.max(0,-(h*l+f)))*o+l*(l+2*v)+x;else l<=-d?c=-(o=Math.max(0,-(-h*m+f)))*o+(l=o>0?-m:Math.min(Math.max(-m,-v),m))*(l+2*v)+x:l<=d?(o=0,c=(l=Math.min(Math.max(-m,-v),m))*(l+2*v)+x):c=-(o=Math.max(0,-(h*m+f)))*o+(l=o>0?m:Math.min(Math.max(-m,-v),m))*(l+2*v)+x;else l=h>0?-m:m,c=-(o=Math.max(0,-(h*l+f)))*o+l*(l+2*v)+x;return n&&n.copy(this.direction).multiplyScalar(o).add(this.origin),r&&r.copy(bt).multiplyScalar(l).add(yt),c},intersectSphere:function(t,e){xt.subVectors(t.center,this.origin);var n=xt.dot(this.direction),r=xt.dot(xt)-n*n,o=t.radius*t.radius;if(r>o)return null;var l=Math.sqrt(o-r),c=n-l,d=n+l;return c<0&&d<0?null:c<0?this.at(d,e):this.at(c,e)},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,o,l,c,d,m=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,v=this.origin;return m>=0?(n=(t.min.x-v.x)*m,r=(t.max.x-v.x)*m):(n=(t.max.x-v.x)*m,r=(t.min.x-v.x)*m),h>=0?(o=(t.min.y-v.y)*h,l=(t.max.y-v.y)*h):(o=(t.max.y-v.y)*h,l=(t.min.y-v.y)*h),n>l||o>r?null:((o>n||n!=n)&&(n=o),(l<r||r!=r)&&(r=l),f>=0?(c=(t.min.z-v.z)*f,d=(t.max.z-v.z)*f):(c=(t.max.z-v.z)*f,d=(t.min.z-v.z)*f),n>d||c>r?null:((c>n||n!=n)&&(n=c),(d<r||r!=r)&&(r=d),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(t){return null!==this.intersectBox(t,xt)},intersectTriangle:function(a,b,t,e,n){At.subVectors(b,a),Et.subVectors(t,a),Mt.crossVectors(At,Et);var r,o=this.direction.dot(Mt);if(o>0){if(e)return null;r=1}else{if(!(o<0))return null;r=-1,o=-o}wt.subVectors(this.origin,a);var l=r*this.direction.dot(Et.crossVectors(wt,Et));if(l<0)return null;var c=r*this.direction.dot(At.cross(wt));if(c<0)return null;if(l+c>o)return null;var d=-r*wt.dot(Mt);return d<0?null:this.at(d/o,n)},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});var _t=new m,St=new m,Ct=new v;function Lt(t,e){this.normal=void 0!==t?t:new m(1,0,0),this.constant=void 0!==e?e:0}Object.assign(Lt.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(a,b,t){var e=_t.subVectors(t,b).cross(St.subVectors(a,b)).normalize();return this.setFromNormalAndCoplanarPoint(e,a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new m),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(line,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new m);var e=line.delta(_t),n=this.normal.dot(e);if(0===n)return 0===this.distanceToPoint(line.start)?t.copy(line.start):void 0;var r=-(line.start.dot(this.normal)+this.constant)/n;return r<0||r>1?void 0:t.copy(e).multiplyScalar(r).add(line.start)},intersectsLine:function(line){var t=this.distanceToPoint(line.start),e=this.distanceToPoint(line.end);return t<0&&e>0||e<0&&t>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new m),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,e){var n=e||Ct.getNormalMatrix(t),r=this.coplanarPoint(_t).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});var Rt=new m,kt=new m,Pt=new m,Dt=new m,Ot=new m,It=new m,Bt=new m,Nt=new m,Ft=new m,jt=new m;function Ht(a,b,t){this.a=void 0!==a?a:new m,this.b=void 0!==b?b:new m,this.c=void 0!==t?t:new m}Object.assign(Ht,{getNormal:function(a,b,t,e){void 0===e&&(console.warn("THREE.Triangle: .getNormal() target is now required"),e=new m),e.subVectors(t,b),Rt.subVectors(a,b),e.cross(Rt);var n=e.lengthSq();return n>0?e.multiplyScalar(1/Math.sqrt(n)):e.set(0,0,0)},getBarycoord:function(t,a,b,e,n){Rt.subVectors(e,a),kt.subVectors(b,a),Pt.subVectors(t,a);var r=Rt.dot(Rt),o=Rt.dot(kt),l=Rt.dot(Pt),c=kt.dot(kt),d=kt.dot(Pt),h=r*c-o*o;if(void 0===n&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),n=new m),0===h)return n.set(-2,-1,-1);var f=1/h,u=(c*l-o*d)*f,v=(r*d-o*l)*f;return n.set(1-u-v,v,u)},containsPoint:function(t,a,b,e){return Ht.getBarycoord(t,a,b,e,Dt),Dt.x>=0&&Dt.y>=0&&Dt.x+Dt.y<=1},getUV:function(t,e,n,r,o,l,c,d){return this.getBarycoord(t,e,n,r,Dt),d.set(0,0),d.addScaledVector(o,Dt.x),d.addScaledVector(l,Dt.y),d.addScaledVector(c,Dt.z),d},isFrontFacing:function(a,b,t,e){return Rt.subVectors(t,b),kt.subVectors(a,b),Rt.cross(kt).dot(e)<0}}),Object.assign(Ht.prototype,{set:function(a,b,t){return this.a.copy(a),this.b.copy(b),this.c.copy(t),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return Rt.subVectors(this.c,this.b),kt.subVectors(this.a,this.b),.5*Rt.cross(kt).length()},getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new m),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ht.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Lt),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Ht.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,n,r,o){return Ht.getUV(t,this.a,this.b,this.c,e,n,r,o)},containsPoint:function(t){return Ht.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Ht.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(p,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new m);var e,n,a=this.a,b=this.b,r=this.c;Ot.subVectors(b,a),It.subVectors(r,a),Nt.subVectors(p,a);var o=Ot.dot(Nt),l=It.dot(Nt);if(o<=0&&l<=0)return t.copy(a);Ft.subVectors(p,b);var c=Ot.dot(Ft),d=It.dot(Ft);if(c>=0&&d<=c)return t.copy(b);var h=o*d-c*l;if(h<=0&&o>=0&&c<=0)return e=o/(o-c),t.copy(a).addScaledVector(Ot,e);jt.subVectors(p,r);var f=Ot.dot(jt),v=It.dot(jt);if(v>=0&&f<=v)return t.copy(r);var x=f*l-o*v;if(x<=0&&l>=0&&v<=0)return n=l/(l-v),t.copy(a).addScaledVector(It,n);var y=c*v-f*d;if(y<=0&&d-c>=0&&f-v>=0)return Bt.subVectors(r,b),n=(d-c)/(d-c+(f-v)),t.copy(b).addScaledVector(Bt,n);var w=1/(y+x+h);return e=x*w,n=h*w,t.copy(a).addScaledVector(Ot,e).addScaledVector(It,n)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var Ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zt={h:0,s:0,l:0},Vt={h:0,s:0,l:0};function Gt(t,g,b){return void 0===g&&void 0===b?this.set(t):this.setRGB(t,g,b)}function Wt(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+6*(q-p)*(2/3-t):p}function qt(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Xt(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function Yt(a,b,t,e,n,r){this.a=a,this.b=b,this.c=t,this.normal=e&&e.isVector3?e:new m,this.vertexNormals=Array.isArray(e)?e:[],this.color=n&&n.isColor?n:new Gt,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==r?r:0}Object.assign(Gt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,g,b){return this.r=t,this.g=g,this.b=b,this},setHSL:function(t,s,e){if(t=r.euclideanModulo(t,1),s=r.clamp(s,0,1),e=r.clamp(e,0,1),0===s)this.r=this.g=this.b=e;else{var p=e<=.5?e*(1+s):e+s-e*s,q=2*e-p;this.r=Wt(q,p,t+1/3),this.g=Wt(q,p,t),this.b=Wt(q,p,t-1/3)}return this},setStyle:function(style){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+style+" will be ignored.")}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(style)){var n,r=e[1],o=e[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var l=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(l,s,c)}}}else if(e=/^\#([A-Fa-f0-9]+)$/.exec(style)){var d=e[1],m=d.length;if(3===m)return this.r=parseInt(d.charAt(0)+d.charAt(0),16)/255,this.g=parseInt(d.charAt(1)+d.charAt(1),16)/255,this.b=parseInt(d.charAt(2)+d.charAt(2),16)/255,this;if(6===m)return this.r=parseInt(d.charAt(0)+d.charAt(1),16)/255,this.g=parseInt(d.charAt(2)+d.charAt(3),16)/255,this.b=parseInt(d.charAt(4)+d.charAt(5),16)/255,this}return style&&style.length>0?this.setColorName(style):this},setColorName:function(style){var t=Ut[style];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+style),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=qt(t.r),this.g=qt(t.g),this.b=qt(t.b),this},copyLinearToSRGB:function(t){return this.r=Xt(t.r),this.g=Xt(t.g),this.b=Xt(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,r=this.r,g=this.g,b=this.b,o=Math.max(r,g,b),l=Math.min(r,g,b),c=(l+o)/2;if(l===o)e=0,n=0;else{var d=o-l;switch(n=c<=.5?d/(o+l):d/(2-o-l),o){case r:e=(g-b)/d+(g<b?6:0);break;case g:e=(b-r)/d+2;break;case b:e=(r-g)/d+4}e/=6}return t.h=e,t.s=n,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,s,e){return this.getHSL(zt),zt.h+=t,zt.s+=s,zt.l+=e,this.setHSL(zt.h,zt.s,zt.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(s){return this.r+=s,this.g+=s,this.b+=s,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(s){return this.r*=s,this.g*=s,this.b*=s,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(t,e){this.getHSL(zt),t.getHSL(Vt);var n=r.lerp(zt.h,Vt.h,e),s=r.lerp(zt.s,Vt.s,e),o=r.lerp(zt.l,Vt.l,e);return this.setHSL(n,s,o),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}}),Gt.NAMES=Ut,Object.assign(Yt.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.a=source.a,this.b=source.b,this.c=source.c,this.normal.copy(source.normal),this.color.copy(source.color),this.materialIndex=source.materialIndex;for(var i=0,t=source.vertexNormals.length;i<t;i++)this.vertexNormals[i]=source.vertexNormals[i].clone();for(i=0,t=source.vertexColors.length;i<t;i++)this.vertexColors[i]=source.vertexColors[i].clone();return this}});var Kt=0;function Qt(){Object.defineProperty(this,"id",{value:Kt++}),this.uuid=r.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Zt(t){Qt.call(this),this.type="MeshBasicMaterial",this.color=new Gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Qt.prototype=Object.assign(Object.create(e.prototype),{constructor:Qt,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(meta){var t=void 0===meta||"string"==typeof meta;t&&(meta={textures:{},images:{}});var data={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function e(t){var e=[];for(var n in t){var data=t[n];delete data.metadata,e.push(data)}return e}if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),this.color&&this.color.isColor&&(data.color=this.color.getHex()),void 0!==this.roughness&&(data.roughness=this.roughness),void 0!==this.metalness&&(data.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(data.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(data.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(data.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(data.specular=this.specular.getHex()),void 0!==this.shininess&&(data.shininess=this.shininess),void 0!==this.clearcoat&&(data.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(data.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(data.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(meta).uuid,data.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(data.map=this.map.toJSON(meta).uuid),this.matcap&&this.matcap.isTexture&&(data.matcap=this.matcap.toJSON(meta).uuid),this.alphaMap&&this.alphaMap.isTexture&&(data.alphaMap=this.alphaMap.toJSON(meta).uuid),this.lightMap&&this.lightMap.isTexture&&(data.lightMap=this.lightMap.toJSON(meta).uuid),this.aoMap&&this.aoMap.isTexture&&(data.aoMap=this.aoMap.toJSON(meta).uuid,data.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(data.bumpMap=this.bumpMap.toJSON(meta).uuid,data.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(data.normalMap=this.normalMap.toJSON(meta).uuid,data.normalMapType=this.normalMapType,data.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(data.displacementMap=this.displacementMap.toJSON(meta).uuid,data.displacementScale=this.displacementScale,data.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(data.roughnessMap=this.roughnessMap.toJSON(meta).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(data.metalnessMap=this.metalnessMap.toJSON(meta).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(data.emissiveMap=this.emissiveMap.toJSON(meta).uuid),this.specularMap&&this.specularMap.isTexture&&(data.specularMap=this.specularMap.toJSON(meta).uuid),this.envMap&&this.envMap.isTexture&&(data.envMap=this.envMap.toJSON(meta).uuid,data.reflectivity=this.reflectivity,data.refractionRatio=this.refractionRatio,void 0!==this.combine&&(data.combine=this.combine),void 0!==this.envMapIntensity&&(data.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(data.gradientMap=this.gradientMap.toJSON(meta).uuid),void 0!==this.size&&(data.size=this.size),void 0!==this.sizeAttenuation&&(data.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(data.blending=this.blending),!0===this.flatShading&&(data.flatShading=this.flatShading),0!==this.side&&(data.side=this.side),0!==this.vertexColors&&(data.vertexColors=this.vertexColors),this.opacity<1&&(data.opacity=this.opacity),!0===this.transparent&&(data.transparent=this.transparent),data.depthFunc=this.depthFunc,data.depthTest=this.depthTest,data.depthWrite=this.depthWrite,data.stencilWrite=this.stencilWrite,data.stencilWriteMask=this.stencilWriteMask,data.stencilFunc=this.stencilFunc,data.stencilRef=this.stencilRef,data.stencilFuncMask=this.stencilFuncMask,data.stencilFail=this.stencilFail,data.stencilZFail=this.stencilZFail,data.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(data.rotation=this.rotation),!0===this.polygonOffset&&(data.polygonOffset=!0),0!==this.polygonOffsetFactor&&(data.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(data.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(data.linewidth=this.linewidth),void 0!==this.dashSize&&(data.dashSize=this.dashSize),void 0!==this.gapSize&&(data.gapSize=this.gapSize),void 0!==this.scale&&(data.scale=this.scale),!0===this.dithering&&(data.dithering=!0),this.alphaTest>0&&(data.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(data.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(data.wireframe=this.wireframe),this.wireframeLinewidth>1&&(data.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(data.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(data.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(data.morphTargets=!0),!0===this.morphNormals&&(data.morphNormals=!0),!0===this.skinning&&(data.skinning=!0),!1===this.visible&&(data.visible=!1),!1===this.toneMapped&&(data.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(data.userData=this.userData),t){var n=e(meta.textures),r=e(meta.images);n.length>0&&(data.textures=n),r.length>0&&(data.images=r)}return data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.name=source.name,this.fog=source.fog,this.blending=source.blending,this.side=source.side,this.flatShading=source.flatShading,this.vertexTangents=source.vertexTangents,this.vertexColors=source.vertexColors,this.opacity=source.opacity,this.transparent=source.transparent,this.blendSrc=source.blendSrc,this.blendDst=source.blendDst,this.blendEquation=source.blendEquation,this.blendSrcAlpha=source.blendSrcAlpha,this.blendDstAlpha=source.blendDstAlpha,this.blendEquationAlpha=source.blendEquationAlpha,this.depthFunc=source.depthFunc,this.depthTest=source.depthTest,this.depthWrite=source.depthWrite,this.stencilWriteMask=source.stencilWriteMask,this.stencilFunc=source.stencilFunc,this.stencilRef=source.stencilRef,this.stencilFuncMask=source.stencilFuncMask,this.stencilFail=source.stencilFail,this.stencilZFail=source.stencilZFail,this.stencilZPass=source.stencilZPass,this.stencilWrite=source.stencilWrite;var t=source.clippingPlanes,e=null;if(null!==t){var n=t.length;e=new Array(n);for(var i=0;i!==n;++i)e[i]=t[i].clone()}return this.clippingPlanes=e,this.clipIntersection=source.clipIntersection,this.clipShadows=source.clipShadows,this.shadowSide=source.shadowSide,this.colorWrite=source.colorWrite,this.precision=source.precision,this.polygonOffset=source.polygonOffset,this.polygonOffsetFactor=source.polygonOffsetFactor,this.polygonOffsetUnits=source.polygonOffsetUnits,this.dithering=source.dithering,this.alphaTest=source.alphaTest,this.premultipliedAlpha=source.premultipliedAlpha,this.visible=source.visible,this.toneMapped=source.toneMapped,this.userData=JSON.parse(JSON.stringify(source.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Qt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Zt.prototype=Object.create(Qt.prototype),Zt.prototype.constructor=Zt,Zt.prototype.isMeshBasicMaterial=!0,Zt.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this};var Jt=new m;function $t(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function te(t,e,n){$t.call(this,new Int8Array(t),e,n)}function ee(t,e,n){$t.call(this,new Uint8Array(t),e,n)}function ie(t,e,n){$t.call(this,new Uint8ClampedArray(t),e,n)}function ne(t,e,n){$t.call(this,new Int16Array(t),e,n)}function re(t,e,n){$t.call(this,new Uint16Array(t),e,n)}function ae(t,e,n){$t.call(this,new Int32Array(t),e,n)}function oe(t,e,n){$t.call(this,new Uint32Array(t),e,n)}function se(t,e,n){$t.call(this,new Float32Array(t),e,n)}function pe(t,e,n){$t.call(this,new Float64Array(t),e,n)}function le(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ce(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,n=t.length;i<n;++i)t[i]>e&&(e=t[i]);return e}Object.defineProperty($t.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign($t.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(source){return this.name=source.name,this.array=new source.array.constructor(source.array),this.itemSize=source.itemSize,this.count=source.count,this.normalized=source.normalized,this.usage=source.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Gt),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var l=t[i];void 0===l&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),l=new o),e[n++]=l.x,e[n++]=l.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new m),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new A),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},applyMatrix3:function(t){for(var i=0,e=this.count;i<e;i++)Jt.x=this.getX(i),Jt.y=this.getY(i),Jt.z=this.getZ(i),Jt.applyMatrix3(t),this.setXYZ(i,Jt.x,Jt.y,Jt.z);return this},applyMatrix4:function(t){for(var i=0,e=this.count;i<e;i++)Jt.x=this.getX(i),Jt.y=this.getY(i),Jt.z=this.getZ(i),Jt.applyMatrix4(t),this.setXYZ(i,Jt.x,Jt.y,Jt.z);return this},applyNormalMatrix:function(t){for(var i=0,e=this.count;i<e;i++)Jt.x=this.getX(i),Jt.y=this.getY(i),Jt.z=this.getZ(i),Jt.applyNormalMatrix(t),this.setXYZ(i,Jt.x,Jt.y,Jt.z);return this},transformDirection:function(t){for(var i=0,e=this.count;i<e;i++)Jt.x=this.getX(i),Jt.y=this.getY(i),Jt.z=this.getZ(i),Jt.transformDirection(t),this.setXYZ(i,Jt.x,Jt.y,Jt.z);return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),te.prototype=Object.create($t.prototype),te.prototype.constructor=te,ee.prototype=Object.create($t.prototype),ee.prototype.constructor=ee,ie.prototype=Object.create($t.prototype),ie.prototype.constructor=ie,ne.prototype=Object.create($t.prototype),ne.prototype.constructor=ne,re.prototype=Object.create($t.prototype),re.prototype.constructor=re,ae.prototype=Object.create($t.prototype),ae.prototype.constructor=ae,oe.prototype=Object.create($t.prototype),oe.prototype.constructor=oe,se.prototype=Object.create($t.prototype),se.prototype.constructor=se,pe.prototype=Object.create($t.prototype),pe.prototype.constructor=pe,Object.assign(le.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,o=t.faces,i=0;i<o.length;i++){var l=o[i];l.materialIndex!==r&&(r=l.materialIndex,void 0!==e&&(e.count=3*i-e.start,n.push(e)),e={start:3*i,materialIndex:r})}void 0!==e&&(e.count=3*i-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,l=t.faceVertexUvs,c=l[0]&&l[0].length>0,d=l[1]&&l[1].length>0,m=t.morphTargets,h=m.length;if(h>0){e=[];for(var i=0;i<h;i++)e[i]={name:m[i].name,data:[]};this.morphTargets.position=e}var f,v=t.morphNormals,x=v.length;if(x>0){for(f=[],i=0;i<x;i++)f[i]={name:v[i].name,data:[]};this.morphTargets.normal=f}var y=t.skinIndices,w=t.skinWeights,A=y.length===r.length,E=w.length===r.length;for(r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),i=0;i<n.length;i++){var M=n[i];this.vertices.push(r[M.a],r[M.b],r[M.c]);var T=M.vertexNormals;if(3===T.length)this.normals.push(T[0],T[1],T[2]);else{var _=M.normal;this.normals.push(_,_,_)}var S,C=M.vertexColors;if(3===C.length)this.colors.push(C[0],C[1],C[2]);else{var L=M.color;this.colors.push(L,L,L)}!0===c&&(void 0!==(S=l[0][i])?this.uvs.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",i),this.uvs.push(new o,new o,new o))),!0===d&&(void 0!==(S=l[1][i])?this.uvs2.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",i),this.uvs2.push(new o,new o,new o)));for(var R=0;R<h;R++){var k=m[R].vertices;e[R].data.push(k[M.a],k[M.b],k[M.c])}for(R=0;R<x;R++){var P=v[R].vertexNormals[i];f[R].data.push(P.a,P.b,P.c)}A&&this.skinIndices.push(y[M.a],y[M.b],y[M.c]),E&&this.skinWeights.push(w[M.a],w[M.b],w[M.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});var de=1,me=new P,he=new Z,ue=new m,fe=new ut,ge=new ut,ve=new m;function xe(){Object.defineProperty(this,"id",{value:de+=2}),this.uuid=r.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}xe.prototype=Object.assign(Object.create(e.prototype),{constructor:xe,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(ce(t)>65535?oe:re)(t,1):this.index=t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new v).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!0}var o=this.attributes.tangent;return void 0!==o&&(o.transformDirection(t),o.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return me.makeRotationX(t),this.applyMatrix(me),this},rotateY:function(t){return me.makeRotationY(t),this.applyMatrix(me),this},rotateZ:function(t){return me.makeRotationZ(t),this.applyMatrix(me),this},translate:function(t,e,n){return me.makeTranslation(t,e,n),this.applyMatrix(me),this},scale:function(t,e,n){return me.makeScale(t,e,n),this.applyMatrix(me),this},lookAt:function(t){return he.lookAt(t),he.updateMatrix(),this.applyMatrix(he.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ue).negate(),this.translate(ue.x,ue.y,ue.z),this},setFromObject:function(object){var t=object.geometry;if(object.isPoints||object.isLine){var e=new se(3*t.vertices.length,3),n=new se(3*t.colors.length,3);if(this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new se(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else object.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new se(e,3)),this},updateFromObject:function(object){var t,e=object.geometry;if(object.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}return!0===e.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(object.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new le).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new $t(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.setAttribute("normal",new $t(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.setAttribute("color",new $t(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var o=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new $t(o,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var l=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new $t(l,2).copyVector2sArray(t.uvs2))}for(var c in this.groups=t.groups,t.morphTargets){for(var d=[],m=t.morphTargets[c],i=0,h=m.length;i<h;i++){var f=m[i],v=new se(3*f.data.length,3);v.name=f.name,d.push(v.copyVector3sArray(f.data))}this.morphAttributes[c]=d}if(t.skinIndices.length>0){var x=new se(4*t.skinIndices.length,4);this.setAttribute("skinIndex",x.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var y=new se(4*t.skinWeights.length,4);this.setAttribute("skinWeight",y.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ut);var t=this.attributes.position,e=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var i=0,n=e.length;i<n;i++){var r=e[i];fe.setFromBufferAttribute(r),this.morphTargetsRelative?(ve.addVectors(this.boundingBox.min,fe.min),this.boundingBox.expandByPoint(ve),ve.addVectors(this.boundingBox.max,fe.max),this.boundingBox.expandByPoint(ve)):(this.boundingBox.expandByPoint(fe.min),this.boundingBox.expandByPoint(fe.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vt);var t=this.attributes.position,e=this.morphAttributes.position;if(t){var n=this.boundingSphere.center;if(fe.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var o=e[i];ge.setFromBufferAttribute(o),this.morphTargetsRelative?(ve.addVectors(fe.min,ge.min),fe.expandByPoint(ve),ve.addVectors(fe.max,ge.max),fe.expandByPoint(ve)):(fe.expandByPoint(ge.min),fe.expandByPoint(ge.max))}fe.getCenter(n);var l=0;for(i=0,r=t.count;i<r;i++)ve.fromBufferAttribute(t,i),l=Math.max(l,n.distanceToSquared(ve));if(e)for(i=0,r=e.length;i<r;i++){o=e[i];for(var c=this.morphTargetsRelative,d=0,m=o.count;d<m;d++)ve.fromBufferAttribute(o,d),c&&(ue.fromBufferAttribute(t,d),ve.add(ue)),l=Math.max(l,n.distanceToSquared(ve))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.setAttribute("normal",new $t(new Float32Array(n.length),3));else for(var r=e.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var l,c,d,h=e.normal.array,f=new m,v=new m,x=new m,y=new m,w=new m;if(t){var A=t.array;for(i=0,o=t.count;i<o;i+=3)l=3*A[i+0],c=3*A[i+1],d=3*A[i+2],f.fromArray(n,l),v.fromArray(n,c),x.fromArray(n,d),y.subVectors(x,v),w.subVectors(f,v),y.cross(w),h[l]+=y.x,h[l+1]+=y.y,h[l+2]+=y.z,h[c]+=y.x,h[c+1]+=y.y,h[c+2]+=y.z,h[d]+=y.x,h[d+1]+=y.y,h[d+2]+=y.z}else for(i=0,o=n.length;i<o;i+=9)f.fromArray(n,i),v.fromArray(n,i+3),x.fromArray(n,i+6),y.subVectors(x,v),w.subVectors(f,v),y.cross(w),h[i]=y.x,h[i+1]=y.y,h[i+2]=y.z,h[i+3]=y.x,h[i+4]=y.y,h[i+5]=y.z,h[i+6]=y.x,h[i+7]=y.y,h[i+8]=y.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var o=n[r].array,l=t.attributes[r],c=l.array,d=l.itemSize*e,m=Math.min(c.length,o.length-d),i=0,h=d;i<m;i++,h++)o[h]=c[i];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,i=0,e=t.count;i<e;i++)ve.x=t.getX(i),ve.y=t.getY(i),ve.z=t.getZ(i),ve.normalize(),t.setXYZ(i,ve.x,ve.y,ve.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,r=t.itemSize,o=new n.constructor(e.length*r),l=0,c=0,i=0,d=e.length;i<d;i++){l=e[i]*r;for(var m=0;m<r;m++)o[c++]=n[l++]}return new $t(o,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new xe,n=this.index.array,r=this.attributes;for(var o in r){var l=t(r[o],n);e.setAttribute(o,l)}var c=this.morphAttributes;for(o in c){for(var d=[],m=c[o],i=0,h=m.length;i<h;i++)l=t(m[i],n),d.push(l);e.morphAttributes[o]=d}e.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,v=(i=0,f.length);i<v;i++){var x=f[i];e.addGroup(x.start,x.count,x.materialIndex)}return e},toJSON:function(){var data={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),Object.keys(this.userData).length>0&&(data.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var e in t)void 0!==t[e]&&(data[e]=t[e]);return data}data.data={attributes:{}};var n=this.index;null!==n&&(data.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var r=this.attributes;for(var e in r){var o=(f=r[e]).toJSON();""!==f.name&&(o.name=f.name),data.data.attributes[e]=o}var l={},c=!1;for(var e in this.morphAttributes){for(var d=this.morphAttributes[e],m=[],i=0,h=d.length;i<h;i++){var f;o=(f=d[i]).toJSON(),""!==f.name&&(o.name=f.name),m.push(o)}m.length>0&&(l[e]=m,c=!0)}c&&(data.data.morphAttributes=l,data.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(data.data.groups=JSON.parse(JSON.stringify(v)));var x=this.boundingSphere;return null!==x&&(data.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),data},clone:function(){return(new xe).copy(this)},copy:function(source){var t,i,e;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=source.name;var n=source.index;null!==n&&this.setIndex(n.clone());var r=source.attributes;for(t in r){var o=r[t];this.setAttribute(t,o.clone())}var l=source.morphAttributes;for(t in l){var c=[],d=l[t];for(i=0,e=d.length;i<e;i++)c.push(d[i].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=source.morphTargetsRelative;var m=source.groups;for(i=0,e=m.length;i<e;i++){var h=m[i];this.addGroup(h.start,h.count,h.materialIndex)}var f=source.boundingBox;null!==f&&(this.boundingBox=f.clone());var v=source.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=source.drawRange.start,this.drawRange.count=source.drawRange.count,this.userData=source.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ye=new P,be=new Tt,we=new vt,Ae=new m,Ee=new m,Me=new m,Te=new m,_e=new m,Se=new m,Ce=new m,Le=new m,Re=new m,ke=new o,Pe=new o,De=new o,Oe=new m,Ie=new m;function Be(t,e){Z.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new xe,this.material=void 0!==e?e:new Zt({color:16777215*Math.random()}),this.updateMorphTargets()}function Ne(object,t,e,n,r,o,l,c){if(null===(1===t.side?n.intersectTriangle(l,o,r,!0,c):n.intersectTriangle(r,o,l,2!==t.side,c)))return null;Ie.copy(c),Ie.applyMatrix4(object.matrixWorld);var d=e.ray.origin.distanceTo(Ie);return d<e.near||d>e.far?null:{distance:d,point:Ie.clone(),object:object}}function Fe(object,t,e,n,r,l,c,d,m,a,b,h){Ae.fromBufferAttribute(r,a),Ee.fromBufferAttribute(r,b),Me.fromBufferAttribute(r,h);var f=object.morphTargetInfluences;if(t.morphTargets&&l&&f){Ce.set(0,0,0),Le.set(0,0,0),Re.set(0,0,0);for(var i=0,v=l.length;i<v;i++){var x=f[i],y=l[i];0!==x&&(Te.fromBufferAttribute(y,a),_e.fromBufferAttribute(y,b),Se.fromBufferAttribute(y,h),c?(Ce.addScaledVector(Te,x),Le.addScaledVector(_e,x),Re.addScaledVector(Se,x)):(Ce.addScaledVector(Te.sub(Ae),x),Le.addScaledVector(_e.sub(Ee),x),Re.addScaledVector(Se.sub(Me),x)))}Ae.add(Ce),Ee.add(Le),Me.add(Re)}var w=Ne(object,t,e,n,Ae,Ee,Me,Oe);if(w){d&&(ke.fromBufferAttribute(d,a),Pe.fromBufferAttribute(d,b),De.fromBufferAttribute(d,h),w.uv=Ht.getUV(Oe,Ae,Ee,Me,ke,Pe,De,new o)),m&&(ke.fromBufferAttribute(m,a),Pe.fromBufferAttribute(m,b),De.fromBufferAttribute(m,h),w.uv2=Ht.getUV(Oe,Ae,Ee,Me,ke,Pe,De,new o));var A=new Yt(a,b,h);Ht.getNormal(Ae,Ee,Me,A.normal),w.face=A}return w}Be.prototype=Object.assign(Object.create(Z.prototype),{constructor:Be,isMesh:!0,copy:function(source){return Z.prototype.copy.call(this,source),void 0!==source.morphTargetInfluences&&(this.morphTargetInfluences=source.morphTargetInfluences.slice()),void 0!==source.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},source.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var o=r.morphAttributes,l=Object.keys(o);if(l.length>0){var c=o[l[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=c.length;t<e;t++)n=c[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var d=r.morphTargets;void 0!==d&&d.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,r=this.geometry,l=this.material,c=this.matrixWorld;if(void 0!==l&&(null===r.boundingSphere&&r.computeBoundingSphere(),we.copy(r.boundingSphere),we.applyMatrix4(c),!1!==t.ray.intersectsSphere(we)&&(ye.getInverse(c),be.copy(t.ray).applyMatrix4(ye),null===r.boundingBox||!1!==be.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,b,d,i,m,h,f,v,x,y=r.index,w=r.attributes.position,A=r.morphAttributes.position,E=r.morphTargetsRelative,M=r.attributes.uv,T=r.attributes.uv2,_=r.groups,S=r.drawRange;if(null!==y)if(Array.isArray(l))for(i=0,h=_.length;i<h;i++)for(x=l[(v=_[i]).materialIndex],m=Math.max(v.start,S.start),f=Math.min(v.start+v.count,S.start+S.count);m<f;m+=3)a=y.getX(m),b=y.getX(m+1),d=y.getX(m+2),(n=Fe(this,x,t,be,w,A,E,M,T,a,b,d))&&(n.faceIndex=Math.floor(m/3),n.face.materialIndex=v.materialIndex,e.push(n));else for(i=Math.max(0,S.start),h=Math.min(y.count,S.start+S.count);i<h;i+=3)a=y.getX(i),b=y.getX(i+1),d=y.getX(i+2),(n=Fe(this,l,t,be,w,A,E,M,T,a,b,d))&&(n.faceIndex=Math.floor(i/3),e.push(n));else if(void 0!==w)if(Array.isArray(l))for(i=0,h=_.length;i<h;i++)for(x=l[(v=_[i]).materialIndex],m=Math.max(v.start,S.start),f=Math.min(v.start+v.count,S.start+S.count);m<f;m+=3)(n=Fe(this,x,t,be,w,A,E,M,T,a=m,b=m+1,d=m+2))&&(n.faceIndex=Math.floor(m/3),n.face.materialIndex=v.materialIndex,e.push(n));else for(i=Math.max(0,S.start),h=Math.min(w.count,S.start+S.count);i<h;i+=3)(n=Fe(this,l,t,be,w,A,E,M,T,a=i,b=i+1,d=i+2))&&(n.faceIndex=Math.floor(i/3),e.push(n))}else if(r.isGeometry){var C,L,R,k,P=Array.isArray(l),D=r.vertices,O=r.faces,I=r.faceVertexUvs[0];I.length>0&&(k=I);for(var B=0,N=O.length;B<N;B++){var F=O[B],j=P?l[F.materialIndex]:l;if(void 0!==j&&(C=D[F.a],L=D[F.b],R=D[F.c],n=Ne(this,j,t,be,C,L,R,Oe))){if(k&&k[B]){var H=k[B];ke.copy(H[0]),Pe.copy(H[1]),De.copy(H[2]),n.uv=Ht.getUV(Oe,C,L,R,ke,Pe,De,new o)}n.face=F,n.faceIndex=B,e.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var je=0,He=new P,Ue=new Z,ze=new m;function Ve(){Object.defineProperty(this,"id",{value:je+=2}),this.uuid=r.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Ve.prototype=Object.assign(Object.create(e.prototype),{constructor:Ve,isGeometry:!0,applyMatrix:function(t){for(var e=(new v).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++)this.vertices[i].applyMatrix4(t);for(i=0,n=this.faces.length;i<n;i++){var r=this.faces[i];r.normal.applyMatrix3(e).normalize();for(var o=0,l=r.vertexNormals.length;o<l;o++)r.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return He.makeRotationX(t),this.applyMatrix(He),this},rotateY:function(t){return He.makeRotationY(t),this.applyMatrix(He),this},rotateZ:function(t){return He.makeRotationZ(t),this.applyMatrix(He),this},translate:function(t,e,n){return He.makeTranslation(t,e,n),this.applyMatrix(He),this},scale:function(t,e,n){return He.makeScale(t,e,n),this.applyMatrix(He),this},lookAt:function(t){return Ue.lookAt(t),Ue.updateMatrix(),this.applyMatrix(Ue.matrix),this},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var l=r.position.array,c=void 0!==r.normal?r.normal.array:void 0,d=void 0!==r.color?r.color.array:void 0,h=void 0!==r.uv?r.uv.array:void 0,f=void 0!==r.uv2?r.uv2.array:void 0;void 0!==f&&(this.faceVertexUvs[1]=[]);for(var i=0;i<l.length;i+=3)e.vertices.push((new m).fromArray(l,i)),void 0!==d&&e.colors.push((new Gt).fromArray(d,i));function v(a,b,t,n){var r=void 0===d?[]:[e.colors[a].clone(),e.colors[b].clone(),e.colors[t].clone()],l=new Yt(a,b,t,void 0===c?[]:[(new m).fromArray(c,3*a),(new m).fromArray(c,3*b),(new m).fromArray(c,3*t)],r,n);e.faces.push(l),void 0!==h&&e.faceVertexUvs[0].push([(new o).fromArray(h,2*a),(new o).fromArray(h,2*b),(new o).fromArray(h,2*t)]),void 0!==f&&e.faceVertexUvs[1].push([(new o).fromArray(f,2*a),(new o).fromArray(f,2*b),(new o).fromArray(f,2*t)])}var x=t.groups;if(x.length>0)for(i=0;i<x.length;i++)for(var y=x[i],w=y.start,A=w,E=w+y.count;A<E;A+=3)void 0!==n?v(n[A],n[A+1],n[A+2],y.materialIndex):v(A,A+1,A+2,y.materialIndex);else if(void 0!==n)for(i=0;i<n.length;i+=3)v(n[i],n[i+1],n[i+2]);else for(i=0;i<l.length/3;i+=3)v(i,i+1,i+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ze).negate(),this.translate(ze.x,ze.y,ze.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,s=0===e?1:1/e,n=new P;return n.set(s,0,0,-s*t.x,0,s,0,-s*t.y,0,0,s,-s*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new m,e=new m,n=0,r=this.faces.length;n<r;n++){var o=this.faces[n],l=this.vertices[o.a],c=this.vertices[o.b],d=this.vertices[o.c];t.subVectors(d,c),e.subVectors(l,c),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,o,l,c;for(void 0===t&&(t=!0),c=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)c[e]=new m;if(t){var d,h,f,v=new m,x=new m;for(r=0,o=this.faces.length;r<o;r++)l=this.faces[r],d=this.vertices[l.a],h=this.vertices[l.b],f=this.vertices[l.c],v.subVectors(f,h),x.subVectors(d,h),v.cross(x),c[l.a].add(v),c[l.b].add(v),c[l.c].add(v)}else for(this.computeFaceNormals(),r=0,o=this.faces.length;r<o;r++)c[(l=this.faces[r]).a].add(l.normal),c[l.b].add(l.normal),c[l.c].add(l.normal);for(e=0,n=this.vertices.length;e<n;e++)c[e].normalize();for(r=0,o=this.faces.length;r<o;r++){var y=(l=this.faces[r]).vertexNormals;3===y.length?(y[0].copy(c[l.a]),y[1].copy(c[l.b]),y[2].copy(c[l.c])):(y[0]=c[l.a].clone(),y[1]=c[l.b].clone(),y[2]=c[l.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var i,t,e,n,r;for(e=0,n=this.faces.length;e<n;e++)for((r=this.faces[e]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),i=0,t=r.vertexNormals.length;i<t;i++)r.__originalVertexNormals[i]?r.__originalVertexNormals[i].copy(r.vertexNormals[i]):r.__originalVertexNormals[i]=r.vertexNormals[i].clone();var o=new Ve;for(o.faces=this.faces,i=0,t=this.morphTargets.length;i<t;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[];var l=this.morphNormals[i].faceNormals,c=this.morphNormals[i].vertexNormals;for(e=0,n=this.faces.length;e<n;e++)d=new m,h={a:new m,b:new m,c:new m},l.push(d),c.push(h)}var d,h,f=this.morphNormals[i];for(o.vertices=this.morphTargets[i].vertices,o.computeFaceNormals(),o.computeVertexNormals(),e=0,n=this.faces.length;e<n;e++)r=this.faces[e],d=f.faceNormals[e],h=f.vertexNormals[e],d.copy(r.normal),h.a.copy(r.vertexNormals[0]),h.b.copy(r.vertexNormals[1]),h.c.copy(r.vertexNormals[2])}for(e=0,n=this.faces.length;e<n;e++)(r=this.faces[e]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ut),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,o=this.vertices.length,l=this.vertices,c=t.vertices,d=this.faces,m=t.faces,h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new v).getNormalMatrix(e));for(var i=0,x=c.length;i<x;i++){var y=c[i].clone();void 0!==e&&y.applyMatrix4(e),l.push(y)}for(i=0,x=f.length;i<x;i++)h.push(f[i].clone());for(i=0,x=m.length;i<x;i++){var w,A,E,M=m[i],T=M.vertexNormals,_=M.vertexColors;(w=new Yt(M.a+o,M.b+o,M.c+o)).normal.copy(M.normal),void 0!==r&&w.normal.applyMatrix3(r).normalize();for(var S=0,C=T.length;S<C;S++)A=T[S].clone(),void 0!==r&&A.applyMatrix3(r).normalize(),w.vertexNormals.push(A);for(w.color.copy(M.color),S=0,C=_.length;S<C;S++)E=_[S],w.vertexColors.push(E.clone());w.materialIndex=M.materialIndex+n,d.push(w)}for(i=0,x=t.faceVertexUvs.length;i<x;i++){var L=t.faceVertexUvs[i];for(void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]),S=0,C=L.length;S<C;S++){for(var R=L[S],k=[],P=0,D=R.length;P<D;P++)k.push(R[P].clone());this.faceVertexUvs[i].push(k)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,i,n,r,o,l,c,d={},m=[],h=[],f=Math.pow(10,4);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],void 0===d[e=Math.round(t.x*f)+"_"+Math.round(t.y*f)+"_"+Math.round(t.z*f)]?(d[e]=i,m.push(this.vertices[i]),h[i]=m.length-1):h[i]=h[d[e]];var v=[];for(i=0,n=this.faces.length;i<n;i++){(r=this.faces[i]).a=h[r.a],r.b=h[r.b],r.c=h[r.c],o=[r.a,r.b,r.c];for(var x=0;x<3;x++)if(o[x]===o[(x+1)%3]){v.push(i);break}}for(i=v.length-1;i>=0;i--){var y=v[i];for(this.faces.splice(y,1),l=0,c=this.faceVertexUvs.length;l<c;l++)this.faceVertexUvs[l].splice(y,1)}var w=this.vertices.length-m.length;return this.vertices=m,w},setFromPoints:function(t){this.vertices=[];for(var i=0,e=t.length;i<e;i++){var n=t[i];this.vertices.push(new m(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(a,b){return a.materialIndex-b.materialIndex}));var n,r,o=this.faceVertexUvs[0],l=this.faceVertexUvs[1];for(o&&o.length===e&&(n=[]),l&&l.length===e&&(r=[]),i=0;i<e;i++){var c=t[i]._id;n&&n.push(o[c]),r&&r.push(l[c])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var data={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var e in t)void 0!==t[e]&&(data[e]=t[e]);return data}for(var n=[],i=0;i<this.vertices.length;i++){var r=this.vertices[i];n.push(r.x,r.y,r.z)}var o=[],l=[],c={},d=[],m={},h=[],f={};for(i=0;i<this.faces.length;i++){var v=this.faces[i],x=void 0!==this.faceVertexUvs[0][i],y=v.normal.length()>0,w=v.vertexNormals.length>0,A=1!==v.color.r||1!==v.color.g||1!==v.color.b,E=v.vertexColors.length>0,M=0;if(M=C(M,0,0),M=C(M,1,!0),M=C(M,2,!1),M=C(M,3,x),M=C(M,4,y),M=C(M,5,w),M=C(M,6,A),M=C(M,7,E),o.push(M),o.push(v.a,v.b,v.c),o.push(v.materialIndex),x){var T=this.faceVertexUvs[0][i];o.push(k(T[0]),k(T[1]),k(T[2]))}if(y&&o.push(L(v.normal)),w){var _=v.vertexNormals;o.push(L(_[0]),L(_[1]),L(_[2]))}if(A&&o.push(R(v.color)),E){var S=v.vertexColors;o.push(R(S[0]),R(S[1]),R(S[2]))}}function C(t,e,n){return n?t|1<<e:t&~(1<<e)}function L(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=l.length/3,l.push(t.x,t.y,t.z)),c[e]}function R(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==m[e]||(m[e]=d.length,d.push(t.getHex())),m[e]}function k(t){var e=t.x.toString()+t.y.toString();return void 0!==f[e]||(f[e]=h.length/2,h.push(t.x,t.y)),f[e]}return data.data={},data.data.vertices=n,data.data.normals=l,d.length>0&&(data.data.colors=d),h.length>0&&(data.data.uvs=[h]),data.data.faces=o,data},clone:function(){return(new Ve).copy(this)},copy:function(source){var i,t,e,n,r,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=source.name;var l=source.vertices;for(i=0,t=l.length;i<t;i++)this.vertices.push(l[i].clone());var c=source.colors;for(i=0,t=c.length;i<t;i++)this.colors.push(c[i].clone());var d=source.faces;for(i=0,t=d.length;i<t;i++)this.faces.push(d[i].clone());for(i=0,t=source.faceVertexUvs.length;i<t;i++){var m=source.faceVertexUvs[i];for(void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]),e=0,n=m.length;e<n;e++){var h=m[e],f=[];for(r=0,o=h.length;r<o;r++){var v=h[r];f.push(v.clone())}this.faceVertexUvs[i].push(f)}}var x=source.morphTargets;for(i=0,t=x.length;i<t;i++){var y={};if(y.name=x[i].name,void 0!==x[i].vertices)for(y.vertices=[],e=0,n=x[i].vertices.length;e<n;e++)y.vertices.push(x[i].vertices[e].clone());if(void 0!==x[i].normals)for(y.normals=[],e=0,n=x[i].normals.length;e<n;e++)y.normals.push(x[i].normals[e].clone());this.morphTargets.push(y)}var w=source.morphNormals;for(i=0,t=w.length;i<t;i++){var A={};if(void 0!==w[i].vertexNormals)for(A.vertexNormals=[],e=0,n=w[i].vertexNormals.length;e<n;e++){var E=w[i].vertexNormals[e],M={};M.a=E.a.clone(),M.b=E.b.clone(),M.c=E.c.clone(),A.vertexNormals.push(M)}if(void 0!==w[i].faceNormals)for(A.faceNormals=[],e=0,n=w[i].faceNormals.length;e<n;e++)A.faceNormals.push(w[i].faceNormals[e].clone());this.morphNormals.push(A)}var T=source.skinWeights;for(i=0,t=T.length;i<t;i++)this.skinWeights.push(T[i].clone());var _=source.skinIndices;for(i=0,t=_.length;i<t;i++)this.skinIndices.push(_[i].clone());var S=source.lineDistances;for(i=0,t=S.length;i<t;i++)this.lineDistances.push(S[i]);var C=source.boundingBox;null!==C&&(this.boundingBox=C.clone());var L=source.boundingSphere;return null!==L&&(this.boundingSphere=L.clone()),this.elementsNeedUpdate=source.elementsNeedUpdate,this.verticesNeedUpdate=source.verticesNeedUpdate,this.uvsNeedUpdate=source.uvsNeedUpdate,this.normalsNeedUpdate=source.normalsNeedUpdate,this.colorsNeedUpdate=source.colorsNeedUpdate,this.lineDistancesNeedUpdate=source.lineDistancesNeedUpdate,this.groupsNeedUpdate=source.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ge=function(t){function e(e,n,r,o,l,c){t.call(this),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:o,heightSegments:l,depthSegments:c},this.fromBufferGeometry(new We(e,n,r,o,l,c)),this.mergeVertices()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ve),We=function(t){function e(e,n,r,o,l,c){t.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:o,heightSegments:l,depthSegments:c};var d=this;e=e||1,n=n||1,r=r||1,o=Math.floor(o)||1,l=Math.floor(l)||1,c=Math.floor(c)||1;var h=[],f=[],v=[],x=[],y=0,w=0;function A(u,t,e,n,r,o,l,c,A,E,M){var T,_,S=o/A,C=l/E,L=o/2,R=l/2,k=c/2,P=A+1,D=E+1,O=0,I=0,B=new m;for(_=0;_<D;_++){var N=_*C-R;for(T=0;T<P;T++){var F=T*S-L;B[u]=F*n,B[t]=N*r,B[e]=k,f.push(B.x,B.y,B.z),B[u]=0,B[t]=0,B[e]=c>0?1:-1,v.push(B.x,B.y,B.z),x.push(T/A),x.push(1-_/E),O+=1}}for(_=0;_<E;_++)for(T=0;T<A;T++){var a=y+T+P*_,b=y+T+P*(_+1),j=y+(T+1)+P*(_+1),H=y+(T+1)+P*_;h.push(a,b,H),h.push(b,j,H),I+=6}d.addGroup(w,I,M),w+=I,y+=O}A("z","y","x",-1,-1,r,n,e,c,l,0),A("z","y","x",1,-1,r,n,-e,c,l,1),A("x","z","y",1,1,e,r,n,o,c,2),A("x","z","y",1,-1,e,r,-n,o,c,3),A("x","y","z",1,-1,e,n,r,o,l,4),A("x","y","z",-1,-1,e,n,-r,o,l,5),this.setIndex(h),this.setAttribute("position",new se(f,3)),this.setAttribute("normal",new se(v,3)),this.setAttribute("uv",new se(x,2))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(xe);function qe(t){var e={};for(var u in t)for(var p in e[u]={},t[u]){var n=t[u][p];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[u][p]=n.clone():Array.isArray(n)?e[u][p]=n.slice():e[u][p]=n}return e}function Xe(t){for(var e={},u=0;u<t.length;u++){var n=qe(t[u]);for(var p in n)e[p]=n[p]}return e}var Ye={clone:qe,merge:Xe};function Ke(t){Qt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Qe(){Z.call(this),this.type="Camera",this.matrixWorldInverse=new P,this.projectionMatrix=new P,this.projectionMatrixInverse=new P}function Ze(t,e,n,r){Qe.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Je(t,e,n,r){Z.call(this),this.type="CubeCamera";var o=new Ze(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new m(1,0,0)),this.add(o);var l=new Ze(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new m(-1,0,0)),this.add(l);var c=new Ze(90,1,t,e);c.up.set(0,0,1),c.lookAt(new m(0,1,0)),this.add(c);var d=new Ze(90,1,t,e);d.up.set(0,0,-1),d.lookAt(new m(0,-1,0)),this.add(d);var h=new Ze(90,1,t,e);h.up.set(0,-1,0),h.lookAt(new m(0,0,1)),this.add(h);var f=new Ze(90,1,t,e);f.up.set(0,-1,0),f.lookAt(new m(0,0,-1)),this.add(f),r=r||{format:1022,magFilter:1006,minFilter:1006},this.renderTarget=new $e(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.getRenderTarget(),r=this.renderTarget,m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,o),t.setRenderTarget(r,1),t.render(e,l),t.setRenderTarget(r,2),t.render(e,c),t.setRenderTarget(r,3),t.render(e,d),t.setRenderTarget(r,4),t.render(e,h),r.texture.generateMipmaps=m,t.setRenderTarget(r,5),t.render(e,f),t.setRenderTarget(n)},this.clear=function(t,e,n,r){for(var o=t.getRenderTarget(),l=this.renderTarget,i=0;i<6;i++)t.setRenderTarget(l,i),t.clear(e,n,r);t.setRenderTarget(o)}}function $e(t,e,n){E.call(this,t,e,n)}function ti(data,t,e,n,r,o,l,c,d,m,h,f){w.call(this,null,o,l,c,d,m,n,r,h,f),this.image={data:data||null,width:t||1,height:e||1},this.magFilter=void 0!==d?d:1003,this.minFilter=void 0!==m?m:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ke.prototype=Object.create(Qt.prototype),Ke.prototype.constructor=Ke,Ke.prototype.isShaderMaterial=!0,Ke.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.fragmentShader=source.fragmentShader,this.vertexShader=source.vertexShader,this.uniforms=qe(source.uniforms),this.defines=Object.assign({},source.defines),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.lights=source.lights,this.clipping=source.clipping,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this.extensions=source.extensions,this},Ke.prototype.toJSON=function(meta){var data=Qt.prototype.toJSON.call(this,meta);for(var t in data.uniforms={},this.uniforms){var e=this.uniforms[t].value;e&&e.isTexture?data.uniforms[t]={type:"t",value:e.toJSON(meta).uuid}:e&&e.isColor?data.uniforms[t]={type:"c",value:e.getHex()}:e&&e.isVector2?data.uniforms[t]={type:"v2",value:e.toArray()}:e&&e.isVector3?data.uniforms[t]={type:"v3",value:e.toArray()}:e&&e.isVector4?data.uniforms[t]={type:"v4",value:e.toArray()}:e&&e.isMatrix3?data.uniforms[t]={type:"m3",value:e.toArray()}:e&&e.isMatrix4?data.uniforms[t]={type:"m4",value:e.toArray()}:data.uniforms[t]={value:e}}Object.keys(this.defines).length>0&&(data.defines=this.defines),data.vertexShader=this.vertexShader,data.fragmentShader=this.fragmentShader;var n={};for(var r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(data.extensions=n),data},Qe.prototype=Object.assign(Object.create(Z.prototype),{constructor:Qe,isCamera:!0,copy:function(source,t){return Z.prototype.copy.call(this,source,t),this.matrixWorldInverse.copy(source.matrixWorldInverse),this.projectionMatrix.copy(source.projectionMatrix),this.projectionMatrixInverse.copy(source.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new m),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Z.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ze.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Ze,isPerspectiveCamera:!0,copy:function(source,t){return Qe.prototype.copy.call(this,source,t),this.fov=source.fov,this.zoom=source.zoom,this.near=source.near,this.far=source.far,this.focus=source.focus,this.aspect=source.aspect,this.view=null===source.view?null:Object.assign({},source.view),this.filmGauge=source.filmGauge,this.filmOffset=source.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*r.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*r.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*r.RAD2DEG*Math.atan(Math.tan(.5*r.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,o,l){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*r.DEG2RAD*this.fov)/this.zoom,n=2*e,o=this.aspect*n,l=-.5*o,view=this.view;if(null!==this.view&&this.view.enabled){var c=view.fullWidth,d=view.fullHeight;l+=view.offsetX*o/c,e-=view.offsetY*n/d,o*=view.width/c,n*=view.height/d}var m=this.filmOffset;0!==m&&(l+=t*m/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(meta){var data=Z.prototype.toJSON.call(this,meta);return data.object.fov=this.fov,data.object.zoom=this.zoom,data.object.near=this.near,data.object.far=this.far,data.object.focus=this.focus,data.object.aspect=this.aspect,null!==this.view&&(data.object.view=Object.assign({},this.view)),data.object.filmGauge=this.filmGauge,data.object.filmOffset=this.filmOffset,data}}),Je.prototype=Object.create(Z.prototype),Je.prototype.constructor=Je,$e.prototype=Object.create(E.prototype),$e.prototype.constructor=$e,$e.prototype.isWebGLRenderTargetCube=!0,$e.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var n=new J,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},o=new Ke({type:"CubemapFromEquirect",uniforms:qe(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=e;var l=new Be(new We(5,5,5),o);n.add(l);var c=new Je(1,10,1);return c.renderTarget=this,c.renderTarget.texture.name="CubeCameraTexture",c.update(t,n),l.geometry.dispose(),l.material.dispose(),this},ti.prototype=Object.create(w.prototype),ti.prototype.constructor=ti,ti.prototype.isDataTexture=!0;var ei=new vt,ii=new m;function ni(t,e,n,r,o,l){this.planes=[void 0!==t?t:new Lt,void 0!==e?e:new Lt,void 0!==n?n:new Lt,void 0!==r?r:new Lt,void 0!==o?o:new Lt,void 0!==l?l:new Lt]}Object.assign(ni.prototype,{set:function(t,e,n,r,o,l){var c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(n),c[3].copy(r),c[4].copy(o),c[5].copy(l),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],o=n[1],l=n[2],c=n[3],d=n[4],m=n[5],h=n[6],f=n[7],v=n[8],x=n[9],y=n[10],w=n[11],A=n[12],E=n[13],M=n[14],T=n[15];return e[0].setComponents(c-r,f-d,w-v,T-A).normalize(),e[1].setComponents(c+r,f+d,w+v,T+A).normalize(),e[2].setComponents(c+o,f+m,w+x,T+E).normalize(),e[3].setComponents(c-o,f-m,w-x,T-E).normalize(),e[4].setComponents(c-l,f-h,w-y,T-M).normalize(),e[5].setComponents(c+l,f+h,w+y,T+M).normalize(),this},intersectsObject:function(object){var t=object.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ei.copy(t.boundingSphere).applyMatrix4(object.matrixWorld),this.intersectsSphere(ei)},intersectsSprite:function(t){return ei.center.set(0,0,0),ei.radius=.7071067811865476,ei.applyMatrix4(t.matrixWorld),this.intersectsSphere(ei)},intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(t){for(var e=this.planes,i=0;i<6;i++){var n=e[i];if(ii.x=n.normal.x>0?t.max.x:t.min.x,ii.y=n.normal.y>0?t.max.y:t.min.y,ii.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(ii)<0)return!1}return!0},containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}});var ri={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToVariance(float roughness) {\n  float variance = 0.0;\n  if (roughness >= r1) {\n    variance = (r0 - roughness) * (v1 - v0) / (r0 - r1) + v0;\n  } else if (roughness >= r4) {\n    variance = (r1 - roughness) * (v4 - v1) / (r1 - r4) + v1;\n  } else if (roughness >= r5) {\n    variance = (r4 - roughness) * (v5 - v4) / (r4 - r5) + v4;\n  } else {\n    float roughness2 = roughness * roughness;\n    variance = 1.79 * roughness2 * roughness2;\n  }\n  return variance;\n}\nfloat varianceToRoughness(float variance) {\n  float roughness = 0.0;\n  if (variance >= v1) {\n    roughness = (v0 - variance) * (r1 - r0) / (v0 - v1) + r0;\n  } else if (variance >= v4) {\n    roughness = (v1 - variance) * (r4 - r1) / (v1 - v4) + r1;\n  } else if (variance >= v5) {\n    roughness = (v4 - variance) * (r5 - r4) / (v4 - v5) + r4;\n  } else {\n    roughness = pow(0.559 * variance, 0.25);  }\n  return roughness;\n}\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ), 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpack2HalfToRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpack2HalfToRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ai={common:{diffuse:{value:new Gt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new v},uv2Transform:{value:new v},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new o(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Gt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Gt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}},sprite:{diffuse:{value:new Gt(15658734)},opacity:{value:1},center:{value:new o(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}}},oi={basic:{uniforms:Xe([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.fog]),vertexShader:ri.meshbasic_vert,fragmentShader:ri.meshbasic_frag},lambert:{uniforms:Xe([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.fog,ai.lights,{emissive:{value:new Gt(0)}}]),vertexShader:ri.meshlambert_vert,fragmentShader:ri.meshlambert_frag},phong:{uniforms:Xe([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,ai.lights,{emissive:{value:new Gt(0)},specular:{value:new Gt(1118481)},shininess:{value:30}}]),vertexShader:ri.meshphong_vert,fragmentShader:ri.meshphong_frag},standard:{uniforms:Xe([ai.common,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.roughnessmap,ai.metalnessmap,ai.fog,ai.lights,{emissive:{value:new Gt(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},toon:{uniforms:Xe([ai.common,ai.specularmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.gradientmap,ai.fog,ai.lights,{emissive:{value:new Gt(0)},specular:{value:new Gt(1118481)},shininess:{value:30}}]),vertexShader:ri.meshtoon_vert,fragmentShader:ri.meshtoon_frag},matcap:{uniforms:Xe([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,{matcap:{value:null}}]),vertexShader:ri.meshmatcap_vert,fragmentShader:ri.meshmatcap_frag},points:{uniforms:Xe([ai.points,ai.fog]),vertexShader:ri.points_vert,fragmentShader:ri.points_frag},dashed:{uniforms:Xe([ai.common,ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ri.linedashed_vert,fragmentShader:ri.linedashed_frag},depth:{uniforms:Xe([ai.common,ai.displacementmap]),vertexShader:ri.depth_vert,fragmentShader:ri.depth_frag},normal:{uniforms:Xe([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,{opacity:{value:1}}]),vertexShader:ri.normal_vert,fragmentShader:ri.normal_frag},sprite:{uniforms:Xe([ai.sprite,ai.fog]),vertexShader:ri.sprite_vert,fragmentShader:ri.sprite_frag},background:{uniforms:{uvTransform:{value:new v},t2D:{value:null}},vertexShader:ri.background_vert,fragmentShader:ri.background_frag},cube:{uniforms:Xe([ai.envmap,{opacity:{value:1}}]),vertexShader:ri.cube_vert,fragmentShader:ri.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ri.equirect_vert,fragmentShader:ri.equirect_frag},distanceRGBA:{uniforms:Xe([ai.common,ai.displacementmap,{referencePosition:{value:new m},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ri.distanceRGBA_vert,fragmentShader:ri.distanceRGBA_frag},shadow:{uniforms:Xe([ai.lights,ai.fog,{color:{value:new Gt(0)},opacity:{value:1}}]),vertexShader:ri.shadow_vert,fragmentShader:ri.shadow_frag}};function si(){var t=null,e=!1,n=null;function r(time,o){!1!==e&&(n(time,o),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function pi(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var data=e.get(n);data&&(t.deleteBuffer(data.buffer),e.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var data=e.get(n);void 0===data?e.set(n,function(e,n){var r=e.array,o=e.usage,l=t.createBuffer();t.bindBuffer(n,l),t.bufferData(n,r,o),e.onUploadCallback();var c=5126;return r instanceof Float32Array?c=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?c=5123:r instanceof Int16Array?c=5122:r instanceof Uint32Array?c=5125:r instanceof Int32Array?c=5124:r instanceof Int8Array?c=5120:r instanceof Uint8Array&&(c=5121),{buffer:l,type:c,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(n,r)):data.version<n.version&&(function(e,n,r){var o=n.array,l=n.updateRange;t.bindBuffer(r,e),-1===l.count?t.bufferSubData(r,0,o):(t.bufferSubData(r,l.offset*o.BYTES_PER_ELEMENT,o.subarray(l.offset,l.offset+l.count)),l.count=-1)}(data.buffer,n,r),data.version=n.version)}}}function ci(t,e,n,r){Ve.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new di(t,e,n,r)),this.mergeVertices()}function di(t,e,n,r){xe.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var o,l,c=(t=t||1)/2,d=(e=e||1)/2,m=Math.floor(n)||1,h=Math.floor(r)||1,f=m+1,v=h+1,x=t/m,y=e/h,w=[],A=[],E=[],M=[];for(l=0;l<v;l++){var T=l*y-d;for(o=0;o<f;o++){var _=o*x-c;A.push(_,-T,0),E.push(0,0,1),M.push(o/m),M.push(1-l/h)}}for(l=0;l<h;l++)for(o=0;o<m;o++){var a=o+f*l,b=o+f*(l+1),S=o+1+f*(l+1),C=o+1+f*l;w.push(a,b,C),w.push(b,S,C)}this.setIndex(w),this.setAttribute("position",new se(A,3)),this.setAttribute("normal",new se(E,3)),this.setAttribute("uv",new se(M,2))}function mi(t,e,n,r){var o,l,c=new Gt(0),d=0,m=null,h=0;function f(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}return{getClearColor:function(){return c},setClearColor:function(t,e){c.set(t),f(c,d=void 0!==e?e:1)},getClearAlpha:function(){return d},setClearAlpha:function(t){f(c,d=t)},render:function(e,r,v,x){var y=r.background,w=t.xr,A=w.getSession&&w.getSession();if(A&&"additive"===A.environmentBlendMode&&(y=null),null===y?(f(c,d),m=null,h=0):y&&y.isColor&&(f(y,1),x=!0,m=null,h=0),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.isWebGLRenderTargetCube||306===y.mapping)){void 0===l&&((l=new Be(new We(1,1,1),new Ke({type:"BackgroundCubeMaterial",uniforms:qe(oi.cube.uniforms),vertexShader:oi.cube.vertexShader,fragmentShader:oi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"map",{get:function(){return this.envMap.value}}),n.update(l));var E=y.isWebGLRenderTargetCube?y.texture:y;l.material.envMap=E,m===y&&h===E.version||(l.material.needsUpdate=!0,m=y,h=E.version),e.unshift(l,l.geometry,l.material,0,0,null)}else y&&y.isTexture&&(void 0===o&&((o=new Be(new di(2,2),new Ke({type:"BackgroundMaterial",uniforms:qe(oi.background.uniforms),vertexShader:oi.background.vertexShader,fragmentShader:oi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=y,!0===y.matrixAutoUpdate&&y.updateMatrix(),o.material.uniforms.uvTransform.value.copy(y.matrix),m===y&&h===y.version||(o.material.needsUpdate=!0,m=y,h=y.version),e.unshift(o,o.geometry,o.material,0,0,null))}}}function hi(t,e,n,r){var o,l=r.isWebGL2;this.setMode=function(t){o=t},this.render=function(e,r){t.drawArrays(o,e,r),n.update(r,o)},this.renderInstances=function(r,c,d,m){if(0!==m){var h,f;if(l)h=t,f="drawArraysInstanced";else if(f="drawArraysInstancedANGLE",null===(h=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](o,c,d,m),n.update(d,o,m)}}}function ui(t,e,n){var r;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var l="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,c=void 0!==n.precision?n.precision:"highp",d=o(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);var m=!0===n.logarithmicDepthBuffer,h=t.getParameter(34930),f=t.getParameter(35660),v=t.getParameter(3379),x=t.getParameter(34076),y=t.getParameter(34921),w=t.getParameter(36347),A=t.getParameter(36348),E=t.getParameter(36349),M=f>0,T=l||!!e.get("OES_texture_float");return{isWebGL2:l,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:o,precision:c,logarithmicDepthBuffer:m,maxTextures:h,maxVertexTextures:f,maxTextureSize:v,maxCubemapSize:x,maxAttributes:y,maxVertexUniforms:w,maxVaryings:A,maxFragmentUniforms:E,vertexTextures:M,floatFragmentTextures:T,floatVertexTextures:M&&T,maxSamples:l?t.getParameter(36183):0}}function fi(){var t=this,e=null,n=0,r=!1,o=!1,l=new Lt,c=new v,d={value:null,needsUpdate:!1};function m(){d.value!==e&&(d.value=e,d.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function h(e,n,r,o){var m=null!==e?e.length:0,h=null;if(0!==m){if(h=d.value,!0!==o||null===h){var f=r+4*m,v=n.matrixWorldInverse;c.getNormalMatrix(v),(null===h||h.length<f)&&(h=new Float32Array(f));for(var i=0,x=r;i!==m;++i,x+=4)l.copy(e[i]).applyMatrix4(v,c),l.normal.toArray(h,x),h[x+3]=l.constant}d.value=h,d.needsUpdate=!0}return t.numPlanes=m,h}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(t,o,l){var c=0!==t.length||o||0!==n||r;return r=o,e=h(t,l,0),n=t.length,c},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1,m()},this.setState=function(t,l,c,f,v,x){if(!r||null===t||0===t.length||o&&!c)o?h(null):m();else{var y=o?0:n,w=4*y,A=v.clippingState||null;d.value=A,A=h(t,f,w,x);for(var i=0;i!==w;++i)A[i]=e[i];v.clippingState=A,this.numIntersection=l?this.numPlanes:0,this.numPlanes+=y}}}function gi(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function vi(t,e,n){var r=new WeakMap,o=new WeakMap;function l(t){var c=t.target,d=r.get(c);for(var m in null!==d.index&&e.remove(d.index),d.attributes)e.remove(d.attributes[m]);c.removeEventListener("dispose",l),r.delete(c);var h=o.get(d);h&&(e.remove(h),o.delete(d)),n.memory.geometries--}function c(t){var n=[],r=t.index,l=t.attributes.position,c=0;if(null!==r){var d=r.array;c=r.version;for(var i=0,m=d.length;i<m;i+=3){var a=d[i+0],b=d[i+1],h=d[i+2];n.push(a,b,b,h,h,a)}}else for(d=l.array,c=l.version,i=0,m=d.length/3-1;i<m;i+=3)a=i+0,b=i+1,h=i+2,n.push(a,b,b,h,h,a);var f=new(ce(n)>65535?oe:re)(n,1);f.version=c,e.update(f,34963);var v=o.get(t);v&&e.remove(v),o.set(t,f)}return{get:function(object,t){var e=r.get(t);return e||(t.addEventListener("dispose",l),t.isBufferGeometry?e=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new xe).setFromObject(object)),e=t._bufferGeometry),r.set(t,e),n.memory.geometries++,e)},update:function(t){var n=t.index,r=t.attributes;for(var o in null!==n&&e.update(n,34963),r)e.update(r[o],34962);var l=t.morphAttributes;for(var o in l)for(var c=l[o],i=0,d=c.length;i<d;i++)e.update(c[i],34962)},getWireframeAttribute:function(t){var e=o.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&c(t)}else c(t);return o.get(t)}}}function xi(t,e,n,r){var o,l,c,d=r.isWebGL2;this.setMode=function(t){o=t},this.setIndex=function(t){l=t.type,c=t.bytesPerElement},this.render=function(e,r){t.drawElements(o,r,l,e*c),n.update(r,o)},this.renderInstances=function(r,m,h,f){if(0!==f){var v,x;if(d)v=t,x="drawElementsInstanced";else if(x="drawElementsInstancedANGLE",null===(v=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[x](o,h,l,m*c,f),n.update(h,o,f)}}}function yi(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(r=r||1,e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function bi(a,b){return Math.abs(b[1])-Math.abs(a[1])}function wi(t){var e={},n=new Float32Array(8);return{update:function(object,r,o,l){var c=object.morphTargetInfluences,d=void 0===c?0:c.length,m=e[r.id];if(void 0===m){m=[];for(var i=0;i<d;i++)m[i]=[i,0];e[r.id]=m}var h=o.morphTargets&&r.morphAttributes.position,f=o.morphNormals&&r.morphAttributes.normal;for(i=0;i<d;i++)0!==(x=m[i])[1]&&(h&&r.deleteAttribute("morphTarget"+i),f&&r.deleteAttribute("morphNormal"+i));for(i=0;i<d;i++)(x=m[i])[0]=i,x[1]=c[i];m.sort(bi);var v=0;for(i=0;i<8;i++){var x;if(x=m[i]){var y=x[0],w=x[1];if(w){h&&r.setAttribute("morphTarget"+i,h[y]),f&&r.setAttribute("morphNormal"+i,f[y]),n[i]=w,v+=w;continue}}n[i]=0}var A=r.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",A),l.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Ai(t,e,n,r){var o={};return{update:function(object){var t=r.render.frame,l=object.geometry,c=e.get(object,l);return o[c.id]!==t&&(l.isGeometry&&c.updateFromObject(object),e.update(c),o[c.id]=t),object.isInstancedMesh&&n.update(object.instanceMatrix,34962),c},dispose:function(){o={}}}}function Ei(t,e,n,r,o,l,c,d,m,h){t=void 0!==t?t:[],e=void 0!==e?e:301,c=void 0!==c?c:1022,w.call(this,t,e,n,r,o,l,c,d,m,h),this.flipY=!1}function Mi(data,t,e,n){w.call(this,null),this.image={data:data||null,width:t||1,height:e||1,depth:n||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Ti(data,t,e,n){w.call(this,null),this.image={data:data||null,width:t||1,height:e||1,depth:n||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}oi.physical={uniforms:Xe([oi.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Gt(0)},clearcoatNormalScale:{value:new o(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},ci.prototype=Object.create(Ve.prototype),ci.prototype.constructor=ci,di.prototype=Object.create(xe.prototype),di.prototype.constructor=di,Ei.prototype=Object.create(w.prototype),Ei.prototype.constructor=Ei,Ei.prototype.isCubeTexture=!0,Object.defineProperty(Ei.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Mi.prototype=Object.create(w.prototype),Mi.prototype.constructor=Mi,Mi.prototype.isDataTexture2DArray=!0,Ti.prototype=Object.create(w.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isDataTexture3D=!0;var _i=new w,Si=new Mi,Ci=new Ti,Li=new Ei,Ri=[],ki=[],Pi=new Float32Array(16),Di=new Float32Array(9),Oi=new Float32Array(4);function Ii(t,e,n){var r=t[0];if(r<=0||r>0)return t;var o=e*n,l=Ri[o];if(void 0===l&&(l=new Float32Array(o),Ri[o]=l),0!==e){r.toArray(l,0);for(var i=1,c=0;i!==e;++i)c+=n,t[i].toArray(l,c)}return l}function Bi(a,b){if(a.length!==b.length)return!1;for(var i=0,t=a.length;i<t;i++)if(a[i]!==b[i])return!1;return!0}function Ni(a,b){for(var i=0,t=b.length;i<t;i++)a[i]=b[i]}function Fi(t,e){var n=ki[e];void 0===n&&(n=new Int32Array(e),ki[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function ji(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Hi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bi(n,e))return;t.uniform2fv(this.addr,e),Ni(n,e)}}function Ui(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bi(n,e))return;t.uniform3fv(this.addr,e),Ni(n,e)}}function zi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bi(n,e))return;t.uniform4fv(this.addr,e),Ni(n,e)}}function Vi(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Bi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ni(n,e)}else{if(Bi(n,r))return;Oi.set(r),t.uniformMatrix2fv(this.addr,!1,Oi),Ni(n,r)}}function Gi(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Bi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ni(n,e)}else{if(Bi(n,r))return;Di.set(r),t.uniformMatrix3fv(this.addr,!1,Di),Ni(n,r)}}function Wi(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Bi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ni(n,e)}else{if(Bi(n,r))return;Pi.set(r),t.uniformMatrix4fv(this.addr,!1,Pi),Ni(n,r)}}function qi(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.safeSetTexture2D(e||_i,o)}function Xi(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(e||Si,o)}function Yi(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(e||Ci,o)}function Ki(t,e,n){var r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.safeSetTextureCube(e||Li,o)}function Qi(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Zi(t,e){var n=this.cache;Bi(n,e)||(t.uniform2iv(this.addr,e),Ni(n,e))}function Ji(t,e){var n=this.cache;Bi(n,e)||(t.uniform3iv(this.addr,e),Ni(n,e))}function $i(t,e){var n=this.cache;Bi(n,e)||(t.uniform4iv(this.addr,e),Ni(n,e))}function tn(t,e){t.uniform1fv(this.addr,e)}function en(t,e){t.uniform1iv(this.addr,e)}function nn(t,e){t.uniform2iv(this.addr,e)}function rn(t,e){t.uniform3iv(this.addr,e)}function an(t,e){t.uniform4iv(this.addr,e)}function on(t,e){var data=Ii(e,this.size,2);t.uniform2fv(this.addr,data)}function sn(t,e){var data=Ii(e,this.size,3);t.uniform3fv(this.addr,data)}function pn(t,e){var data=Ii(e,this.size,4);t.uniform4fv(this.addr,data)}function ln(t,e){var data=Ii(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,data)}function cn(t,e){var data=Ii(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,data)}function dn(t,e){var data=Ii(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,data)}function mn(t,e,n){var r=e.length,o=Fi(n,r);t.uniform1iv(this.addr,o);for(var i=0;i!==r;++i)n.safeSetTexture2D(e[i]||_i,o[i])}function hn(t,e,n){var r=e.length,o=Fi(n,r);t.uniform1iv(this.addr,o);for(var i=0;i!==r;++i)n.safeSetTextureCube(e[i]||Li,o[i])}function un(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return ji;case 35664:return Hi;case 35665:return Ui;case 35666:return zi;case 35674:return Vi;case 35675:return Gi;case 35676:return Wi;case 35678:case 36198:return qi;case 35679:return Yi;case 35680:return Ki;case 36289:return Xi;case 5124:case 35670:return Qi;case 35667:case 35671:return Zi;case 35668:case 35672:return Ji;case 35669:case 35673:return $i}}(e.type)}function fn(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return tn;case 35664:return on;case 35665:return sn;case 35666:return pn;case 35674:return ln;case 35675:return cn;case 35676:return dn;case 35678:return mn;case 35680:return hn;case 5124:case 35670:return en;case 35667:case 35671:return nn;case 35668:case 35672:return rn;case 35669:case 35673:return an}}(e.type)}function gn(t){this.id=t,this.seq=[],this.map={}}fn.prototype.updateCache=function(data){var t=this.cache;data instanceof Float32Array&&t.length!==data.length&&(this.cache=new Float32Array(data.length)),Ni(t,data)},gn.prototype.setValue=function(t,e,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var u=r[i];u.setValue(t,e[u.id],n)}};var vn=/([\w\d_]+)(\])?(\[|\.)?/g;function xn(t,e){t.seq.push(e),t.map[e.id]=e}function yn(t,e,n){var path=t.name,r=path.length;for(vn.lastIndex=0;;){var o=vn.exec(path),l=vn.lastIndex,c=o[1],d="]"===o[2],m=o[3];if(d&&(c|=0),void 0===m||"["===m&&l+2===r){xn(n,void 0===m?new un(c,t,e):new fn(c,t,e));break}var h=n.map[c];void 0===h&&xn(n,h=new gn(c)),n=h}}function bn(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);yn(r,t.getUniformLocation(e,r.name),this)}}function wn(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}bn.prototype.setValue=function(t,e,n,r){var u=this.map[e];void 0!==u&&u.setValue(t,n,r)},bn.prototype.setOptional=function(t,object,e){var n=object[e];void 0!==n&&this.setValue(t,e,n)},bn.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var u=e[i],l=n[u.id];!1!==l.needsUpdate&&u.setValue(t,l.value,r)}},bn.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var u=t[i];u.id in e&&n.push(u)}return n};var An=0;function En(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+t)}}function Mn(t,e,n){var r=t.getShaderParameter(e,35713),o=t.getShaderInfoLog(e).trim();return r&&""===o?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+o+function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}(t.getShaderSource(e))}function Tn(t,e){var n=En(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function _n(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Sn(t){return""!==t}function Cn(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ln(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var Rn=/^[ \t]*#include +<([\w\d./]+)>/gm;function kn(t){return t.replace(Rn,Pn)}function Pn(t,e){var n=ri[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return kn(n)}var Dn=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function On(t){return t.replace(Dn,In)}function In(t,e,n,r){for(var o="",i=parseInt(e);i<parseInt(n);i++)o+=r.replace(/\[ i \]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return o}function Bn(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Nn(t,e,n,r,o,l){var c,d,m,h,f,v=t.getContext(),x=r.defines,y=o.vertexShader,w=o.fragmentShader,A=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(l),E=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:e="ENVMAP_TYPE_EQUIREC";break;case 305:e="ENVMAP_TYPE_SPHERE"}return e}(l),M=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 304:e="ENVMAP_MODE_REFRACTION"}return e}(l),T=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(l),_=t.gammaFactor>0?t.gammaFactor:1,S=l.isWebGL2?"":function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Sn).join("\n")}(r.extensions,l,e),C=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(x),L=v.createProgram(),R=l.numMultiviewViews;if(r.isRawShaderMaterial?((c=[C].filter(Sn).join("\n")).length>0&&(c+="\n"),(d=[S,C].filter(Sn).join("\n")).length>0&&(d+="\n")):(c=[Bn(l),"#define SHADER_NAME "+o.name,C,l.instancing?"#define USE_INSTANCING":"",l.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+l.maxBones,l.useFog&&l.fog?"#define USE_FOG":"",l.useFog&&l.fogExp2?"#define FOG_EXP2":"",l.map?"#define USE_MAP":"",l.envMap?"#define USE_ENVMAP":"",l.envMap?"#define "+M:"",l.lightMap?"#define USE_LIGHTMAP":"",l.aoMap?"#define USE_AOMAP":"",l.emissiveMap?"#define USE_EMISSIVEMAP":"",l.bumpMap?"#define USE_BUMPMAP":"",l.normalMap?"#define USE_NORMALMAP":"",l.normalMap&&l.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",l.normalMap&&l.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",l.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",l.displacementMap&&l.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",l.specularMap?"#define USE_SPECULARMAP":"",l.roughnessMap?"#define USE_ROUGHNESSMAP":"",l.metalnessMap?"#define USE_METALNESSMAP":"",l.alphaMap?"#define USE_ALPHAMAP":"",l.vertexTangents?"#define USE_TANGENT":"",l.vertexColors?"#define USE_COLOR":"",l.vertexUvs?"#define USE_UV":"",l.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",l.flatShading?"#define FLAT_SHADED":"",l.skinning?"#define USE_SKINNING":"",l.useVertexTexture?"#define BONE_TEXTURE":"",l.morphTargets?"#define USE_MORPHTARGETS":"",l.morphNormals&&!1===l.flatShading?"#define USE_MORPHNORMALS":"",l.doubleSided?"#define DOUBLE_SIDED":"",l.flipSided?"#define FLIP_SIDED":"",l.shadowMapEnabled?"#define USE_SHADOWMAP":"",l.shadowMapEnabled?"#define "+A:"",l.sizeAttenuation?"#define USE_SIZEATTENUATION":"",l.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",l.logarithmicDepthBuffer&&(l.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Sn).join("\n"),d=[S,Bn(l),"#define SHADER_NAME "+o.name,C,l.alphaTest?"#define ALPHATEST "+l.alphaTest+(l.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_,l.useFog&&l.fog?"#define USE_FOG":"",l.useFog&&l.fogExp2?"#define FOG_EXP2":"",l.map?"#define USE_MAP":"",l.matcap?"#define USE_MATCAP":"",l.envMap?"#define USE_ENVMAP":"",l.envMap?"#define "+E:"",l.envMap?"#define "+M:"",l.envMap?"#define "+T:"",l.lightMap?"#define USE_LIGHTMAP":"",l.aoMap?"#define USE_AOMAP":"",l.emissiveMap?"#define USE_EMISSIVEMAP":"",l.bumpMap?"#define USE_BUMPMAP":"",l.normalMap?"#define USE_NORMALMAP":"",l.normalMap&&l.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",l.normalMap&&l.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",l.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",l.specularMap?"#define USE_SPECULARMAP":"",l.roughnessMap?"#define USE_ROUGHNESSMAP":"",l.metalnessMap?"#define USE_METALNESSMAP":"",l.alphaMap?"#define USE_ALPHAMAP":"",l.sheen?"#define USE_SHEEN":"",l.vertexTangents?"#define USE_TANGENT":"",l.vertexColors?"#define USE_COLOR":"",l.vertexUvs?"#define USE_UV":"",l.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",l.gradientMap?"#define USE_GRADIENTMAP":"",l.flatShading?"#define FLAT_SHADED":"",l.doubleSided?"#define DOUBLE_SIDED":"",l.flipSided?"#define FLIP_SIDED":"",l.shadowMapEnabled?"#define USE_SHADOWMAP":"",l.shadowMapEnabled?"#define "+A:"",l.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",l.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",l.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",l.logarithmicDepthBuffer&&(l.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensions&&r.extensions.shaderTextureLOD||l.envMap)&&(l.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==l.toneMapping?"#define TONE_MAPPING":"",0!==l.toneMapping?ri.tonemapping_pars_fragment:"",0!==l.toneMapping?_n("toneMapping",l.toneMapping):"",l.dithering?"#define DITHERING":"",l.outputEncoding||l.mapEncoding||l.matcapEncoding||l.envMapEncoding||l.emissiveMapEncoding||l.lightMapEncoding?ri.encodings_pars_fragment:"",l.mapEncoding?Tn("mapTexelToLinear",l.mapEncoding):"",l.matcapEncoding?Tn("matcapTexelToLinear",l.matcapEncoding):"",l.envMapEncoding?Tn("envMapTexelToLinear",l.envMapEncoding):"",l.emissiveMapEncoding?Tn("emissiveMapTexelToLinear",l.emissiveMapEncoding):"",l.lightMapEncoding?Tn("lightMapTexelToLinear",l.lightMapEncoding):"",l.outputEncoding?(m="linearToOutputTexel",h=l.outputEncoding,f=En(h),"vec4 "+m+"( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }"):"",l.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Sn).join("\n")),y=Ln(y=Cn(y=kn(y),l),l),w=Ln(w=Cn(w=kn(w),l),l),y=On(y),w=On(w),l.isWebGL2&&!r.isRawShaderMaterial){var k=!1,P=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==y.match(P)&&null!==w.match(P)&&(k=!0,y=y.replace(P,""),w=w.replace(P,"")),c=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+c,d=["#version 300 es\n","#define varying in",k?"":"out highp vec4 pc_fragColor;",k?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+d,R>0&&(c=(c=c.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+R+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+R+"];","uniform mat4 projectionMatrices["+R+"];","uniform mat4 viewMatrices["+R+"];","uniform mat3 normalMatrices["+R+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),d=(d=d.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+R+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var D,O,I=d+w,B=wn(v,35633,c+y),N=wn(v,35632,I);if(v.attachShader(L,B),v.attachShader(L,N),void 0!==r.index0AttributeName?v.bindAttribLocation(L,0,r.index0AttributeName):!0===l.morphTargets&&v.bindAttribLocation(L,0,"position"),v.linkProgram(L),t.debug.checkShaderErrors){var F=v.getProgramInfoLog(L).trim(),j=v.getShaderInfoLog(B).trim(),H=v.getShaderInfoLog(N).trim(),U=!0,z=!0;if(!1===v.getProgramParameter(L,35714)){U=!1;var V=Mn(v,B,"vertex"),G=Mn(v,N,"fragment");console.error("THREE.WebGLProgram: shader error: ",v.getError(),"35715",v.getProgramParameter(L,35715),"gl.getProgramInfoLog",F,V,G)}else""!==F?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",F):""!==j&&""!==H||(z=!1);z&&(this.diagnostics={runnable:U,material:r,programLog:F,vertexShader:{log:j,prefix:c},fragmentShader:{log:H,prefix:d}})}return v.deleteShader(B),v.deleteShader(N),this.getUniforms=function(){return void 0===D&&(D=new bn(v,L)),D},this.getAttributes=function(){return void 0===O&&(O=function(t,e){for(var n={},r=t.getProgramParameter(e,35721),i=0;i<r;i++){var o=t.getActiveAttrib(e,i).name;n[o]=t.getAttribLocation(e,o)}return n}(v,L)),O},this.destroy=function(){v.deleteProgram(L),this.program=void 0},this.name=o.name,this.id=An++,this.cacheKey=n,this.usedTimes=1,this.program=L,this.vertexShader=B,this.fragmentShader=N,this.numMultiviewViews=R,this}function Fn(t,e,n){var r=[],o=n.isWebGL2,l=n.logarithmicDepthBuffer,c=n.floatVertexTextures,d=n.precision,m=n.maxVertexUniforms,h=n.vertexTextures,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},v=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function x(map,t){var e;return map?map.isTexture?e=map.encoding:map.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=map.texture.encoding):e=3e3,3e3===e&&t&&(e=3007),e}this.getParameters=function(e,r,v,y,w,A,object){var E=f[e.type],M=object.isSkinnedMesh?function(object){var t=object.skeleton.bones;if(c)return 1024;var e=m,n=Math.floor((e-20)/4),r=Math.min(n,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(object):0;null!==e.precision&&(d=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",d,"instead.");var T=t.getRenderTarget(),_=T&&T.isWebGLMultiviewRenderTarget?T.numViews:0;return{isWebGL2:o,shaderID:E,precision:d,instancing:!0===object.isInstancedMesh,supportsVertexTextures:h,numMultiviewViews:_,outputEncoding:x(T?T.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:x(e.map),matcap:!!e.matcap,matcapEncoding:x(e.matcap),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:x(e.envMap),envMapCubeUV:!!e.envMap&&(306===e.envMap.mapping||307===e.envMap.mapping),lightMap:!!e.lightMap,lightMapEncoding:x(e.lightMap),aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:x(e.emissiveMap),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,tangentSpaceNormalMap:0===e.normalMapType,clearcoatNormalMap:!!e.clearcoatNormalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,sheen:!!e.sheen,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,vertexUvs:!!(e.map||e.bumpMap||e.normalMap||e.specularMap||e.alphaMap||e.emissiveMap||e.roughnessMap||e.metalnessMap||e.clearcoatNormalMap||e.displacementMap),uvsVertexOnly:!(e.map||e.bumpMap||e.normalMap||e.specularMap||e.alphaMap||e.emissiveMap||e.roughnessMap||e.metalnessMap||e.clearcoatNormalMap||!e.displacementMap),fog:!!y,useFog:e.fog,fogExp2:y&&y.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:l,skinning:e.skinning&&M>0,maxBones:M,useVertexTexture:c,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numDirLightShadows:r.directionalShadowMap.length,numPointLightShadows:r.pointShadowMap.length,numSpotLightShadows:r.spotShadowMap.length,numClippingPlanes:w,numClipIntersection:A,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&v.length>0,shadowMapType:t.shadowMap.type,toneMapping:e.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:2===e.side,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCacheKey=function(e,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var o in e.defines)r.push(o),r.push(e.defines[o]);for(var i=0;i<v.length;i++)r.push(n[v[i]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(n,o,l,c){for(var d,p=0,m=r.length;p<m;p++){var h=r[p];if(h.cacheKey===c){++(d=h).usedTimes;break}}return void 0===d&&(d=new Nn(t,e,c,n,o,l),r.push(d)),d},this.releaseProgram=function(t){if(0==--t.usedTimes){var i=r.indexOf(t);r[i]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function jn(){var t=new WeakMap;return{get:function(object){var map=t.get(object);return void 0===map&&(map={},t.set(object,map)),map},remove:function(object){t.delete(object)},update:function(object,e,n){t.get(object)[e]=n},dispose:function(){t=new WeakMap}}}function Hn(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Un(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function zn(){var t=[],e=0,n=[],r=[],o={id:-1};function l(object,n,r,l,c,d){var m=t[e];return void 0===m?(m={id:object.id,object:object,geometry:n,material:r,program:r.program||o,groupOrder:l,renderOrder:object.renderOrder,z:c,group:d},t[e]=m):(m.id=object.id,m.object=object,m.geometry=n,m.material=r,m.program=r.program||o,m.groupOrder=l,m.renderOrder=object.renderOrder,m.z=c,m.group=d),e++,m}return{opaque:n,transparent:r,init:function(){e=0,n.length=0,r.length=0},push:function(object,t,e,o,c,d){var m=l(object,t,e,o,c,d);(!0===e.transparent?r:n).push(m)},unshift:function(object,t,e,o,c,d){var m=l(object,t,e,o,c,d);(!0===e.transparent?r:n).unshift(m)},sort:function(){n.length>1&&n.sort(Hn),r.length>1&&r.sort(Un)}}}function Vn(){var t=new WeakMap;function e(n){var r=n.target;r.removeEventListener("dispose",e),t.delete(r)}return{get:function(n,r){var o,l=t.get(n);return void 0===l?(o=new zn,t.set(n,new WeakMap),t.get(n).set(r,o),n.addEventListener("dispose",e)):void 0===(o=l.get(r))&&(o=new zn,l.set(r,o)),o},dispose:function(){t=new WeakMap}}}function Gn(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new m,color:new Gt,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o};break;case"SpotLight":n={position:new m,direction:new m,color:new Gt,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o};break;case"PointLight":n={position:new m,color:new Gt,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new m,skyColor:new Gt,groundColor:new Gt};break;case"RectAreaLight":n={color:new Gt,position:new m,halfWidth:new m,halfHeight:new m}}return t[e.id]=n,n}}}var Wn=0;function qn(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Xn(){for(var t=new Gn,e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},i=0;i<9;i++)e.probe.push(new m);var n=new m,r=new P,o=new P;return{setup:function(l,c,d){for(var m=0,g=0,b=0,i=0;i<9;i++)e.probe[i].set(0,0,0);var h=0,f=0,v=0,x=0,y=0,w=0,A=0,E=0,M=d.matrixWorldInverse;l.sort(qn),i=0;for(var T=l.length;i<T;i++){var _=l[i],S=_.color,C=_.intensity,L=_.distance,R=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)m+=S.r*C,g+=S.g*C,b+=S.b*C;else if(_.isLightProbe)for(var k=0;k<9;k++)e.probe[k].addScaledVector(_.sh.coefficients[k],C);else if(_.isDirectionalLight){if((P=t.get(_)).color.copy(_.color).multiplyScalar(_.intensity),P.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),P.direction.sub(n),P.direction.transformDirection(M),P.shadow=_.castShadow,_.castShadow){var shadow=_.shadow;P.shadowBias=shadow.bias,P.shadowRadius=shadow.radius,P.shadowMapSize=shadow.mapSize,e.directionalShadowMap[h]=R,e.directionalShadowMatrix[h]=_.shadow.matrix,w++}e.directional[h]=P,h++}else if(_.isSpotLight)(P=t.get(_)).position.setFromMatrixPosition(_.matrixWorld),P.position.applyMatrix4(M),P.color.copy(S).multiplyScalar(C),P.distance=L,P.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),P.direction.sub(n),P.direction.transformDirection(M),P.coneCos=Math.cos(_.angle),P.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),P.decay=_.decay,P.shadow=_.castShadow,_.castShadow&&(shadow=_.shadow,P.shadowBias=shadow.bias,P.shadowRadius=shadow.radius,P.shadowMapSize=shadow.mapSize,e.spotShadowMap[v]=R,e.spotShadowMatrix[v]=_.shadow.matrix,E++),e.spot[v]=P,v++;else if(_.isRectAreaLight)(P=t.get(_)).color.copy(S).multiplyScalar(C),P.position.setFromMatrixPosition(_.matrixWorld),P.position.applyMatrix4(M),o.identity(),r.copy(_.matrixWorld),r.premultiply(M),o.extractRotation(r),P.halfWidth.set(.5*_.width,0,0),P.halfHeight.set(0,.5*_.height,0),P.halfWidth.applyMatrix4(o),P.halfHeight.applyMatrix4(o),e.rectArea[x]=P,x++;else if(_.isPointLight)(P=t.get(_)).position.setFromMatrixPosition(_.matrixWorld),P.position.applyMatrix4(M),P.color.copy(_.color).multiplyScalar(_.intensity),P.distance=_.distance,P.decay=_.decay,P.shadow=_.castShadow,_.castShadow&&(shadow=_.shadow,P.shadowBias=shadow.bias,P.shadowRadius=shadow.radius,P.shadowMapSize=shadow.mapSize,P.shadowCameraNear=shadow.camera.near,P.shadowCameraFar=shadow.camera.far,e.pointShadowMap[f]=R,e.pointShadowMatrix[f]=_.shadow.matrix,A++),e.point[f]=P,f++;else if(_.isHemisphereLight){var P;(P=t.get(_)).direction.setFromMatrixPosition(_.matrixWorld),P.direction.transformDirection(M),P.direction.normalize(),P.skyColor.copy(_.color).multiplyScalar(C),P.groundColor.copy(_.groundColor).multiplyScalar(C),e.hemi[y]=P,y++}}e.ambient[0]=m,e.ambient[1]=g,e.ambient[2]=b;var D=e.hash;D.directionalLength===h&&D.pointLength===f&&D.spotLength===v&&D.rectAreaLength===x&&D.hemiLength===y&&D.numDirectionalShadows===w&&D.numPointShadows===A&&D.numSpotShadows===E||(e.directional.length=h,e.spot.length=v,e.rectArea.length=x,e.point.length=f,e.hemi.length=y,e.directionalShadowMap.length=w,e.pointShadowMap.length=A,e.spotShadowMap.length=E,e.directionalShadowMatrix.length=w,e.pointShadowMatrix.length=A,e.spotShadowMatrix.length=E,D.directionalLength=h,D.pointLength=f,D.spotLength=v,D.rectAreaLength=x,D.hemiLength=y,D.numDirectionalShadows=w,D.numPointShadows=A,D.numSpotShadows=E,e.version=Wn++)},state:e}}function Yn(){var t=new Xn,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(r){t.setup(e,n,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function Kn(){var t=new WeakMap;function e(n){var r=n.target;r.removeEventListener("dispose",e),t.delete(r)}return{get:function(n,r){var o;return!1===t.has(n)?(o=new Yn,t.set(n,new WeakMap),t.get(n).set(r,o),n.addEventListener("dispose",e)):!1===t.get(n).has(r)?(o=new Yn,t.get(n).set(r,o)):o=t.get(n).get(r),o},dispose:function(){t=new WeakMap}}}function Qn(t){Qt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Zn(t){Qt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new m,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function Jn(t,e,n){var r=new ni,l=new o,c=new o,d=new A,m=[],h=[],f={},v={0:1,1:0,2:2},x=new Ke({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new o},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpack2HalfToRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=x.clone();y.defines.HORIZONAL_PASS=1;var w=new xe;w.setAttribute("position",new $t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var M=new Be(w,x),T=this;function _(shadow,n){var r=e.update(M);x.uniforms.shadow_pass.value=shadow.map.texture,x.uniforms.resolution.value=shadow.mapSize,x.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.mapPass),t.clear(),t.renderBufferDirect(n,null,r,x,M,null),y.uniforms.shadow_pass.value=shadow.mapPass.texture,y.uniforms.resolution.value=shadow.mapSize,y.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.map),t.clear(),t.renderBufferDirect(n,null,r,y,M,null)}function S(t,e,n){var r=t<<0|e<<1|n<<2,o=m[r];return void 0===o&&(o=new Qn({depthPacking:3201,morphTargets:t,skinning:e}),m[r]=o),o}function C(t,e,n){var r=t<<0|e<<1|n<<2,o=h[r];return void 0===o&&(o=new Zn({morphTargets:t,skinning:e}),h[r]=o),o}function L(object,e,n,r,o,l){var c=object.geometry,d=null,m=S,h=object.customDepthMaterial;if(!0===n.isPointLight&&(m=C,h=object.customDistanceMaterial),void 0===h){var x=!1;!0===e.morphTargets&&(!0===c.isBufferGeometry?x=c.morphAttributes&&c.morphAttributes.position&&c.morphAttributes.position.length>0:!0===c.isGeometry&&(x=c.morphTargets&&c.morphTargets.length>0));var y=!1;!0===object.isSkinnedMesh&&(!0===e.skinning?y=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",object)),d=m(x,y,!0===object.isInstancedMesh)}else d=h;if(t.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length){var w=d.uuid,A=e.uuid,E=f[w];void 0===E&&(E={},f[w]=E);var M=E[A];void 0===M&&(M=d.clone(),E[A]=M),d=M}return d.visible=e.visible,d.wireframe=e.wireframe,d.side=3===l?null!==e.shadowSide?e.shadowSide:e.side:null!==e.shadowSide?e.shadowSide:v[e.side],d.clipShadows=e.clipShadows,d.clippingPlanes=e.clippingPlanes,d.clipIntersection=e.clipIntersection,d.wireframeLinewidth=e.wireframeLinewidth,d.linewidth=e.linewidth,!0===n.isPointLight&&!0===d.isMeshDistanceMaterial&&(d.referencePosition.setFromMatrixPosition(n.matrixWorld),d.nearDistance=r,d.farDistance=o),d}function R(object,n,o,l,c){if(!1!==object.visible){if(object.layers.test(n.layers)&&(object.isMesh||object.isLine||object.isPoints)&&(object.castShadow||object.receiveShadow&&3===c)&&(!object.frustumCulled||r.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,object.matrixWorld);var d=e.update(object),m=object.material;if(Array.isArray(m))for(var h=d.groups,f=0,v=h.length;f<v;f++){var x=h[f],y=m[x.materialIndex];if(y&&y.visible){var w=L(object,y,l,o.near,o.far,c);t.renderBufferDirect(o,null,d,w,object,x)}}else m.visible&&(w=L(object,m,l,o.near,o.far,c),t.renderBufferDirect(o,null,d,w,object,null))}for(var A=object.children,i=0,E=A.length;i<E;i++)R(A[i],n,o,l,c)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,o,m){if(!1!==T.enabled&&(!1!==T.autoUpdate||!1!==T.needsUpdate)&&0!==e.length){var h=t.getRenderTarget(),f=t.getActiveCubeFace(),v=t.getActiveMipmapLevel(),x=t.state;x.setBlending(0),x.buffers.color.setClear(1,1,1,1),x.buffers.depth.setTest(!0),x.setScissorTest(!1);for(var i=0,y=e.length;i<y;i++){var w=e[i],shadow=w.shadow;if(void 0!==shadow){l.copy(shadow.mapSize);var A=shadow.getFrameExtents();if(l.multiply(A),c.copy(shadow.mapSize),(l.x>n||l.y>n)&&(console.warn("THREE.WebGLShadowMap:",w,"has shadow exceeding max texture size, reducing"),l.x>n&&(c.x=Math.floor(n/A.x),l.x=c.x*A.x,shadow.mapSize.x=c.x),l.y>n&&(c.y=Math.floor(n/A.y),l.y=c.y*A.y,shadow.mapSize.y=c.y)),null===shadow.map&&!shadow.isPointLightShadow&&3===this.type){var M={minFilter:1006,magFilter:1006,format:1023};shadow.map=new E(l.x,l.y,M),shadow.map.texture.name=w.name+".shadowMap",shadow.mapPass=new E(l.x,l.y,M),shadow.camera.updateProjectionMatrix()}null===shadow.map&&(M={minFilter:1003,magFilter:1003,format:1023},shadow.map=new E(l.x,l.y,M),shadow.map.texture.name=w.name+".shadowMap",shadow.camera.updateProjectionMatrix()),t.setRenderTarget(shadow.map),t.clear();for(var S=shadow.getViewportCount(),C=0;C<S;C++){var L=shadow.getViewport(C);d.set(c.x*L.x,c.y*L.y,c.x*L.z,c.y*L.w),x.viewport(d),shadow.updateMatrices(w,C),r=shadow.getFrustum(),R(o,m,shadow.camera,w,this.type)}shadow.isPointLightShadow||3!==this.type||_(shadow,m)}else console.warn("THREE.WebGLShadowMap:",w,"has no shadow.")}T.needsUpdate=!1,t.setRenderTarget(h,f,v)}}}function $n(t,e,n){var r=n.isWebGL2,o=new function(){var e=!1,n=new A,r=null,o=new A(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,g,b,a,r){!0===r&&(e*=a,g*=a,b*=a),n.set(e,g,b,a),!1===o.equals(n)&&(t.clearColor(e,g,b,a),o.copy(n))},reset:function(){e=!1,r=null,o.set(-1,0,0,0)}}},l=new function(){var e=!1,n=null,r=null,o=null;return{setTest:function(t){t?X(2929):Y(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){o!==e&&(t.clearDepth(e),o=e)},reset:function(){e=!1,n=null,r=null,o=null}}},c=new function(){var e=!1,n=null,r=null,o=null,l=null,c=null,d=null,m=null,h=null;return{setTest:function(t){e||(t?X(2960):Y(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,c){r===e&&o===n&&l===c||(t.stencilFunc(e,n,c),r=e,o=n,l=c)},setOp:function(e,n,r){c===e&&d===n&&m===r||(t.stencilOp(e,n,r),c=e,d=n,m=r)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,n=null,r=null,o=null,l=null,c=null,d=null,m=null,h=null}}},d=t.getParameter(34921),m=new Uint8Array(d),h=new Uint8Array(d),f=new Uint8Array(d),v={},x=null,y=null,w=null,E=null,M=null,T=null,_=null,S=null,C=null,L=!1,R=null,k=null,P=null,D=null,O=null,I=t.getParameter(35661),B=!1,N=0,F=t.getParameter(7938);-1!==F.indexOf("WebGL")?(N=parseFloat(/^WebGL\ ([0-9])/.exec(F)[1]),B=N>=1):-1!==F.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(F)[1]),B=N>=2);var j=null,H={},U=new A,z=new A;function V(e,n,r){var data=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var i=0;i<r;i++)t.texImage2D(n+i,0,6408,1,1,0,6408,5121,data);return o}var G={};function W(n,o){m[n]=1,0===h[n]&&(t.enableVertexAttribArray(n),h[n]=1),f[n]!==o&&((r?t:e.get("ANGLE_instanced_arrays"))[r?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,o),f[n]=o)}function X(e){!0!==v[e]&&(t.enable(e),v[e]=!0)}function Y(e){!1!==v[e]&&(t.disable(e),v[e]=!1)}G[3553]=V(3553,3553,1),G[34067]=V(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),X(2929),l.setFunc(3),$(!1),tt(1),X(2884),J(0);var K={100:32774,101:32778,102:32779};if(r)K[103]=32775,K[104]=32776;else{var Q=e.get("EXT_blend_minmax");null!==Q&&(K[103]=Q.MIN_EXT,K[104]=Q.MAX_EXT)}var Z={};function J(e,n,r,o,l,c,d,m){if(0!==e){if(y||(X(3042),y=!0),5===e)l=l||n,c=c||r,d=d||o,n===E&&l===_||(t.blendEquationSeparate(K[n],K[l]),E=n,_=l),r===M&&o===T&&c===S&&d===C||(t.blendFuncSeparate(Z[r],Z[o],Z[c],Z[d]),M=r,T=o,S=c,C=d),w=e,L=null;else if(e!==w||m!==L){if(100===E&&100===_||(t.blendEquation(32774),E=100,_=100),m)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}M=null,T=null,S=null,C=null,w=e,L=m}}else y&&(Y(3042),y=!1)}function $(e){R!==e&&(e?t.frontFace(2304):t.frontFace(2305),R=e)}function tt(e){0!==e?(X(2884),e!==k&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):Y(2884),k=e}function et(e,n,r){e?(X(32823),D===n&&O===r||(t.polygonOffset(n,r),D=n,O=r)):Y(32823)}function it(e){void 0===e&&(e=33984+I-1),j!==e&&(t.activeTexture(e),j=e)}return Z[200]=0,Z[201]=1,Z[202]=768,Z[204]=770,Z[210]=776,Z[208]=774,Z[206]=772,Z[203]=769,Z[205]=771,Z[209]=775,Z[207]=773,{buffers:{color:o,depth:l,stencil:c},initAttributes:function(){for(var i=0,t=m.length;i<t;i++)m[i]=0},enableAttribute:function(t){W(t,0)},enableAttributeAndDivisor:W,disableUnusedAttributes:function(){for(var i=0,e=h.length;i!==e;++i)h[i]!==m[i]&&(t.disableVertexAttribArray(i),h[i]=0)},enable:X,disable:Y,useProgram:function(e){return x!==e&&(t.useProgram(e),x=e,!0)},setBlending:J,setMaterial:function(t,e){2===t.side?Y(2884):X(2884);var n=1===t.side;e&&(n=!n),$(n),1===t.blending&&!1===t.transparent?J(0):J(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),o.setMask(t.colorWrite);var r=t.stencilWrite;c.setTest(r),r&&(c.setMask(t.stencilWriteMask),c.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),c.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),et(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:$,setCullFace:tt,setLineWidth:function(e){e!==P&&(B&&t.lineWidth(e),P=e)},setPolygonOffset:et,setScissorTest:function(t){t?X(3089):Y(3089)},activeTexture:it,bindTexture:function(e,n){null===j&&it();var r=H[j];void 0===r&&(r={type:void 0,texture:void 0},H[j]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||G[e]),r.type=e,r.texture=n)},unbindTexture:function(){var e=H[j];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===U.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),U.copy(e))},viewport:function(e){!1===z.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),z.copy(e))},reset:function(){for(var i=0;i<h.length;i++)1===h[i]&&(t.disableVertexAttribArray(i),h[i]=0);v={},j=null,H={},x=null,w=null,R=null,k=null,o.reset(),l.reset(),c.reset()}}}function er(t,e,n,o,l,c,d){var m,h=l.isWebGL2,f=l.maxTextures,v=l.maxCubemapSize,x=l.maxTextureSize,y=l.maxSamples,w=new WeakMap,A=!1;try{A="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function E(t,e){return A?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function M(image,t,e,n){var o=1;if((image.width>n||image.height>n)&&(o=n/Math.max(image.width,image.height)),o<1||!0===t){if("undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap){var l=t?r.floorPowerOfTwo:Math.floor,c=l(o*image.width),d=l(o*image.height);void 0===m&&(m=E(c,d));var canvas=e?E(c,d):m;return canvas.width=c,canvas.height=d,canvas.getContext("2d").drawImage(image,0,0,c,d),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+image.width+"x"+image.height+") to ("+c+"x"+d+")."),canvas}return"data"in image&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+image.width+"x"+image.height+")."),image}return image}function T(image){return r.isPowerOfTwo(image.width)&&r.isPowerOfTwo(image.height)}function _(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&1006!==t.minFilter}function S(e,n,r,l){t.generateMipmap(e),o.get(n).__maxMipLevel=Math.log(Math.max(r,l))*Math.LOG2E}function C(t,n){if(!1===h)return t;var r=t;return 6403===t&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===t&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===t&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?e.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function L(t){return 1003===t||1004===t||1005===t?9728:9729}function R(e){var n=e.target;n.removeEventListener("dispose",R),function(e){var n=o.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),o.remove(e))}(n),n.isVideoTexture&&w.delete(n),d.memory.textures--}function k(e){var n=e.target;n.removeEventListener("dispose",k),function(e){var n=o.get(e),r=o.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var i=0;i<6;i++)t.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[i]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);if(e.isWebGLMultiviewRenderTarget){t.deleteTexture(n.__webglColorTexture),t.deleteTexture(n.__webglDepthStencilTexture),d.memory.textures-=2,i=0;for(var l=n.__webglViewFramebuffers.length;i<l;i++)t.deleteFramebuffer(n.__webglViewFramebuffers[i])}o.remove(e.texture),o.remove(e)}}(n),d.memory.textures--}var P=0;function D(t,slot){var e=o.get(t);if(t.isVideoTexture&&function(t){var e=d.render.frame;w.get(t)!==e&&(w.set(t,e),t.update())}(t),t.version>0&&e.__version!==t.version){var image=t.image;if(void 0===image)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==image.complete)return void H(e,t,slot);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+slot),n.bindTexture(3553,e.__webglTexture)}function O(e,slot){if(6===e.image.length){var r=o.get(e);if(e.version>0&&r.__version!==e.version){j(r,e),n.activeTexture(33984+slot),n.bindTexture(34067,r.__webglTexture),t.pixelStorei(37440,e.flipY);for(var l=e&&e.isCompressedTexture,d=e.image[0]&&e.image[0].isDataTexture,m=[],i=0;i<6;i++)m[i]=l||d?d?e.image[i].image:e.image[i]:M(e.image[i],!1,!0,v);var f,image=m[0],x=T(image)||h,y=c.convert(e.format),w=c.convert(e.type),A=C(y,w);if(F(34067,e,x),l){for(i=0;i<6;i++){f=m[i].mipmaps;for(var E=0;E<f.length;E++){var L=f[E];1023!==e.format&&1022!==e.format?null!==y?n.compressedTexImage2D(34069+i,E,A,L.width,L.height,0,L.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+i,E,A,L.width,L.height,0,y,w,L.data)}}r.__maxMipLevel=f.length-1}else{for(f=e.mipmaps,i=0;i<6;i++)if(d)for(n.texImage2D(34069+i,0,A,m[i].width,m[i].height,0,y,w,m[i].data),E=0;E<f.length;E++){var R=(L=f[E]).image[i].image;n.texImage2D(34069+i,E+1,A,R.width,R.height,0,y,w,R.data)}else for(n.texImage2D(34069+i,0,A,y,w,m[i]),E=0;E<f.length;E++)L=f[E],n.texImage2D(34069+i,E+1,A,y,w,L.image[i]);r.__maxMipLevel=f.length}_(e,x)&&S(34067,e,image.width,image.height),r.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+slot),n.bindTexture(34067,r.__webglTexture)}}function I(t,slot){n.activeTexture(33984+slot),n.bindTexture(34067,o.get(t).__webglTexture)}var B={1e3:10497,1001:33071,1002:33648},N={};function F(n,r,c){c?(t.texParameteri(n,10242,B[r.wrapS]),t.texParameteri(n,10243,B[r.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,B[r.wrapR]),t.texParameteri(n,10240,N[r.magFilter]),t.texParameteri(n,10241,N[r.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),1001===r.wrapS&&1001===r.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,L(r.magFilter)),t.texParameteri(n,10241,L(r.minFilter)),1003!==r.minFilter&&1006!==r.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var d=e.get("EXT_texture_filter_anisotropic");if(d){if(1015===r.type&&null===e.get("OES_texture_float_linear"))return;if(1016===r.type&&null===(h||e.get("OES_texture_half_float_linear")))return;(r.anisotropy>1||o.get(r).__currentAnisotropy)&&(t.texParameterf(n,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(r.anisotropy,l.getMaxAnisotropy())),o.get(r).__currentAnisotropy=r.anisotropy)}}function j(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",R),e.__webglTexture=t.createTexture(),d.memory.textures++)}function H(e,r,slot){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),j(e,r),n.activeTexture(33984+slot),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var l=function(t){return!h&&(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)}(r)&&!1===T(r.image),image=M(r.image,l,!1,x),d=T(image)||h,m=c.convert(r.format),f=c.convert(r.type),v=C(m,f);F(o,r,d);var y,w=r.mipmaps;if(r.isDepthTexture){if(v=6402,1015===r.type){if(!1===h)throw new Error("Float Depth Texture only supported in WebGL2.0");v=36012}else h&&(v=33189);1026===r.format&&6402===v&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,f=c.convert(r.type)),1027===r.format&&(v=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,f=c.convert(r.type))),n.texImage2D(3553,0,v,image.width,image.height,0,m,f,null)}else if(r.isDataTexture)if(w.length>0&&d){for(var i=0,A=w.length;i<A;i++)y=w[i],n.texImage2D(3553,i,v,y.width,y.height,0,m,f,y.data);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,v,image.width,image.height,0,m,f,image.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(i=0,A=w.length;i<A;i++)y=w[i],1023!==r.format&&1022!==r.format?null!==m?n.compressedTexImage2D(3553,i,v,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,i,v,y.width,y.height,0,m,f,y.data);e.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,v,image.width,image.height,image.depth,0,m,f,image.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,v,image.width,image.height,image.depth,0,m,f,image.data),e.__maxMipLevel=0;else if(w.length>0&&d){for(i=0,A=w.length;i<A;i++)y=w[i],n.texImage2D(3553,i,v,m,f,y);r.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,v,m,f,image),e.__maxMipLevel=0;_(r,d)&&S(3553,r,image.width,image.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function U(e,r,l,d){var m=c.convert(r.texture.format),h=c.convert(r.texture.type),f=C(m,h);n.texImage2D(d,0,f,r.width,r.height,0,m,h,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,l,d,o.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function z(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){if(r){var o=G(n);t.renderbufferStorageMultisample(36161,o,33189,n.width,n.height)}else t.renderbufferStorage(36161,33189,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer)r?(o=G(n),t.renderbufferStorageMultisample(36161,o,35056,n.width,n.height)):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var l=C(c.convert(n.texture.format),c.convert(n.texture.type));r?(o=G(n),t.renderbufferStorageMultisample(36161,o,l,n.width,n.height)):t.renderbufferStorage(36161,l,n.width,n.height)}t.bindRenderbuffer(36161,null)}function V(e){var n=o.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");o.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),D(n.depthTexture,0);var r=o.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var i=0;i<6;i++)t.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),z(n.__webglDepthbuffer[i],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),z(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function G(t){return h&&t.isWebGLMultisampleRenderTarget?Math.min(y,t.samples):0}N[1003]=9728,N[1004]=9984,N[1005]=9986,N[1006]=9729,N[1007]=9985,N[1008]=9987;var W=!1,X=!1;this.allocateTextureUnit=function(){var t=P;return t>=f&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+f),P+=1,t},this.resetTextureUnits=function(){P=0},this.setTexture2D=D,this.setTexture2DArray=function(t,slot){var e=o.get(t);t.version>0&&e.__version!==t.version?H(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(35866,e.__webglTexture))},this.setTexture3D=function(t,slot){var e=o.get(t);t.version>0&&e.__version!==t.version?H(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(32879,e.__webglTexture))},this.setTextureCube=O,this.setTextureCubeDynamic=I,this.setupRenderTarget=function(r){var l=o.get(r),m=o.get(r.texture);r.addEventListener("dispose",k),m.__webglTexture=t.createTexture(),d.memory.textures++;var f=!0===r.isWebGLRenderTargetCube,v=!0===r.isWebGLMultisampleRenderTarget,x=!0===r.isWebGLMultiviewRenderTarget,y=T(r)||h;if(f){l.__webglFramebuffer=[];for(var i=0;i<6;i++)l.__webglFramebuffer[i]=t.createFramebuffer()}else if(l.__webglFramebuffer=t.createFramebuffer(),v)if(h){l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var w=C(c.convert(r.texture.format),c.convert(r.texture.type)),A=G(r);t.renderbufferStorageMultisample(36161,A,w,r.width,r.height),t.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),r.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),z(l.__webglDepthRenderbuffer,r,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(x){var E=r.width,M=r.height,L=r.numViews;t.bindFramebuffer(36160,l.__webglFramebuffer);var R=e.get("OVR_multiview2");d.memory.textures+=2;var P=t.createTexture();t.bindTexture(35866,P),t.texParameteri(35866,10240,9728),t.texParameteri(35866,10241,9728),t.texImage3D(35866,0,32856,E,M,L,0,6408,5121,null),R.framebufferTextureMultiviewOVR(36160,36064,P,0,0,L);var D=t.createTexture();t.bindTexture(35866,D),t.texParameteri(35866,10240,9728),t.texParameteri(35866,10241,9728),t.texImage3D(35866,0,35056,E,M,L,0,34041,34042,null),R.framebufferTextureMultiviewOVR(36160,33306,D,0,0,L);var O=new Array(L);for(i=0;i<L;++i)O[i]=t.createFramebuffer(),t.bindFramebuffer(36160,O[i]),t.framebufferTextureLayer(36160,36064,P,0,i);l.__webglColorTexture=P,l.__webglDepthStencilTexture=D,l.__webglViewFramebuffers=O,t.bindFramebuffer(36160,null),t.bindTexture(35866,null)}if(f){for(n.bindTexture(34067,m.__webglTexture),F(34067,r.texture,y),i=0;i<6;i++)U(l.__webglFramebuffer[i],r,36064,34069+i);_(r.texture,y)&&S(34067,r.texture,r.width,r.height),n.bindTexture(34067,null)}else x||(n.bindTexture(3553,m.__webglTexture),F(3553,r.texture,y),U(l.__webglFramebuffer,r,36064,3553),_(r.texture,y)&&S(3553,r.texture,r.width,r.height),n.bindTexture(3553,null));r.depthBuffer&&V(r)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(_(e,T(t)||h)){var r=t.isWebGLRenderTargetCube?34067:3553,l=o.get(e).__webglTexture;n.bindTexture(r,l),S(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(h){var n=o.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var r=e.width,l=e.height,mask=16384;e.depthBuffer&&(mask|=256),e.stencilBuffer&&(mask|=1024),t.blitFramebuffer(0,0,r,l,0,0,r,l,mask,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,slot){t&&t.isWebGLRenderTarget&&(!1===W&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),W=!0),t=t.texture),D(t,slot)},this.safeSetTextureCube=function(t,slot){t&&t.isWebGLRenderTargetCube&&(!1===X&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),X=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?O(t,slot):I(t,slot)}}function ir(t,e,n){var r=n.isWebGL2;return{convert:function(p){var t;if(1009===p)return 5121;if(1017===p)return 32819;if(1018===p)return 32820;if(1019===p)return 33635;if(1010===p)return 5120;if(1011===p)return 5122;if(1012===p)return 5123;if(1013===p)return 5124;if(1014===p)return 5125;if(1015===p)return 5126;if(1016===p)return r?5131:null!==(t=e.get("OES_texture_half_float"))?t.HALF_FLOAT_OES:null;if(1021===p)return 6406;if(1022===p)return 6407;if(1023===p)return 6408;if(1024===p)return 6409;if(1025===p)return 6410;if(1026===p)return 6402;if(1027===p)return 34041;if(1028===p)return 6403;if(33776===p||33777===p||33778===p||33779===p){if(null===(t=e.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===p)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===p)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===p)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===p)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===p||35841===p||35842===p||35843===p){if(null===(t=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===p)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===p)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===p)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===p)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return 36196===p?null!==(t=e.get("WEBGL_compressed_texture_etc1"))?t.COMPRESSED_RGB_ETC1_WEBGL:null:37808===p||37809===p||37810===p||37811===p||37812===p||37813===p||37814===p||37815===p||37816===p||37817===p||37818===p||37819===p||37820===p||37821===p?null!==(t=e.get("WEBGL_compressed_texture_astc"))?p:null:1020===p?r?34042:null!==(t=e.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function nr(t,e,n,r){E.call(this,t,e,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function rr(t,e){var n,r,l,c,d,m,h,f=t.extensions,x=t.properties,y=0;function w(t){return t.isArrayCamera?t.cameras:(d[0]=t,d)}this.isAvailable=function(){if(void 0===h){var t=f.get("OVR_multiview2");if(h=null!==t&&!1===e.getContextAttributes().antialias){y=e.getParameter(t.MAX_VIEWS_OVR),n=new nr(0,0,2),m=new o,c=[],l=[],d=[];for(var i=0;i<y;i++)c[i]=new P,l[i]=new v}}return h},this.attachCamera=function(e){!1!==function(t){if(void 0===t.isArrayCamera)return!0;var e=t.cameras;if(e.length>y)return!1;for(var i=1,n=e.length;i<n;i++)if(e[0].viewport.z!==e[i].viewport.z||e[0].viewport.w!==e[i].viewport.w)return!1;return!0}(e)&&(r=t.getRenderTarget(),function(e){if(r?m.set(r.width,r.height):t.getDrawingBufferSize(m),e.isArrayCamera){var o=e.cameras[0].viewport;n.setSize(o.z,o.w),n.setNumViews(e.cameras.length)}else n.setSize(m.x,m.y),n.setNumViews(2)}(e),t.setRenderTarget(n))},this.detachCamera=function(o){n===t.getRenderTarget()&&(t.setRenderTarget(r),function(t){var r=n,o=r.numViews,l=x.get(r).__webglViewFramebuffers,c=r.width,d=r.height;if(t.isArrayCamera)for(var i=0;i<o;i++){var h=t.cameras[i].viewport,f=h.x,v=h.y,y=f+h.z,w=v+h.w;e.bindFramebuffer(36008,l[i]),e.blitFramebuffer(0,0,c,d,f,v,y,w,16384,9728)}else e.bindFramebuffer(36008,l[0]),e.blitFramebuffer(0,0,c,d,0,0,m.x,m.y,16384,9728)}(o))},this.updateCameraProjectionMatricesUniform=function(t,n){for(var r=w(t),i=0;i<r.length;i++)c[i].copy(r[i].projectionMatrix);n.setValue(e,"projectionMatrices",c)},this.updateCameraViewMatricesUniform=function(t,n){for(var r=w(t),i=0;i<r.length;i++)c[i].copy(r[i].matrixWorldInverse);n.setValue(e,"viewMatrices",c)},this.updateObjectMatricesUniforms=function(object,t,n){for(var r=w(t),i=0;i<r.length;i++)c[i].multiplyMatrices(r[i].matrixWorldInverse,object.matrixWorld),l[i].getNormalMatrix(c[i]);n.setValue(e,"modelViewMatrices",c),n.setValue(e,"normalMatrices",l)}}function ar(){Z.call(this),this.type="Group"}function or(t){Ze.call(this),this.cameras=t||[]}Qn.prototype=Object.create(Qt.prototype),Qn.prototype.constructor=Qn,Qn.prototype.isMeshDepthMaterial=!0,Qn.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.depthPacking=source.depthPacking,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this},Zn.prototype=Object.create(Qt.prototype),Zn.prototype.constructor=Zn,Zn.prototype.isMeshDistanceMaterial=!0,Zn.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.referencePosition.copy(source.referencePosition),this.nearDistance=source.nearDistance,this.farDistance=source.farDistance,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this},nr.prototype=Object.assign(Object.create(E.prototype),{constructor:nr,isWebGLMultiviewRenderTarget:!0,copy:function(source){return E.prototype.copy.call(this,source),this.numViews=source.numViews,this},setNumViews:function(t){return this.numViews!==t&&(this.numViews=t,this.dispose()),this}}),ar.prototype=Object.assign(Object.create(Z.prototype),{constructor:ar,isGroup:!0}),or.prototype=Object.assign(Object.create(Ze.prototype),{constructor:or,isArrayCamera:!0});var sr,pr=new m,lr=new m;function cr(t,e,n){pr.setFromMatrixPosition(e.matrixWorld),lr.setFromMatrixPosition(n.matrixWorld);var r=pr.distanceTo(lr),o=e.projectionMatrix.elements,l=n.projectionMatrix.elements,c=o[14]/(o[10]-1),d=o[14]/(o[10]+1),m=(o[9]+1)/o[5],h=(o[9]-1)/o[5],f=(o[8]-1)/o[0],v=(l[8]+1)/l[0],x=c*f,y=c*v,w=r/(-f+v),A=w*-f;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(A),t.translateZ(w),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var E=c+w,M=d+w,T=x-A,_=y+(r-A),S=m*d/M*E,C=h*d/M*E;t.projectionMatrix.makePerspective(T,_,S,C,E,M)}function dr(t){var e,n,r=this,c=null,d=null,h=null,f=[],v=new P,x=new P,y=1,w="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(d=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",D,!1));var E=new P,M=new l,T=new m,_=new Ze;_.viewport=new A,_.layers.enable(1);var S=new Ze;S.viewport=new A,S.layers.enable(2);var C=new or([_,S]);function L(){return null!==c&&!0===c.isPresenting}C.layers.enable(1),C.layers.enable(2);var R,k=new o;function D(){if(L()){var o=c.getEyeParameters("left");e=2*o.renderWidth*y,n=o.renderHeight*y,R=t.getPixelRatio(),t.getSize(k),t.setDrawingBufferSize(e,n,1),_.viewport.set(0,0,e/2,n),S.viewport.set(e/2,0,e/2,n),F.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&t.setDrawingBufferSize(k.width,k.height,R),F.stop(),r.dispatchEvent({type:"sessionend"})}var O=[],I=[];function B(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,n=e.length;i<n;i++){var r=e[i];if(r&&("Daydream Controller"===r.id||"Gear VR Controller"===r.id||"Oculus Go Controller"===r.id||"OpenVR Gamepad"===r.id||r.id.startsWith("Oculus Touch")||r.id.startsWith("HTC Vive Focus")||r.id.startsWith("Spatial Controller"))){var o=r.hand;if(0===t&&(""===o||"right"===o))return r;if(1===t&&"left"===o)return r}}}function N(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*n,r[2]*e,r[3]*n)}this.enabled=!1,this.getController=function(t){var e=f[t];return void 0===e&&((e=new ar).matrixAutoUpdate=!1,e.visible=!1,f[t]=e),e},this.getDevice=function(){return c},this.setDevice=function(t){void 0!==t&&(c=t),F.setContext(t)},this.setFramebufferScaleFactor=function(t){y=t},this.setReferenceSpaceType=function(t){w=t},this.setPoseTarget=function(object){void 0!==object&&(h=object)},this.getCamera=function(t){var e="local-floor"===w?1.6:0;if(c.depthNear=t.near,c.depthFar=t.far,c.getFrameData(d),"local-floor"===w){var n=c.stageParameters;n?v.fromArray(n.sittingToStandingTransform):v.makeTranslation(0,e,0)}var r=d.pose,o=null!==h?h:t;o.matrix.copy(v),o.matrix.decompose(o.position,o.quaternion,o.scale),null!==r.orientation&&(M.fromArray(r.orientation),o.quaternion.multiply(M)),null!==r.position&&(M.setFromRotationMatrix(v),T.fromArray(r.position),T.applyQuaternion(M),o.position.add(T)),o.updateMatrixWorld();for(var l=o.children,i=0,m=l.length;i<m;i++)l[i].updateMatrixWorld(!0);_.near=t.near,S.near=t.near,_.far=t.far,S.far=t.far,_.matrixWorldInverse.fromArray(d.leftViewMatrix),S.matrixWorldInverse.fromArray(d.rightViewMatrix),x.getInverse(v),"local-floor"===w&&(_.matrixWorldInverse.multiply(x),S.matrixWorldInverse.multiply(x));var y=o.parent;null!==y&&(E.getInverse(y.matrixWorld),_.matrixWorldInverse.multiply(E),S.matrixWorldInverse.multiply(E)),_.matrixWorld.getInverse(_.matrixWorldInverse),S.matrixWorld.getInverse(S.matrixWorldInverse),_.projectionMatrix.fromArray(d.leftProjectionMatrix),S.projectionMatrix.fromArray(d.rightProjectionMatrix),cr(C,_,S);var A=c.getLayers();if(A.length){var L=A[0];N(_.viewport,L.leftBounds),N(S.viewport,L.rightBounds)}return function(){for(var i=0;i<f.length;i++){var t=f[i],e=B(i);if(void 0!==e&&void 0!==e.pose){if(null===e.pose)return;var n=e.pose;!1===n.hasPosition&&t.position.set(.2,-.6,-.05),null!==n.position&&t.position.fromArray(n.position),null!==n.orientation&&t.quaternion.fromArray(n.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(v),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var r="Daydream Controller"===e.id?0:1;void 0===O[i]&&(O[i]=!1),O[i]!==e.buttons[r].pressed&&(O[i]=e.buttons[r].pressed,!0===O[i]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),r=2,void 0===I[i]&&(I[i]=!1),void 0!==e.buttons[r]&&I[i]!==e.buttons[r].pressed&&(I[i]=e.buttons[r].pressed,!0===I[i]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}(),C},this.getStandingMatrix=function(){return v},this.isPresenting=L;var F=new si;this.setAnimationLoop=function(t){F.setAnimationLoop(t),L()&&F.start()},this.submitFrame=function(){L()&&c.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",D)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function mr(t,e){var n=this,r=null,o=null,l="local-floor",c=null,d=null,m=[],h=[],f=new Ze;f.layers.enable(1),f.viewport=new A;var v=new Ze;v.layers.enable(2),v.viewport=new A;var x=new or([f,v]);function y(t){for(var i=0;i<m.length;i++)h[i]===t.inputSource&&m[i].dispatchEvent({type:t.type})}function w(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),C.stop(),n.dispatchEvent({type:"sessionend"})}function E(t){o=t,C.setContext(r),C.start(),n.dispatchEvent({type:"sessionstart"})}function M(){for(var i=0;i<m.length;i++)h[i]=T(i)}function T(t){for(var e=r.inputSources,i=0;i<e.length;i++){var n=e[i],o=n.handedness;if(0===t&&("none"===o||"right"===o))return n;if(1===t&&"left"===o)return n}}function _(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}x.layers.enable(1),x.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=m[t];return void 0===e&&((e=new ar).matrixAutoUpdate=!1,e.visible=!1,m[t]=e),e},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(t){l=t},this.getSession=function(){return r},this.setSession=function(t){null!==(r=t)&&(r.addEventListener("select",y),r.addEventListener("selectstart",y),r.addEventListener("selectend",y),r.addEventListener("squeeze",y),r.addEventListener("squeezestart",y),r.addEventListener("squeezeend",y),r.addEventListener("end",w),r.updateRenderState({baseLayer:new XRWebGLLayer(r,e)}),r.requestReferenceSpace(l).then(E),r.addEventListener("inputsourceschange",M),M())},this.setPoseTarget=function(object){void 0!==object&&(d=object)},this.getCamera=function(t){var e=t.parent,n=x.cameras,object=d||t;_(x,e);for(var i=0;i<n.length;i++)_(n[i],e);object.matrixWorld.copy(x.matrixWorld);for(var r=object.children,o=(i=0,r.length);i<o;i++)r[i].updateMatrixWorld(!0);return cr(x,f,v),x},this.getCameraPose=function(){return c},this.isPresenting=function(){return null!==r&&null!==o};var S=null,C=new si;C.setAnimationLoop((function(time,e){if(null!==(c=e.getViewerPose(o))){var n=c.views,l=r.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var i=0;i<n.length;i++){var view=n[i],d=l.getViewport(view),f=view.transform.inverse.matrix,v=x.cameras[i];v.matrix.fromArray(f).getInverse(v.matrix),v.projectionMatrix.fromArray(view.projectionMatrix),v.viewport.set(d.x,d.y,d.width,d.height),0===i&&x.matrix.copy(v.matrix)}}for(i=0;i<m.length;i++){var y=m[i],w=h[i];if(w){var A=e.getPose(w.targetRaySpace,o);if(null!==A){y.matrix.fromArray(A.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.visible=!0;continue}}y.visible=!1}S&&S(time,e)})),this.setAnimationLoop=function(t){S=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new P},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function ur(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,l=void 0!==t.alpha&&t.alpha,c=void 0===t.depth||t.depth,d=void 0===t.stencil||t.stencil,h=void 0!==t.antialias&&t.antialias,f=void 0===t.premultipliedAlpha||t.premultipliedAlpha,v=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,x=void 0!==t.powerPreference?t.powerPreference:"default",y=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,w=null,E=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var M,T,_,S,C,L,R,k,D,O,I,B,N,F,j,H,U,z,V=this,G=!1,W=null,X=0,Y=0,K=null,Q=null,Z=-1,J={geometry:null,program:null,wireframe:!1},$=null,tt=null,et=new A,it=new A,nt=null,at=e.width,ot=e.height,st=1,pt=new A(0,0,at,ot),lt=new A(0,0,at,ot),ct=!1,mt=new ni,ht=new fi,ut=!1,ft=!1,gt=new P,vt=new m;function xt(){return null===K?st:1}try{var yt={alpha:l,depth:c,stencil:d,antialias:h,premultipliedAlpha:f,preserveDrawingBuffer:v,powerPreference:x,failIfMajorPerformanceCaveat:y,xrCompatible:!0};if(e.addEventListener("webglcontextlost",Mt,!1),e.addEventListener("webglcontextrestored",Tt,!1),null===(M=n||e.getContext("webgl",yt)||e.getContext("experimental-webgl",yt)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===M.getShaderPrecisionFormat&&(M.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function bt(){T=new gi(M),!1===(_=new ui(M,T,t)).isWebGL2&&(T.get("WEBGL_depth_texture"),T.get("OES_texture_float"),T.get("OES_texture_half_float"),T.get("OES_texture_half_float_linear"),T.get("OES_standard_derivatives"),T.get("OES_element_index_uint"),T.get("ANGLE_instanced_arrays")),T.get("OES_texture_float_linear"),z=new ir(M,T,_),(S=new $n(M,T,_)).scissor(it.copy(lt).multiplyScalar(st).floor()),S.viewport(et.copy(pt).multiplyScalar(st).floor()),C=new yi(M),L=new jn,R=new er(M,T,S,L,_,z,C),k=new pi(M),D=new vi(M,k,C),O=new Ai(M,D,k,C),j=new wi(M),I=new Fn(V,T,_),B=new Vn,N=new Kn,F=new mi(V,S,O,f),H=new hi(M,T,C,_),U=new xi(M,T,C,_),C.programs=I.programs,V.capabilities=_,V.extensions=T,V.properties=L,V.renderLists=B,V.state=S,V.info=C}bt();var wt=!/(OculusBrowser)/i.test(window.navigator.userAgent)&&"undefined"!=typeof navigator&&"xr"in navigator?new mr(V,M):new dr(V);this.xr=wt;var At=new rr(V,M),Et=new Jn(V,O,_.maxTextureSize);function Mt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),G=!0}function Tt(){console.log("THREE.WebGLRenderer: Context Restored."),G=!1,bt()}function _t(t){var e=t.target;e.removeEventListener("dispose",_t),function(t){St(t),L.remove(t)}(e)}function St(t){var e=L.get(t).program;t.program=void 0,void 0!==e&&I.releaseProgram(e)}this.shadowMap=Et,this.getContext=function(){return M},this.getContextAttributes=function(){return M.getContextAttributes()},this.forceContextLoss=function(){var t=T.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=T.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return st},this.setPixelRatio=function(t){void 0!==t&&(st=t,this.setSize(at,ot,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new o),t.set(at,ot)},this.setSize=function(t,n,r){wt.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(at=t,ot=n,e.width=Math.floor(t*st),e.height=Math.floor(n*st),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new o),t.set(at*st,ot*st).floor()},this.setDrawingBufferSize=function(t,n,r){at=t,ot=n,st=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new A),t.copy(et)},this.getViewport=function(t){return t.copy(pt)},this.setViewport=function(t,e,n,r){t.isVector4?pt.set(t.x,t.y,t.z,t.w):pt.set(t,e,n,r),S.viewport(et.copy(pt).multiplyScalar(st).floor())},this.getScissor=function(t){return t.copy(lt)},this.setScissor=function(t,e,n,r){t.isVector4?lt.set(t.x,t.y,t.z,t.w):lt.set(t,e,n,r),S.scissor(it.copy(lt).multiplyScalar(st).floor())},this.getScissorTest=function(){return ct},this.setScissorTest=function(t){S.setScissorTest(ct=t)},this.getClearColor=function(){return F.getClearColor()},this.setClearColor=function(){F.setClearColor.apply(F,arguments)},this.getClearAlpha=function(){return F.getClearAlpha()},this.setClearAlpha=function(){F.setClearAlpha.apply(F,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),M.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Mt,!1),e.removeEventListener("webglcontextrestored",Tt,!1),B.dispose(),N.dispose(),L.dispose(),O.dispose(),wt.dispose(),Rt.stop()},this.renderBufferImmediate=function(object,t){S.initAttributes();var e=L.get(object);object.hasPositions&&!e.position&&(e.position=M.createBuffer()),object.hasNormals&&!e.normal&&(e.normal=M.createBuffer()),object.hasUvs&&!e.uv&&(e.uv=M.createBuffer()),object.hasColors&&!e.color&&(e.color=M.createBuffer());var n=t.getAttributes();object.hasPositions&&(M.bindBuffer(34962,e.position),M.bufferData(34962,object.positionArray,35048),S.enableAttribute(n.position),M.vertexAttribPointer(n.position,3,5126,!1,0,0)),object.hasNormals&&(M.bindBuffer(34962,e.normal),M.bufferData(34962,object.normalArray,35048),S.enableAttribute(n.normal),M.vertexAttribPointer(n.normal,3,5126,!1,0,0)),object.hasUvs&&(M.bindBuffer(34962,e.uv),M.bufferData(34962,object.uvArray,35048),S.enableAttribute(n.uv),M.vertexAttribPointer(n.uv,2,5126,!1,0,0)),object.hasColors&&(M.bindBuffer(34962,e.color),M.bufferData(34962,object.colorArray,35048),S.enableAttribute(n.color),M.vertexAttribPointer(n.color,3,5126,!1,0,0)),S.disableUnusedAttributes(),M.drawArrays(4,0,object.count),object.count=0},this.renderBufferDirect=function(t,e,n,r,object,o){var l=object.isMesh&&object.matrixWorld.determinant()<0,c=It(t,e,r,object);S.setMaterial(r,l);var d=!1;J.geometry===n.id&&J.program===c.id&&J.wireframe===(!0===r.wireframe)||(J.geometry=n.id,J.program=c.id,J.wireframe=!0===r.wireframe,d=!0),(r.morphTargets||r.morphNormals)&&(j.update(object,n,r,c),d=!0);var m=n.index,h=n.attributes.position;if((null===m||0!==m.count)&&void 0!==h&&0!==h.count){var f,v=1;!0===r.wireframe&&(m=D.getWireframeAttribute(n),v=2);var x=H;null!==m&&(f=k.get(m),(x=U).setIndex(f)),d&&(function(object,t,e,n){if(!1!==_.isWebGL2||!object.isInstancedMesh&&!t.isInstancedBufferGeometry||null!==T.get("ANGLE_instanced_arrays")){S.initAttributes();var r=t.attributes,o=n.getAttributes(),l=e.defaultAttributeValues;for(var c in o){var d=o[c];if(d>=0){var m=r[c];if(void 0!==m){var h=m.normalized,f=m.itemSize;if(void 0===(E=k.get(m)))continue;var v=E.buffer,x=E.type,y=E.bytesPerElement;if(m.isInterleavedBufferAttribute){var data=m.data,w=data.stride,A=m.offset;data&&data.isInstancedInterleavedBuffer?(S.enableAttributeAndDivisor(d,data.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=data.meshPerAttribute*data.count)):S.enableAttribute(d),M.bindBuffer(34962,v),M.vertexAttribPointer(d,f,x,h,w*y,A*y)}else m.isInstancedBufferAttribute?(S.enableAttributeAndDivisor(d,m.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=m.meshPerAttribute*m.count)):S.enableAttribute(d),M.bindBuffer(34962,v),M.vertexAttribPointer(d,f,x,h,0,0)}else if("instanceMatrix"===c){var E;if(void 0===(E=k.get(object.instanceMatrix)))continue;v=E.buffer,x=E.type,S.enableAttributeAndDivisor(d+0,1),S.enableAttributeAndDivisor(d+1,1),S.enableAttributeAndDivisor(d+2,1),S.enableAttributeAndDivisor(d+3,1),M.bindBuffer(34962,v),M.vertexAttribPointer(d+0,4,x,!1,64,0),M.vertexAttribPointer(d+1,4,x,!1,64,16),M.vertexAttribPointer(d+2,4,x,!1,64,32),M.vertexAttribPointer(d+3,4,x,!1,64,48)}else if(void 0!==l){var C=l[c];if(void 0!==C)switch(C.length){case 2:M.vertexAttrib2fv(d,C);break;case 3:M.vertexAttrib3fv(d,C);break;case 4:M.vertexAttrib4fv(d,C);break;default:M.vertexAttrib1fv(d,C)}}}}S.disableUnusedAttributes()}}(object,n,r,c),null!==m&&M.bindBuffer(34963,f.buffer));var y=null!==m?m.count:h.count,w=n.drawRange.start*v,A=n.drawRange.count*v,E=null!==o?o.start*v:0,C=null!==o?o.count*v:1/0,L=Math.max(w,E),R=Math.min(y,w+A,E+C)-1,P=Math.max(0,R-L+1);if(0!==P){if(object.isMesh)!0===r.wireframe?(S.setLineWidth(r.wireframeLinewidth*xt()),x.setMode(1)):x.setMode(4);else if(object.isLine){var O=r.linewidth;void 0===O&&(O=1),S.setLineWidth(O*xt()),object.isLineSegments?x.setMode(1):object.isLineLoop?x.setMode(2):x.setMode(3)}else object.isPoints?x.setMode(0):object.isSprite&&x.setMode(4);object.isInstancedMesh?x.renderInstances(n,L,P,object.count):n.isInstancedBufferGeometry?x.renderInstances(n,L,P,n.maxInstancedCount):x.render(L,P)}}},this.compile=function(t,e){(E=N.get(t,e)).init(),t.traverse((function(object){object.isLight&&(E.pushLight(object),object.castShadow&&E.pushShadow(object))})),E.setupLights(e),t.traverse((function(object){if(object.material)if(Array.isArray(object.material))for(var i=0;i<object.material.length;i++)Ot(object.material[i],t.fog,object);else Ot(object.material,t.fog,object)}))};var Ct,Lt=null,Rt=new si;function kt(object,t,e,n){if(!1!==object.visible){if(object.layers.test(t.layers))if(object.isGroup)e=object.renderOrder;else if(object.isLOD)!0===object.autoUpdate&&object.update(t);else if(object.isLight)E.pushLight(object),object.castShadow&&E.pushShadow(object);else if(object.isSprite){if(!object.frustumCulled||mt.intersectsSprite(object)){n&&vt.setFromMatrixPosition(object.matrixWorld).applyMatrix4(gt);var r=O.update(object);(o=object.material).visible&&w.push(object,r,o,e,vt.z,null)}}else if(object.isImmediateRenderObject)n&&vt.setFromMatrixPosition(object.matrixWorld).applyMatrix4(gt),w.push(object,null,object.material,e,vt.z,null);else if((object.isMesh||object.isLine||object.isPoints)&&(object.isSkinnedMesh&&object.skeleton.frame!==C.render.frame&&(object.skeleton.update(),object.skeleton.frame=C.render.frame),!object.frustumCulled||mt.intersectsObject(object))){n&&vt.setFromMatrixPosition(object.matrixWorld).applyMatrix4(gt),r=O.update(object);var o=object.material;if(Array.isArray(o))for(var l=r.groups,i=0,c=l.length;i<c;i++){var d=l[i],m=o[d.materialIndex];m&&m.visible&&w.push(object,r,m,e,vt.z,d)}else o.visible&&w.push(object,r,o,e,vt.z,null)}var h=object.children;for(i=0,c=h.length;i<c;i++)kt(h[i],t,e,n)}}function Pt(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var l=t[i],object=l.object,c=l.geometry,d=void 0===r?l.material:r,m=l.group;if(n.isArrayCamera)if(tt=n,wt.enabled&&At.isAvailable())Dt(object,e,n,c,d,m);else for(var h=n.cameras,f=0,v=h.length;f<v;f++){var x=h[f];object.layers.test(x.layers)&&(S.viewport(et.copy(x.viewport)),E.setupLights(x),Dt(object,e,x,c,d,m))}else tt=null,Dt(object,e,n,c,d,m)}}function Dt(object,t,e,n,r,o){if(object.onBeforeRender(V,t,e,n,r,o),E=N.get(t,tt||e),object.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,object.matrixWorld),object.normalMatrix.getNormalMatrix(object.modelViewMatrix),object.isImmediateRenderObject){var l=It(e,t.fog,r,object);S.setMaterial(r),J.geometry=null,J.program=null,J.wireframe=!1,function(object,t){object.render((function(object){V.renderBufferImmediate(object,t)}))}(object,l)}else V.renderBufferDirect(e,t.fog,n,r,object,o);object.onAfterRender(V,t,e,n,r,o),E=N.get(t,tt||e)}function Ot(t,e,object){var n=L.get(t),r=E.state.lights,o=E.state.shadowsArray,l=r.state.version,c=I.getParameters(t,r.state,o,e,ht.numPlanes,ht.numIntersection,object),d=I.getProgramCacheKey(t,c),m=n.program,h=!0;if(void 0===m)t.addEventListener("dispose",_t);else if(m.cacheKey!==d)St(t);else if(n.lightsStateVersion!==l)n.lightsStateVersion=l,h=!1;else{if(void 0!==c.shaderID)return;h=!1}if(h){if(c.shaderID){var f=oi[c.shaderID];n.shader={name:t.type,uniforms:qe(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else n.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(n.shader,V),d=I.getProgramCacheKey(t,c),m=I.acquireProgram(t,n.shader,c,d),n.program=m,t.program=m}var v=m.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var i=0;i<V.maxMorphTargets;i++)v["morphTarget"+i]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,i=0;i<V.maxMorphNormals;i++)v["morphNormal"+i]>=0&&t.numSupportedMorphNormals++;var x=n.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=ht.numPlanes,n.numIntersection=ht.numIntersection,x.clippingPlanes=ht.uniform),n.fog=e,n.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),n.lightsStateVersion=l,n.needsLights&&(x.ambientLightColor.value=r.state.ambient,x.lightProbe.value=r.state.probe,x.directionalLights.value=r.state.directional,x.spotLights.value=r.state.spot,x.rectAreaLights.value=r.state.rectArea,x.pointLights.value=r.state.point,x.hemisphereLights.value=r.state.hemi,x.directionalShadowMap.value=r.state.directionalShadowMap,x.directionalShadowMatrix.value=r.state.directionalShadowMatrix,x.spotShadowMap.value=r.state.spotShadowMap,x.spotShadowMatrix.value=r.state.spotShadowMatrix,x.pointShadowMap.value=r.state.pointShadowMap,x.pointShadowMatrix.value=r.state.pointShadowMatrix);var y=n.program.getUniforms(),w=bn.seqWithValue(y.seq,x);n.uniformsList=w}function It(t,e,n,object){R.resetTextureUnits();var o=L.get(n),l=E.state.lights;if(ut&&(ft||t!==$)){var c=t===$&&n.id===Z;ht.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,o,c)}n.version===o.__version&&(void 0===o.program||n.fog&&o.fog!==e||o.needsLights&&o.lightsStateVersion!==l.state.version?n.needsUpdate=!0:void 0===o.numClippingPlanes||o.numClippingPlanes===ht.numPlanes&&o.numIntersection===ht.numIntersection||(n.needsUpdate=!0)),n.version!==o.__version&&(Ot(n,e,object),o.__version=n.version);var d,m,h=!1,f=!1,v=!1,x=o.program,y=x.getUniforms(),w=o.shader.uniforms;if(S.useProgram(x.program)&&(h=!0,f=!0,v=!0),n.id!==Z&&(Z=n.id,f=!0),h||$!==t){if(x.numMultiviewViews>0?At.updateCameraProjectionMatricesUniform(t,y):y.setValue(M,"projectionMatrix",t.projectionMatrix),_.logarithmicDepthBuffer&&y.setValue(M,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),$!==t&&($=t,f=!0,v=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var A=y.map.cameraPosition;void 0!==A&&A.setValue(M,vt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&y.setValue(M,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(x.numMultiviewViews>0?At.updateCameraViewMatricesUniform(t,y):y.setValue(M,"viewMatrix",t.matrixWorldInverse))}if(n.skinning){y.setOptional(M,object,"bindMatrix"),y.setOptional(M,object,"bindMatrixInverse");var T=object.skeleton;if(T){var C=T.bones;if(_.floatVertexTextures){if(void 0===T.boneTexture){var k=Math.sqrt(4*C.length);k=r.ceilPowerOfTwo(k),k=Math.max(k,4);var P=new Float32Array(k*k*4);P.set(T.boneMatrices);var D=new ti(P,k,k,1023,1015);T.boneMatrices=P,T.boneTexture=D,T.boneTextureSize=k}y.setValue(M,"boneTexture",T.boneTexture,R),y.setValue(M,"boneTextureSize",T.boneTextureSize)}else y.setOptional(M,T,"boneMatrices")}}return(f||o.receiveShadow!==object.receiveShadow)&&(o.receiveShadow=object.receiveShadow,y.setValue(M,"receiveShadow",object.receiveShadow)),f&&(y.setValue(M,"toneMappingExposure",V.toneMappingExposure),y.setValue(M,"toneMappingWhitePoint",V.toneMappingWhitePoint),o.needsLights&&(m=v,(d=w).ambientLightColor.needsUpdate=m,d.lightProbe.needsUpdate=m,d.directionalLights.needsUpdate=m,d.pointLights.needsUpdate=m,d.spotLights.needsUpdate=m,d.rectAreaLights.needsUpdate=m,d.hemisphereLights.needsUpdate=m),e&&n.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(w,e),n.isMeshBasicMaterial?Bt(w,n):n.isMeshLambertMaterial?(Bt(w,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(w,n)):n.isMeshToonMaterial?(Bt(w,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isMeshPhongMaterial?(Bt(w,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isMeshStandardMaterial?(Bt(w,n),n.isMeshPhysicalMaterial?function(t,e){Nt(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transparency.value=e.transparency}(w,n):Nt(w,n)):n.isMeshMatcapMaterial?(Bt(w,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isMeshDepthMaterial?(Bt(w,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isMeshDistanceMaterial?(Bt(w,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(w,n)):n.isMeshNormalMaterial?(Bt(w,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(w,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(w,n)):n.isPointsMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*st,t.scale.value=.5*ot,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(w,n):n.isSpriteMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(w,n):n.isShadowMaterial?(w.color.value.copy(n.color),w.opacity.value=n.opacity):n.envMap&&Bt(w,n),void 0!==w.ltc_1&&(w.ltc_1.value=ai.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=ai.LTC_2),bn.upload(M,o.uniformsList,w,R),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(bn.upload(M,o.uniformsList,w,R),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&y.setValue(M,"center",object.center),x.numMultiviewViews>0?At.updateObjectMatricesUniforms(object,t,y):(y.setValue(M,"modelViewMatrix",object.modelViewMatrix),y.setValue(M,"normalMatrix",object.normalMatrix)),y.setValue(M,"modelMatrix",object.matrixWorld),x}function Bt(t,e){var n,r;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=L.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix)),e.aoMap?r=e.aoMap:e.lightMap&&(r=e.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uv2Transform.value.copy(r.matrix))}function Nt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}Rt.setAnimationLoop((function(time){wt.isPresenting()||Lt&&Lt(time)})),"undefined"!=typeof window&&Rt.setContext(window),this.setAnimationLoop=function(t){Lt=t,wt.setAnimationLoop(t),Rt.start()},this.render=function(t,e){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),e&&e.isCamera){if(!G){J.geometry=null,J.program=null,J.wireframe=!1,Z=-1,$=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),wt.enabled&&wt.isPresenting()&&(e=wt.getCamera(e)),(E=N.get(t,e)).init(),t.onBeforeRender(V,t,e,n||K),gt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),mt.setFromMatrix(gt),ft=this.localClippingEnabled,ut=ht.init(this.clippingPlanes,ft,e),(w=B.get(t,e)).init(),kt(t,e,0,V.sortObjects),!0===V.sortObjects&&w.sort(),ut&&ht.beginShadows();var o=E.state.shadowsArray;Et.render(o,t,e),E.setupLights(e),ut&&ht.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),wt.enabled&&At.isAvailable()&&At.attachCamera(e),F.render(w,t,e,r);var l=w.opaque,c=w.transparent;if(t.overrideMaterial){var d=t.overrideMaterial;l.length&&Pt(l,t,e,d),c.length&&Pt(c,t,e,d)}else l.length&&Pt(l,t,e),c.length&&Pt(c,t,e);t.onAfterRender(V,t,e),null!==K&&(R.updateRenderTargetMipmap(K),R.updateMultisampleRenderTarget(K)),S.buffers.depth.setTest(!0),S.buffers.depth.setMask(!0),S.buffers.color.setMask(!0),S.setPolygonOffset(!1),wt.enabled&&(At.isAvailable()&&At.detachCamera(e),wt.submitFrame()),w=null,E=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setTexture2D=(Ct=!1,function(t,slot){t&&t.isWebGLRenderTarget&&(Ct||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),Ct=!0),t=t.texture),R.setTexture2D(t,slot)}),this.setFramebuffer=function(t){W!==t&&null===K&&M.bindFramebuffer(36160,t),W=t},this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return Y},this.getRenderTarget=function(){return K},this.setRenderTarget=function(t,e,n){K=t,X=e,Y=n,t&&void 0===L.get(t).__webglFramebuffer&&R.setupRenderTarget(t);var r=W,o=!1;if(t){var l=L.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=l[e||0],o=!0):r=t.isWebGLMultisampleRenderTarget?L.get(t).__webglMultisampledFramebuffer:l,et.copy(t.viewport),it.copy(t.scissor),nt=t.scissorTest}else et.copy(pt).multiplyScalar(st).floor(),it.copy(lt).multiplyScalar(st).floor(),nt=ct;if(Q!==r&&(M.bindFramebuffer(36160,r),Q=r),S.viewport(et),S.scissor(it),S.setScissorTest(nt),o){var c=L.get(t.texture);M.framebufferTexture2D(36160,36064,34069+(e||0),c.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,r,o,l,c){if(t&&t.isWebGLRenderTarget){var d=L.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==c&&(d=d[c]),d){var m=!1;d!==Q&&(M.bindFramebuffer(36160,d),m=!0);try{var h=t.texture,f=h.format,v=h.type;if(1023!==f&&z.convert(f)!==M.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===v||z.convert(v)===M.getParameter(35738)||1015===v&&(_.isWebGL2||T.get("OES_texture_float")||T.get("WEBGL_color_buffer_float"))||1016===v&&(_.isWebGL2?T.get("EXT_color_buffer_float"):T.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===M.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-o&&M.readPixels(e,n,r,o,z.convert(f),z.convert(v),l):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{m&&M.bindFramebuffer(36160,Q)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){void 0===n&&(n=0);var r=Math.pow(2,-n),o=Math.floor(e.image.width*r),l=Math.floor(e.image.height*r),c=z.convert(e.format);R.setTexture2D(e,0),M.copyTexImage2D(3553,n,c,t.x,t.y,o,l,0),S.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r){var o=e.image.width,l=e.image.height,c=z.convert(n.format),d=z.convert(n.type);R.setTexture2D(n,0),e.isDataTexture?M.texSubImage2D(3553,r||0,t.x,t.y,o,l,c,d,e.image.data):M.texSubImage2D(3553,r||0,t.x,t.y,c,d,e.image),S.unbindTexture()},this.initTexture=function(t){R.setTexture2D(t,0),S.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function fr(t,e){this.name="",this.color=new Gt(t),this.density=void 0!==e?e:25e-5}function gr(t,e,n){this.name="",this.color=new Gt(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function vr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function xr(t,e,n,r){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function yr(t){Qt.call(this),this.type="SpriteMaterial",this.color=new Gt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.assign(dr.prototype,e.prototype),Object.assign(mr.prototype,e.prototype),Object.assign(fr.prototype,{isFogExp2:!0,clone:function(){return new fr(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(gr.prototype,{isFog:!0,clone:function(){return new gr(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(vr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(vr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(source){return this.array=new source.array.constructor(source.array),this.count=source.count,this.stride=source.stride,this.usage=source.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(xr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(xr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=o,this}}),yr.prototype=Object.create(Qt.prototype),yr.prototype.constructor=yr,yr.prototype.isSpriteMaterial=!0,yr.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.rotation=source.rotation,this.sizeAttenuation=source.sizeAttenuation,this};var wr=new m,Ar=new m,Er=new m,Mr=new o,Tr=new o,_r=new P,Sr=new m,Cr=new m,Lr=new m,Rr=new o,kr=new o,Pr=new o;function Dr(t){if(Z.call(this),this.type="Sprite",void 0===sr){sr=new xe;var e=new vr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);sr.setIndex([0,1,2,0,2,3]),sr.setAttribute("position",new xr(e,3,0,!1)),sr.setAttribute("uv",new xr(e,2,3,!1))}this.geometry=sr,this.material=void 0!==t?t:new yr,this.center=new o(.5,.5)}function Or(t,e,n,r,o,l){Mr.subVectors(t,n).addScalar(.5).multiply(r),void 0!==o?(Tr.x=l*Mr.x-o*Mr.y,Tr.y=o*Mr.x+l*Mr.y):Tr.copy(Mr),t.copy(e),t.x+=Tr.x,t.y+=Tr.y,t.applyMatrix4(_r)}Dr.prototype=Object.assign(Object.create(Z.prototype),{constructor:Dr,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ar.setFromMatrixScale(this.matrixWorld),_r.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Er.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ar.multiplyScalar(-Er.z);var n,r,l=this.material.rotation;0!==l&&(r=Math.cos(l),n=Math.sin(l));var c=this.center;Or(Sr.set(-.5,-.5,0),Er,c,Ar,n,r),Or(Cr.set(.5,-.5,0),Er,c,Ar,n,r),Or(Lr.set(.5,.5,0),Er,c,Ar,n,r),Rr.set(0,0),kr.set(1,0),Pr.set(1,1);var d=t.ray.intersectTriangle(Sr,Cr,Lr,!1,wr);if(null!==d||(Or(Cr.set(-.5,.5,0),Er,c,Ar,n,r),kr.set(0,1),null!==(d=t.ray.intersectTriangle(Sr,Lr,Cr,!1,wr)))){var m=t.ray.origin.distanceTo(wr);m<t.near||m>t.far||e.push({distance:m,point:wr.clone(),uv:Ht.getUV(wr,Sr,Cr,Lr,Rr,kr,Pr,new o),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(source){return Z.prototype.copy.call(this,source),void 0!==source.center&&this.center.copy(source.center),this}});var Ir=new m,Br=new m;function Nr(){Z.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Fr(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Be.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new P,this.bindMatrixInverse=new P}Nr.prototype=Object.assign(Object.create(Z.prototype),{constructor:Nr,isLOD:!0,copy:function(source){Z.prototype.copy.call(this,source,!1);for(var t=source.levels,i=0,e=t.length;i<e;i++){var n=t[i];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=source.autoUpdate,this},addLevel:function(object,t){void 0===t&&(t=0),t=Math.abs(t);for(var e=this.levels,n=0;n<e.length&&!(t<e[n].distance);n++);return e.splice(n,0,{distance:t,object:object}),this.add(object),this},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){for(var i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object}return null},raycast:function(t,e){if(this.levels.length>0){Ir.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(Ir);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){Ir.setFromMatrixPosition(t.matrixWorld),Br.setFromMatrixPosition(this.matrixWorld);var n=Ir.distanceTo(Br);e[0].object.visible=!0;for(var i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(;i<r;i++)e[i].object.visible=!1}},toJSON:function(meta){var data=Z.prototype.toJSON.call(this,meta);!1===this.autoUpdate&&(data.object.autoUpdate=!1),data.object.levels=[];for(var t=this.levels,i=0,e=t.length;i<e;i++){var n=t[i];data.object.levels.push({object:n.object.uuid,distance:n.distance})}return data}}),Fr.prototype=Object.assign(Object.create(Be.prototype),{constructor:Fr,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new A,e=this.geometry.attributes.skinWeight,i=0,n=e.count;i<n;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Be.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var jr=new P,Hr=new P;function Ur(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new P)}}function zr(){Z.call(this),this.type="Bone"}Object.assign(Ur.prototype,{calculateInverses:function(){this.boneInverses=[];for(var i=0,t=this.bones.length;i<t;i++){var e=new P;this.bones[i]&&e.getInverse(this.bones[i].matrixWorld),this.boneInverses.push(e)}},pose:function(){var t,i,e;for(i=0,e=this.bones.length;i<e;i++)(t=this.bones[i])&&t.matrixWorld.getInverse(this.boneInverses[i]);for(i=0,e=this.bones.length;i<e;i++)(t=this.bones[i])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=t.length;i<o;i++){var l=t[i]?t[i].matrixWorld:Hr;jr.multiplyMatrices(l,e[i]),jr.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Ur(this.bones,this.boneInverses)},getBoneByName:function(t){for(var i=0,e=this.bones.length;i<e;i++){var n=this.bones[i];if(n.name===t)return n}}}),zr.prototype=Object.assign(Object.create(Z.prototype),{constructor:zr,isBone:!0});var Vr=new P,Gr=new P,Wr=[],qr=new Be;function Xr(t,e,n){Be.call(this,t,e),this.instanceMatrix=new $t(new Float32Array(16*n),16),this.count=n}function Yr(t){Qt.call(this),this.type="LineBasicMaterial",this.color=new Gt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}Xr.prototype=Object.assign(Object.create(Be.prototype),{constructor:Xr,isInstancedMesh:!0,getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,r=this.count;if(qr.geometry=this.geometry,qr.material=this.material,void 0!==qr.material)for(var o=0;o<r;o++)this.getMatrixAt(o,Vr),Gr.multiplyMatrices(n,Vr),qr.matrixWorld=Gr,qr.raycast(t,Wr),Wr.length>0&&(Wr[0].instanceId=o,Wr[0].object=this,e.push(Wr[0]),Wr.length=0)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),Yr.prototype=Object.create(Qt.prototype),Yr.prototype.constructor=Yr,Yr.prototype.isLineBasicMaterial=!0,Yr.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.linewidth=source.linewidth,this.linecap=source.linecap,this.linejoin=source.linejoin,this};var Kr=new m,Qr=new m,Zr=new P,Jr=new Tt,$r=new vt;function ta(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Z.call(this),this.type="Line",this.geometry=void 0!==t?t:new xe,this.material=void 0!==e?e:new Yr({color:16777215*Math.random()})}ta.prototype=Object.assign(Object.create(Z.prototype),{constructor:ta,isLine:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)Kr.fromBufferAttribute(e,i-1),Qr.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=Kr.distanceTo(Qr);t.setAttribute("lineDistance",new se(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for((n=t.lineDistances)[0]=0,i=1,r=o.length;i<r;i++)n[i]=n[i-1],n[i]+=o[i-1].distanceTo(o[i])}return this},raycast:function(t,e){var n=t.linePrecision,r=this.geometry,o=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),$r.copy(r.boundingSphere),$r.applyMatrix4(o),$r.radius+=n,!1!==t.ray.intersectsSphere($r)){Zr.getInverse(o),Jr.copy(t.ray).applyMatrix4(Zr);var l=n/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=new m,h=new m,f=new m,v=new m,x=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var y=r.index,w=r.attributes.position.array;if(null!==y)for(var A=y.array,i=0,E=A.length-1;i<E;i+=x){var a=A[i],b=A[i+1];d.fromArray(w,3*a),h.fromArray(w,3*b),Jr.distanceSqToSegment(d,h,v,f)>c||(v.applyMatrix4(this.matrixWorld),(_=t.ray.origin.distanceTo(v))<t.near||_>t.far||e.push({distance:_,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this}))}else for(i=0,E=w.length/3-1;i<E;i+=x)d.fromArray(w,3*i),h.fromArray(w,3*i+3),Jr.distanceSqToSegment(d,h,v,f)>c||(v.applyMatrix4(this.matrixWorld),(_=t.ray.origin.distanceTo(v))<t.near||_>t.far||e.push({distance:_,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this}))}else if(r.isGeometry){var M=r.vertices,T=M.length;for(i=0;i<T-1;i+=x){var _;Jr.distanceSqToSegment(M[i],M[i+1],v,f)>c||(v.applyMatrix4(this.matrixWorld),(_=t.ray.origin.distanceTo(v))<t.near||_>t.far||e.push({distance:_,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this}))}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ea=new m,ia=new m;function na(t,e){ta.call(this,t,e),this.type="LineSegments"}function ra(t,e){ta.call(this,t,e),this.type="LineLoop"}function aa(t){Qt.call(this),this.type="PointsMaterial",this.color=new Gt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}na.prototype=Object.assign(Object.create(ta.prototype),{constructor:na,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)ea.fromBufferAttribute(e,i),ia.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+ea.distanceTo(ia);t.setAttribute("lineDistance",new se(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for(n=t.lineDistances,i=0,r=o.length;i<r;i+=2)ea.copy(o[i]),ia.copy(o[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+ea.distanceTo(ia)}return this}}),ra.prototype=Object.assign(Object.create(ta.prototype),{constructor:ra,isLineLoop:!0}),aa.prototype=Object.create(Qt.prototype),aa.prototype.constructor=aa,aa.prototype.isPointsMaterial=!0,aa.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.size=source.size,this.sizeAttenuation=source.sizeAttenuation,this.morphTargets=source.morphTargets,this};var oa=new P,sa=new Tt,pa=new vt,la=new m;function ca(t,e){Z.call(this),this.type="Points",this.geometry=void 0!==t?t:new xe,this.material=void 0!==e?e:new aa({color:16777215*Math.random()}),this.updateMorphTargets()}function da(t,e,n,r,o,l,object){var c=sa.distanceSqToPoint(t);if(c<n){var d=new m;sa.closestPointToPoint(t,d),d.applyMatrix4(r);var h=o.ray.origin.distanceTo(d);if(h<o.near||h>o.far)return;l.push({distance:h,distanceToRay:Math.sqrt(c),point:d,index:e,face:null,object:object})}}function ma(video,t,e,n,r,o,l,c,d){w.call(this,video,t,e,n,r,o,l,c,d),this.format=void 0!==l?l:1022,this.minFilter=void 0!==o?o:1006,this.magFilter=void 0!==r?r:1006,this.generateMipmaps=!1}function ha(t,e,n,r,o,l,c,d,m,h,f,v){w.call(this,null,l,c,d,m,h,r,o,f,v),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function ua(canvas,t,e,n,r,o,l,c,d){w.call(this,canvas,t,e,n,r,o,l,c,d),this.needsUpdate=!0}function fa(t,e,n,r,o,l,c,d,m,h){if(1026!==(h=void 0!==h?h:1026)&&1027!==h)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===h&&(n=1012),void 0===n&&1027===h&&(n=1020),w.call(this,null,r,o,l,c,d,h,n,m),this.image={width:t,height:e},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==d?d:1003,this.flipY=!1,this.generateMipmaps=!1}function ga(t){xe.call(this),this.type="WireframeGeometry";var i,e,n,r,ol,o,l,c,d,h,f=[],v=[0,0],x={},y=["a","b","c"];if(t&&t.isGeometry){var w=t.faces;for(i=0,n=w.length;i<n;i++){var A=w[i];for(e=0;e<3;e++)l=A[y[e]],c=A[y[(e+1)%3]],v[0]=Math.min(l,c),v[1]=Math.max(l,c),void 0===x[d=v[0]+","+v[1]]&&(x[d]={index1:v[0],index2:v[1]})}for(d in x)o=x[d],h=t.vertices[o.index1],f.push(h.x,h.y,h.z),h=t.vertices[o.index2],f.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var E,M,T,_,S,C,L;if(h=new m,null!==t.index){for(E=t.attributes.position,M=t.index,0===(T=t.groups).length&&(T=[{start:0,count:M.count,materialIndex:0}]),r=0,ol=T.length;r<ol;++r)for(i=S=(_=T[r]).start,n=S+_.count;i<n;i+=3)for(e=0;e<3;e++)l=M.getX(i+e),c=M.getX(i+(e+1)%3),v[0]=Math.min(l,c),v[1]=Math.max(l,c),void 0===x[d=v[0]+","+v[1]]&&(x[d]={index1:v[0],index2:v[1]});for(d in x)o=x[d],h.fromBufferAttribute(E,o.index1),f.push(h.x,h.y,h.z),h.fromBufferAttribute(E,o.index2),f.push(h.x,h.y,h.z)}else for(i=0,n=(E=t.attributes.position).count/3;i<n;i++)for(e=0;e<3;e++)C=3*i+e,h.fromBufferAttribute(E,C),f.push(h.x,h.y,h.z),L=3*i+(e+1)%3,h.fromBufferAttribute(E,L),f.push(h.x,h.y,h.z)}this.setAttribute("position",new se(f,3))}function va(t,e,n){Ve.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new xa(t,e,n)),this.mergeVertices()}function xa(t,e,n){xe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,o=[],l=[],c=[],d=[],h=1e-5,f=new m,v=new m,x=new m,y=new m,w=new m;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var A=e+1;for(i=0;i<=n;i++){var E=i/n;for(r=0;r<=e;r++){var u=r/e;t(u,E,v),l.push(v.x,v.y,v.z),u-h>=0?(t(u-h,E,x),y.subVectors(v,x)):(t(u+h,E,x),y.subVectors(x,v)),E-h>=0?(t(u,E-h,x),w.subVectors(v,x)):(t(u,E+h,x),w.subVectors(x,v)),f.crossVectors(y,w).normalize(),c.push(f.x,f.y,f.z),d.push(u,E)}}for(i=0;i<n;i++)for(r=0;r<e;r++){var a=i*A+r,b=i*A+r+1,M=(i+1)*A+r+1,T=(i+1)*A+r;o.push(a,b,T),o.push(b,M,T)}this.setIndex(o),this.setAttribute("position",new se(l,3)),this.setAttribute("normal",new se(c,3)),this.setAttribute("uv",new se(d,2))}function ya(t,e,n,r){Ve.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new ba(t,e,n,r)),this.mergeVertices()}function ba(t,e,n,r){xe.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var l=[],c=[];function d(a,b,t,e){var i,n,r=Math.pow(2,e),o=[];for(i=0;i<=r;i++){o[i]=[];var l=a.clone().lerp(t,i/r),c=b.clone().lerp(t,i/r),d=r-i;for(n=0;n<=d;n++)o[i][n]=0===n&&i===r?l:l.clone().lerp(c,n/d)}for(i=0;i<r;i++)for(n=0;n<2*(r-i)-1;n++){var m=Math.floor(n/2);n%2==0?(h(o[i][m+1]),h(o[i+1][m]),h(o[i][m])):(h(o[i][m+1]),h(o[i+1][m+1]),h(o[i+1][m]))}}function h(t){l.push(t.x,t.y,t.z)}function f(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function v(t,e,n,r){r<0&&1===t.x&&(c[e]=t.x-1),0===n.x&&0===n.z&&(c[e]=r/2/Math.PI+.5)}function x(t){return Math.atan2(t.z,-t.x)}!function(t){for(var a=new m,b=new m,n=new m,i=0;i<e.length;i+=3)f(e[i+0],a),f(e[i+1],b),f(e[i+2],n),d(a,b,n,t)}(r=r||0),function(t){for(var e=new m,i=0;i<l.length;i+=3)e.x=l[i+0],e.y=l[i+1],e.z=l[i+2],e.normalize().multiplyScalar(t),l[i+0]=e.x,l[i+1]=e.y,l[i+2]=e.z}(n),function(){for(var t=new m,i=0;i<l.length;i+=3){t.x=l[i+0],t.y=l[i+1],t.z=l[i+2];var u=x(t)/2/Math.PI+.5,e=(n=t,Math.atan2(-n.y,Math.sqrt(n.x*n.x+n.z*n.z))/Math.PI+.5);c.push(u,1-e)}var n;(function(){for(var a=new m,b=new m,t=new m,e=new m,n=new o,r=new o,d=new o,i=0,h=0;i<l.length;i+=9,h+=6){a.set(l[i+0],l[i+1],l[i+2]),b.set(l[i+3],l[i+4],l[i+5]),t.set(l[i+6],l[i+7],l[i+8]),n.set(c[h+0],c[h+1]),r.set(c[h+2],c[h+3]),d.set(c[h+4],c[h+5]),e.copy(a).add(b).add(t).divideScalar(3);var f=x(e);v(n,h+0,a,f),v(r,h+2,b,f),v(d,h+4,t,f)}})(),function(){for(var i=0;i<c.length;i+=6){var t=c[i+0],e=c[i+2],n=c[i+4],r=Math.max(t,e,n),o=Math.min(t,e,n);r>.9&&o<.1&&(t<.2&&(c[i+0]+=1),e<.2&&(c[i+2]+=1),n<.2&&(c[i+4]+=1))}}()}(),this.setAttribute("position",new se(l,3)),this.setAttribute("normal",new se(l.slice(),3)),this.setAttribute("uv",new se(c,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function wa(t,e){Ve.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Aa(t,e)),this.mergeVertices()}function Aa(t,e){ba.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ea(t,e){Ve.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ma(t,e)),this.mergeVertices()}function Ma(t,e){ba.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ta(t,e){Ve.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new _a(t,e)),this.mergeVertices()}function _a(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];ba.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Sa(t,e){Ve.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ca(t,e)),this.mergeVertices()}function Ca(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];ba.call(this,o,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function La(path,t,e,n,r,o){Ve.call(this),this.type="TubeGeometry",this.parameters={path:path,tubularSegments:t,radius:e,radialSegments:n,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var l=new Ra(path,t,e,n,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals,this.fromBufferGeometry(l),this.mergeVertices()}function Ra(path,t,e,n,r){xe.call(this),this.type="TubeBufferGeometry",this.parameters={path:path,tubularSegments:t,radius:e,radialSegments:n,closed:r},t=t||64,e=e||1,n=n||8,r=r||!1;var l=path.computeFrenetFrames(t,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var i,c,d=new m,h=new m,f=new o,v=new m,x=[],y=[],w=[],A=[];function E(i){v=path.getPointAt(i/t,v);var r=l.normals[i],o=l.binormals[i];for(c=0;c<=n;c++){var m=c/n*Math.PI*2,f=Math.sin(m),w=-Math.cos(m);h.x=w*r.x+f*o.x,h.y=w*r.y+f*o.y,h.z=w*r.z+f*o.z,h.normalize(),y.push(h.x,h.y,h.z),d.x=v.x+e*h.x,d.y=v.y+e*h.y,d.z=v.z+e*h.z,x.push(d.x,d.y,d.z)}}!function(){for(i=0;i<t;i++)E(i);E(!1===r?t:0),function(){for(i=0;i<=t;i++)for(c=0;c<=n;c++)f.x=i/t,f.y=c/n,w.push(f.x,f.y)}(),function(){for(c=1;c<=t;c++)for(i=1;i<=n;i++){var a=(n+1)*(c-1)+(i-1),b=(n+1)*c+(i-1),e=(n+1)*c+i,r=(n+1)*(c-1)+i;A.push(a,b,r),A.push(b,e,r)}}()}(),this.setIndex(A),this.setAttribute("position",new se(x,3)),this.setAttribute("normal",new se(y,3)),this.setAttribute("uv",new se(w,2))}function ka(t,e,n,r,p,q,o){Ve.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:p,q:q},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Pa(t,e,n,r,p,q)),this.mergeVertices()}function Pa(t,e,n,r,p,q){xe.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:p,q:q},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,p=p||2,q=q||3;var i,o,l=[],c=[],d=[],h=[],f=new m,v=new m,x=new m,y=new m,w=new m,A=new m,E=new m;for(i=0;i<=n;++i){var u=i/n*p*Math.PI*2;for(L(u,p,q,t,x),L(u+.01,p,q,t,y),A.subVectors(y,x),E.addVectors(y,x),w.crossVectors(A,E),E.crossVectors(w,A),w.normalize(),E.normalize(),o=0;o<=r;++o){var M=o/r*Math.PI*2,T=-e*Math.cos(M),_=e*Math.sin(M);f.x=x.x+(T*E.x+_*w.x),f.y=x.y+(T*E.y+_*w.y),f.z=x.z+(T*E.z+_*w.z),c.push(f.x,f.y,f.z),v.subVectors(f,x).normalize(),d.push(v.x,v.y,v.z),h.push(i/n),h.push(o/r)}}for(o=1;o<=n;o++)for(i=1;i<=r;i++){var a=(r+1)*(o-1)+(i-1),b=(r+1)*o+(i-1),S=(r+1)*o+i,C=(r+1)*(o-1)+i;l.push(a,b,C),l.push(b,S,C)}function L(u,p,q,t,e){var n=Math.cos(u),r=Math.sin(u),o=q/p*u,l=Math.cos(o);e.x=t*(2+l)*.5*n,e.y=t*(2+l)*r*.5,e.z=t*Math.sin(o)*.5}this.setIndex(l),this.setAttribute("position",new se(c,3)),this.setAttribute("normal",new se(d,3)),this.setAttribute("uv",new se(h,2))}function Da(t,e,n,r,o){Ve.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:o},this.fromBufferGeometry(new Oa(t,e,n,r,o)),this.mergeVertices()}function Oa(t,e,n,r,o){xe.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:o},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,o=o||2*Math.PI;var l,i,c=[],d=[],h=[],f=[],v=new m,x=new m,y=new m;for(l=0;l<=n;l++)for(i=0;i<=r;i++){var u=i/r*o,w=l/n*Math.PI*2;x.x=(t+e*Math.cos(w))*Math.cos(u),x.y=(t+e*Math.cos(w))*Math.sin(u),x.z=e*Math.sin(w),d.push(x.x,x.y,x.z),v.x=t*Math.cos(u),v.y=t*Math.sin(u),y.subVectors(x,v).normalize(),h.push(y.x,y.y,y.z),f.push(i/r),f.push(l/n)}for(l=1;l<=n;l++)for(i=1;i<=r;i++){var a=(r+1)*l+i-1,b=(r+1)*(l-1)+i-1,A=(r+1)*(l-1)+i,E=(r+1)*l+i;c.push(a,b,E),c.push(b,A,E)}this.setIndex(c),this.setAttribute("position",new se(d,3)),this.setAttribute("normal",new se(h,3)),this.setAttribute("uv",new se(f,2))}ca.prototype=Object.assign(Object.create(Z.prototype),{constructor:ca,isPoints:!0,raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,o=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),pa.copy(n.boundingSphere),pa.applyMatrix4(r),pa.radius+=o,!1!==t.ray.intersectsSphere(pa)){oa.getInverse(r),sa.copy(t.ray).applyMatrix4(oa);var l=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l;if(n.isBufferGeometry){var d=n.index,m=n.attributes.position.array;if(null!==d)for(var h=d.array,i=0,f=h.length;i<f;i++){var a=h[i];la.fromArray(m,3*a),da(la,a,c,r,t,e,this)}else{i=0;for(var v=m.length/3;i<v;i++)la.fromArray(m,3*i),da(la,i,c,r,t,e,this)}}else{var x=n.vertices;for(i=0,v=x.length;i<v;i++)da(x[i],i,c,r,t,e,this)}}},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var o=r.morphAttributes,l=Object.keys(o);if(l.length>0){var c=o[l[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=c.length;t<e;t++)n=c[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var d=r.morphTargets;void 0!==d&&d.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ma.prototype=Object.assign(Object.create(w.prototype),{constructor:ma,isVideoTexture:!0,update:function(){var video=this.image;video.readyState>=video.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ha.prototype=Object.create(w.prototype),ha.prototype.constructor=ha,ha.prototype.isCompressedTexture=!0,ua.prototype=Object.create(w.prototype),ua.prototype.constructor=ua,ua.prototype.isCanvasTexture=!0,fa.prototype=Object.create(w.prototype),fa.prototype.constructor=fa,fa.prototype.isDepthTexture=!0,ga.prototype=Object.create(xe.prototype),ga.prototype.constructor=ga,va.prototype=Object.create(Ve.prototype),va.prototype.constructor=va,xa.prototype=Object.create(xe.prototype),xa.prototype.constructor=xa,ya.prototype=Object.create(Ve.prototype),ya.prototype.constructor=ya,ba.prototype=Object.create(xe.prototype),ba.prototype.constructor=ba,wa.prototype=Object.create(Ve.prototype),wa.prototype.constructor=wa,Aa.prototype=Object.create(ba.prototype),Aa.prototype.constructor=Aa,Ea.prototype=Object.create(Ve.prototype),Ea.prototype.constructor=Ea,Ma.prototype=Object.create(ba.prototype),Ma.prototype.constructor=Ma,Ta.prototype=Object.create(Ve.prototype),Ta.prototype.constructor=Ta,_a.prototype=Object.create(ba.prototype),_a.prototype.constructor=_a,Sa.prototype=Object.create(Ve.prototype),Sa.prototype.constructor=Sa,Ca.prototype=Object.create(ba.prototype),Ca.prototype.constructor=Ca,La.prototype=Object.create(Ve.prototype),La.prototype.constructor=La,Ra.prototype=Object.create(xe.prototype),Ra.prototype.constructor=Ra,Ra.prototype.toJSON=function(){var data=xe.prototype.toJSON.call(this);return data.path=this.parameters.path.toJSON(),data},ka.prototype=Object.create(Ve.prototype),ka.prototype.constructor=ka,Pa.prototype=Object.create(xe.prototype),Pa.prototype.constructor=Pa,Da.prototype=Object.create(Ve.prototype),Da.prototype.constructor=Da,Oa.prototype=Object.create(xe.prototype),Oa.prototype.constructor=Oa;var Ia=function(data,t,e){e=e||2;var n,r,o,l,c,d,m,h=t&&t.length,f=h?t[0]*e:data.length,v=Ba(data,0,f,e,!0),x=[];if(!v||v.next===v.prev)return x;if(h&&(v=function(data,t,e,n){var i,r,o,l,c,d=[];for(i=0,r=t.length;i<r;i++)o=t[i]*n,l=i<r-1?t[i+1]*n:data.length,(c=Ba(data,o,l,n,!1))===c.next&&(c.steiner=!0),d.push(qa(c));for(d.sort(Va),i=0;i<d.length;i++)Ga(d[i],e),e=Na(e,e.next);return e}(data,t,v,e)),data.length>80*e){n=o=data[0],r=l=data[1];for(var i=e;i<f;i+=e)(c=data[i])<n&&(n=c),(d=data[i+1])<r&&(r=d),c>o&&(o=c),d>l&&(l=d);m=0!==(m=Math.max(o-n,l-r))?1/m:0}return Fa(v,x,e,n,r,m),x};function Ba(data,t,e,n,r){var i,o;if(r===function(data,t,e,n){for(var r=0,i=t,o=e-n;i<e;i+=n)r+=(data[o]-data[i])*(data[i+1]+data[o+1]),o=i;return r}(data,t,e,n)>0)for(i=t;i<e;i+=n)o=$a(i,data[i],data[i+1],o);else for(i=e-n;i>=t;i-=n)o=$a(i,data[i],data[i+1],o);return o&&Ka(o,o.next)&&(to(o),o=o.next),o}function Na(t,e){if(!t)return t;e||(e=t);var n,p=t;do{if(n=!1,p.steiner||!Ka(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(to(p),(p=e=p.prev)===p.next)break;n=!0}}while(n||p!==e);return e}function Fa(t,e,n,r,o,l,c){if(t){!c&&l&&function(t,e,n,r){var p=t;do{null===p.z&&(p.z=Wa(p.x,p.y,e,n,r)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==t);p.prevZ.nextZ=null,p.prevZ=null,function(t){var i,p,q,e,n,r,o,l,c=1;do{for(p=t,t=null,n=null,r=0;p;){for(r++,q=p,o=0,i=0;i<c&&(o++,q=q.nextZ);i++);for(l=c;o>0||l>0&&q;)0!==o&&(0===l||!q||p.z<=q.z)?(e=p,p=p.nextZ,o--):(e=q,q=q.nextZ,l--),n?n.nextZ=e:t=e,e.prevZ=n,n=e;p=q}n.nextZ=null,c*=2}while(r>1)}(p)}(t,r,o,l);for(var d,m,h=t;t.prev!==t.next;)if(d=t.prev,m=t.next,l?Ha(t,r,o,l):ja(t))e.push(d.i/n),e.push(t.i/n),e.push(m.i/n),to(t),t=m.next,h=m.next;else if((t=m)===h){c?1===c?Fa(t=Ua(t,e,n),e,n,r,o,l,2):2===c&&za(t,e,n,r,o,l):Fa(Na(t),e,n,r,o,l,1);break}}}function ja(t){var a=t.prev,b=t,e=t.next;if(area(a,b,e)>=0)return!1;for(var p=t.next.next;p!==t.prev;){if(Xa(a.x,a.y,b.x,b.y,e.x,e.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ha(t,e,n,r){var a=t.prev,b=t,o=t.next;if(area(a,b,o)>=0)return!1;for(var l=a.x<b.x?a.x<o.x?a.x:o.x:b.x<o.x?b.x:o.x,c=a.y<b.y?a.y<o.y?a.y:o.y:b.y<o.y?b.y:o.y,d=a.x>b.x?a.x>o.x?a.x:o.x:b.x>o.x?b.x:o.x,m=a.y>b.y?a.y>o.y?a.y:o.y:b.y>o.y?b.y:o.y,h=Wa(l,c,e,n,r),f=Wa(d,m,e,n,r),p=t.prevZ,v=t.nextZ;p&&p.z>=h&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&Xa(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&Xa(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&Xa(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&Xa(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function Ua(t,e,n){var p=t;do{var a=p.prev,b=p.next.next;!Ka(a,b)&&Qa(a,p,p.next,b)&&Za(a,b)&&Za(b,a)&&(e.push(a.i/n),e.push(p.i/n),e.push(b.i/n),to(p),to(p.next),p=t=b),p=p.next}while(p!==t);return p}function za(t,e,n,r,o,l){var a=t;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&Ya(a,b)){var c=Ja(a,b);return a=Na(a,a.next),c=Na(c,c.next),Fa(a,e,n,r,o,l),void Fa(c,e,n,r,o,l)}b=b.next}a=a.next}while(a!==t)}function Va(a,b){return a.x-b.x}function Ga(t,e){if(e=function(t,e){var n,p=e,r=t.x,o=t.y,l=-1/0;do{if(o<=p.y&&o>=p.next.y&&p.next.y!==p.y){var c=p.x+(o-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(c<=r&&c>l){if(l=c,c===r){if(o===p.y)return p;if(o===p.next.y)return p.next}n=p.x<p.next.x?p:p.next}}p=p.next}while(p!==e);if(!n)return null;if(r===l)return n.prev;var d,m=n,h=n.x,f=n.y,v=1/0;for(p=n.next;p!==m;)r>=p.x&&p.x>=h&&r!==p.x&&Xa(o<f?r:l,o,h,f,o<f?l:r,o,p.x,p.y)&&((d=Math.abs(o-p.y)/(r-p.x))<v||d===v&&p.x>n.x)&&Za(p,t)&&(n=p,v=d),p=p.next;return n}(t,e)){var b=Ja(e,t);Na(b,b.next)}}function Wa(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function qa(t){var p=t,e=t;do{(p.x<e.x||p.x===e.x&&p.y<e.y)&&(e=p),p=p.next}while(p!==t);return e}function Xa(t,e,n,r,o,l,c,d){return(o-c)*(e-d)-(t-c)*(l-d)>=0&&(t-c)*(r-d)-(n-c)*(e-d)>=0&&(n-c)*(l-d)-(o-c)*(r-d)>=0}function Ya(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&Qa(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&Za(a,b)&&Za(b,a)&&function(a,b){var p=a,t=!1,e=(a.x+b.x)/2,n=(a.y+b.y)/2;do{p.y>n!=p.next.y>n&&p.next.y!==p.y&&e<(p.next.x-p.x)*(n-p.y)/(p.next.y-p.y)+p.x&&(t=!t),p=p.next}while(p!==a);return t}(a,b)}function area(p,q,t){return(q.y-p.y)*(t.x-q.x)-(q.x-p.x)*(t.y-q.y)}function Ka(t,e){return t.x===e.x&&t.y===e.y}function Qa(t,e,n,r){return!!(Ka(t,n)&&Ka(e,r)||Ka(t,r)&&Ka(n,e))||area(t,e,n)>0!=area(t,e,r)>0&&area(n,r,t)>0!=area(n,r,e)>0}function Za(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function Ja(a,b){var t=new eo(a.i,a.x,a.y),e=new eo(b.i,b.x,b.y),n=a.next,r=b.prev;return a.next=b,b.prev=a,t.next=n,n.prev=t,e.next=t,t.prev=e,r.next=e,e.prev=r,e}function $a(i,t,e,n){var p=new eo(i,t,e);return n?(p.next=n.next,p.prev=n,n.next.prev=p,n.next=p):(p.prev=p,p.next=p),p}function to(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function eo(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var io={area:function(t){for(var e=t.length,a=0,p=e-1,q=0;q<e;p=q++)a+=t[p].x*t[q].y-t[q].x*t[p].y;return.5*a},isClockWise:function(t){return io.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],o=[];no(t),ro(n,t);var l=t.length;e.forEach(no);for(var i=0;i<e.length;i++)r.push(l),l+=e[i].length,ro(n,e[i]);var c=Ia(n,r);for(i=0;i<c.length;i+=3)o.push(c.slice(i,i+3));return o}};function no(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ro(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function ao(t,e){Ve.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new oo(t,e)),this.mergeVertices()}function oo(t,e){xe.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,r=[],l=[],i=0,c=t.length;i<c;i++)d(t[i]);function d(t){var c=[],d=void 0!==e.curveSegments?e.curveSegments:12,h=void 0!==e.steps?e.steps:1,f=void 0!==e.depth?e.depth:100,v=void 0===e.bevelEnabled||e.bevelEnabled,x=void 0!==e.bevelThickness?e.bevelThickness:6,y=void 0!==e.bevelSize?e.bevelSize:x-2,w=void 0!==e.bevelOffset?e.bevelOffset:0,A=void 0!==e.bevelSegments?e.bevelSegments:3,E=e.extrudePath,M=void 0!==e.UVGenerator?e.UVGenerator:so;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),f=e.amount);var T,_,S,C,L,R,k,P,D=!1;E&&(T=E.getSpacedPoints(h),D=!0,v=!1,_=E.computeFrenetFrames(h,!1),S=new m,C=new m,L=new m),v||(A=0,x=0,y=0,w=0);var O=t.extractPoints(d),I=O.shape,B=O.holes;if(!io.isClockWise(I))for(I=I.reverse(),k=0,P=B.length;k<P;k++)R=B[k],io.isClockWise(R)&&(B[k]=R.reverse());var N=io.triangulateShape(I,B),F=I;for(k=0,P=B.length;k<P;k++)R=B[k],I=I.concat(R);function j(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var b,H,U,z,V,G,W=I.length,X=N.length;function Y(t,e,n){var r,l,c,d=t.x-e.x,m=t.y-e.y,h=n.x-t.x,f=n.y-t.y,v=d*d+m*m,x=d*f-m*h;if(Math.abs(x)>Number.EPSILON){var y=Math.sqrt(v),w=Math.sqrt(h*h+f*f),A=e.x-m/y,E=e.y+d/y,M=((n.x-f/w-A)*f-(n.y+h/w-E)*h)/(d*f-m*h),T=(r=A+d*M-t.x)*r+(l=E+m*M-t.y)*l;if(T<=2)return new o(r,l);c=Math.sqrt(T/2)}else{var _=!1;d>Number.EPSILON?h>Number.EPSILON&&(_=!0):d<-Number.EPSILON?h<-Number.EPSILON&&(_=!0):Math.sign(m)===Math.sign(f)&&(_=!0),_?(r=-m,l=d,c=Math.sqrt(v)):(r=d,l=m,c=Math.sqrt(v/2))}return new o(r/c,l/c)}for(var K=[],i=0,Q=F.length,Z=Q-1,J=i+1;i<Q;i++,Z++,J++)Z===Q&&(Z=0),J===Q&&(J=0),K[i]=Y(F[i],F[Z],F[J]);var $,s,tt=[],et=K.concat();for(k=0,P=B.length;k<P;k++){for(R=B[k],$=[],i=0,Z=(Q=R.length)-1,J=i+1;i<Q;i++,Z++,J++)Z===Q&&(Z=0),J===Q&&(J=0),$[i]=Y(R[i],R[Z],R[J]);tt.push($),et=et.concat($)}for(b=0;b<A;b++){for(U=b/A,z=x*Math.cos(U*Math.PI/2),H=y*Math.sin(U*Math.PI/2)+w,i=0,Q=F.length;i<Q;i++)nt((V=j(F[i],K[i],H)).x,V.y,-z);for(k=0,P=B.length;k<P;k++)for(R=B[k],$=tt[k],i=0,Q=R.length;i<Q;i++)nt((V=j(R[i],$[i],H)).x,V.y,-z)}for(H=y+w,i=0;i<W;i++)V=v?j(I[i],et[i],H):I[i],D?(C.copy(_.normals[0]).multiplyScalar(V.x),S.copy(_.binormals[0]).multiplyScalar(V.y),L.copy(T[0]).add(C).add(S),nt(L.x,L.y,L.z)):nt(V.x,V.y,0);for(s=1;s<=h;s++)for(i=0;i<W;i++)V=v?j(I[i],et[i],H):I[i],D?(C.copy(_.normals[s]).multiplyScalar(V.x),S.copy(_.binormals[s]).multiplyScalar(V.y),L.copy(T[s]).add(C).add(S),nt(L.x,L.y,L.z)):nt(V.x,V.y,f/h*s);for(b=A-1;b>=0;b--){for(U=b/A,z=x*Math.cos(U*Math.PI/2),H=y*Math.sin(U*Math.PI/2)+w,i=0,Q=F.length;i<Q;i++)nt((V=j(F[i],K[i],H)).x,V.y,f+z);for(k=0,P=B.length;k<P;k++)for(R=B[k],$=tt[k],i=0,Q=R.length;i<Q;i++)V=j(R[i],$[i],H),D?nt(V.x,V.y+T[h-1].y,T[h-1].x+z):nt(V.x,V.y,f+z)}function it(t,e){var n,r;for(i=t.length;--i>=0;){n=i,(r=i-1)<0&&(r=t.length-1);var s=0,o=h+2*A;for(s=0;s<o;s++){var l=W*s,c=W*(s+1);ot(e+n+l,e+r+l,e+r+c,e+n+c)}}}function nt(t,e,n){c.push(t),c.push(e),c.push(n)}function at(a,b,t){st(a),st(b),st(t);var e=r.length/3,o=M.generateTopUV(n,r,e-3,e-2,e-1);pt(o[0]),pt(o[1]),pt(o[2])}function ot(a,b,t,e){st(a),st(b),st(e),st(b),st(t),st(e);var o=r.length/3,l=M.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);pt(l[0]),pt(l[1]),pt(l[3]),pt(l[1]),pt(l[2]),pt(l[3])}function st(t){r.push(c[3*t+0]),r.push(c[3*t+1]),r.push(c[3*t+2])}function pt(t){l.push(t.x),l.push(t.y)}!function(){var t=r.length/3;if(v){var e=0,o=W*e;for(i=0;i<X;i++)at((G=N[i])[2]+o,G[1]+o,G[0]+o);for(o=W*(e=h+2*A),i=0;i<X;i++)at((G=N[i])[0]+o,G[1]+o,G[2]+o)}else{for(i=0;i<X;i++)at((G=N[i])[2],G[1],G[0]);for(i=0;i<X;i++)at((G=N[i])[0]+W*h,G[1]+W*h,G[2]+W*h)}n.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(it(F,e),e+=F.length,k=0,P=B.length;k<P;k++)it(R=B[k],e),e+=R.length;n.addGroup(t,r.length/3-t,1)}()}this.setAttribute("position",new se(r,3)),this.setAttribute("uv",new se(l,2)),this.computeVertexNormals()}ao.prototype=Object.create(Ve.prototype),ao.prototype.constructor=ao,ao.prototype.toJSON=function(){var data=Ve.prototype.toJSON.call(this);return po(this.parameters.shapes,this.parameters.options,data)},oo.prototype=Object.create(xe.prototype),oo.prototype.constructor=oo,oo.prototype.toJSON=function(){var data=xe.prototype.toJSON.call(this);return po(this.parameters.shapes,this.parameters.options,data)};var so={generateTopUV:function(t,e,n,r,l){var c=e[3*n],d=e[3*n+1],m=e[3*r],h=e[3*r+1],f=e[3*l],v=e[3*l+1];return[new o(c,d),new o(m,h),new o(f,v)]},generateSideWallUV:function(t,e,n,r,l,c){var d=e[3*n],m=e[3*n+1],h=e[3*n+2],f=e[3*r],v=e[3*r+1],x=e[3*r+2],y=e[3*l],w=e[3*l+1],A=e[3*l+2],E=e[3*c],M=e[3*c+1],T=e[3*c+2];return Math.abs(m-v)<.01?[new o(d,1-h),new o(f,1-x),new o(y,1-A),new o(E,1-T)]:[new o(m,1-h),new o(v,1-x),new o(w,1-A),new o(M,1-T)]}};function po(t,e,data){if(data.shapes=[],Array.isArray(t))for(var i=0,n=t.length;i<n;i++){var r=t[i];data.shapes.push(r.uuid)}else data.shapes.push(t.uuid);return void 0!==e.extrudePath&&(data.options.extrudePath=e.extrudePath.toJSON()),data}function lo(text,t){Ve.call(this),this.type="TextGeometry",this.parameters={text:text,parameters:t},this.fromBufferGeometry(new co(text,t)),this.mergeVertices()}function co(text,t){var e=(t=t||{}).font;if(!e||!e.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ve;var n=e.generateShapes(text,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),oo.call(this,n,t),this.type="TextBufferGeometry"}function mo(t,e,n,r,o,l,c){Ve.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:c},this.fromBufferGeometry(new ho(t,e,n,r,o,l,c)),this.mergeVertices()}function ho(t,e,n,r,o,l,c){xe.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:c},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,l=void 0!==l?l:0,c=void 0!==c?c:Math.PI;var d,h,f=Math.min(l+c,Math.PI),v=0,x=[],y=new m,w=new m,A=[],E=[],M=[],T=[];for(h=0;h<=n;h++){var _=[],S=h/n,C=0;for(0==h&&0==l?C=.5/e:h==n&&f==Math.PI&&(C=-.5/e),d=0;d<=e;d++){var u=d/e;y.x=-t*Math.cos(r+u*o)*Math.sin(l+S*c),y.y=t*Math.cos(l+S*c),y.z=t*Math.sin(r+u*o)*Math.sin(l+S*c),E.push(y.x,y.y,y.z),w.copy(y).normalize(),M.push(w.x,w.y,w.z),T.push(u+C,1-S),_.push(v++)}x.push(_)}for(h=0;h<n;h++)for(d=0;d<e;d++){var a=x[h][d+1],b=x[h][d],L=x[h+1][d],R=x[h+1][d+1];(0!==h||l>0)&&A.push(a,b,R),(h!==n-1||f<Math.PI)&&A.push(b,L,R)}this.setIndex(A),this.setAttribute("position",new se(E,3)),this.setAttribute("normal",new se(M,3)),this.setAttribute("uv",new se(T,2))}function uo(t,e,n,r,o,l){Ve.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:l},this.fromBufferGeometry(new fo(t,e,n,r,o,l)),this.mergeVertices()}function fo(t,e,n,r,l,c){xe.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:l,thetaLength:c},t=t||.5,e=e||1,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var d,h,i,f=[],v=[],x=[],y=[],w=t,A=(e-t)/(r=void 0!==r?Math.max(1,r):1),E=new m,M=new o;for(h=0;h<=r;h++){for(i=0;i<=n;i++)d=l+i/n*c,E.x=w*Math.cos(d),E.y=w*Math.sin(d),v.push(E.x,E.y,E.z),x.push(0,0,1),M.x=(E.x/e+1)/2,M.y=(E.y/e+1)/2,y.push(M.x,M.y);w+=A}for(h=0;h<r;h++){var T=h*(n+1);for(i=0;i<n;i++){var a=d=i+T,b=d+n+1,_=d+n+2,S=d+1;f.push(a,b,S),f.push(b,_,S)}}this.setIndex(f),this.setAttribute("position",new se(v,3)),this.setAttribute("normal",new se(x,3)),this.setAttribute("uv",new se(y,2))}function go(t,e,n,r){Ve.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new vo(t,e,n,r)),this.mergeVertices()}function vo(t,e,n,l){xe.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:l},e=Math.floor(e)||12,n=n||0,l=l||2*Math.PI,l=r.clamp(l,0,2*Math.PI);var base,i,c,d=[],h=[],f=[],v=1/e,x=new m,y=new o;for(i=0;i<=e;i++){var w=n+i*v*l,A=Math.sin(w),E=Math.cos(w);for(c=0;c<=t.length-1;c++)x.x=t[c].x*A,x.y=t[c].y,x.z=t[c].x*E,h.push(x.x,x.y,x.z),y.x=i/e,y.y=c/(t.length-1),f.push(y.x,y.y)}for(i=0;i<e;i++)for(c=0;c<t.length-1;c++){var a=base=c+i*t.length,b=base+t.length,M=base+t.length+1,T=base+1;d.push(a,b,T),d.push(b,M,T)}if(this.setIndex(d),this.setAttribute("position",new se(h,3)),this.setAttribute("uv",new se(f,2)),this.computeVertexNormals(),l===2*Math.PI){var _=this.attributes.normal.array,S=new m,C=new m,L=new m;for(base=e*t.length*3,i=0,c=0;i<t.length;i++,c+=3)S.x=_[c+0],S.y=_[c+1],S.z=_[c+2],C.x=_[base+c+0],C.y=_[base+c+1],C.z=_[base+c+2],L.addVectors(S,C).normalize(),_[c+0]=_[base+c+0]=L.x,_[c+1]=_[base+c+1]=L.y,_[c+2]=_[base+c+2]=L.z}}function xo(t,e){Ve.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new yo(t,e)),this.mergeVertices()}function yo(t,e){xe.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],r=[],o=[],l=[],c=0,d=0;if(!1===Array.isArray(t))m(t);else for(var i=0;i<t.length;i++)m(t[i]),this.addGroup(c,d,i),c+=d,d=0;function m(t){var i,c,m,h=r.length/3,f=t.extractPoints(e),v=f.shape,x=f.holes;for(!1===io.isClockWise(v)&&(v=v.reverse()),i=0,c=x.length;i<c;i++)m=x[i],!0===io.isClockWise(m)&&(x[i]=m.reverse());var y=io.triangulateShape(v,x);for(i=0,c=x.length;i<c;i++)m=x[i],v=v.concat(m);for(i=0,c=v.length;i<c;i++){var w=v[i];r.push(w.x,w.y,0),o.push(0,0,1),l.push(w.x,w.y)}for(i=0,c=y.length;i<c;i++){var A=y[i],a=A[0]+h,b=A[1]+h,E=A[2]+h;n.push(a,b,E),d+=3}}this.setIndex(n),this.setAttribute("position",new se(r,3)),this.setAttribute("normal",new se(o,3)),this.setAttribute("uv",new se(l,2))}function bo(t,data){if(data.shapes=[],Array.isArray(t))for(var i=0,e=t.length;i<e;i++){var n=t[i];data.shapes.push(n.uuid)}else data.shapes.push(t.uuid);return data}function wo(t,e){xe.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,o,l,c,d=[],m=Math.cos(r.DEG2RAD*e),h=[0,0],f={},v=["a","b","c"];t.isBufferGeometry?(c=new Ve).fromBufferGeometry(t):c=t.clone(),c.mergeVertices(),c.computeFaceNormals();for(var x=c.vertices,y=c.faces,i=0,w=y.length;i<w;i++)for(var A=y[i],E=0;E<3;E++)n=A[v[E]],o=A[v[(E+1)%3]],h[0]=Math.min(n,o),h[1]=Math.max(n,o),void 0===f[l=h[0]+","+h[1]]?f[l]={index1:h[0],index2:h[1],face1:i,face2:void 0}:f[l].face2=i;for(l in f){var M=f[l];if(void 0===M.face2||y[M.face1].normal.dot(y[M.face2].normal)<=m){var T=x[M.index1];d.push(T.x,T.y,T.z),T=x[M.index2],d.push(T.x,T.y,T.z)}}this.setAttribute("position",new se(d,3))}function Ao(t,e,n,r,o,l,c,d){Ve.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:d},this.fromBufferGeometry(new Eo(t,e,n,r,o,l,c,d)),this.mergeVertices()}function Eo(t,e,n,r,l,c,d,h){xe.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:l,openEnded:c,thetaStart:d,thetaLength:h};var f=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,r=Math.floor(r)||8,l=Math.floor(l)||1,c=void 0!==c&&c,d=void 0!==d?d:0,h=void 0!==h?h:2*Math.PI;var v=[],x=[],y=[],w=[],A=0,E=[],M=n/2,T=0;function _(n){var l,c,E,_=new o,S=new m,C=0,L=!0===n?t:e,R=!0===n?1:-1;for(c=A,l=1;l<=r;l++)x.push(0,M*R,0),y.push(0,R,0),w.push(.5,.5),A++;for(E=A,l=0;l<=r;l++){var k=l/r*h+d,P=Math.cos(k),D=Math.sin(k);S.x=L*D,S.y=M*R,S.z=L*P,x.push(S.x,S.y,S.z),y.push(0,R,0),_.x=.5*P+.5,_.y=.5*D*R+.5,w.push(_.x,_.y),A++}for(l=0;l<r;l++){var O=c+l,i=E+l;!0===n?v.push(i,i+1,O):v.push(i+1,i,O),C+=3}f.addGroup(T,C,!0===n?1:2),T+=C}!function(){var o,c,_=new m,S=new m,C=0,L=(e-t)/n;for(c=0;c<=l;c++){var R=[],k=c/l,P=k*(e-t)+t;for(o=0;o<=r;o++){var u=o/r,D=u*h+d,O=Math.sin(D),I=Math.cos(D);S.x=P*O,S.y=-k*n+M,S.z=P*I,x.push(S.x,S.y,S.z),_.set(O,L,I).normalize(),y.push(_.x,_.y,_.z),w.push(u,1-k),R.push(A++)}E.push(R)}for(o=0;o<r;o++)for(c=0;c<l;c++){var a=E[c][o],b=E[c+1][o],B=E[c+1][o+1],N=E[c][o+1];v.push(a,b,N),v.push(b,B,N),C+=6}f.addGroup(T,C,0),T+=C}(),!1===c&&(t>0&&_(!0),e>0&&_(!1)),this.setIndex(v),this.setAttribute("position",new se(x,3)),this.setAttribute("normal",new se(y,3)),this.setAttribute("uv",new se(w,2))}function Mo(t,e,n,r,o,l,c){Ao.call(this,0,t,e,n,r,o,l,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:c}}function To(t,e,n,r,o,l,c){Eo.call(this,0,t,e,n,r,o,l,c),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:c}}function _o(t,e,n,r){Ve.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new So(t,e,n,r)),this.mergeVertices()}function So(t,e,n,r){xe.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,s,l=[],c=[],d=[],h=[],f=new m,v=new o;for(c.push(0,0,0),d.push(0,0,1),h.push(.5,.5),s=0,i=3;s<=e;s++,i+=3){var x=n+s/e*r;f.x=t*Math.cos(x),f.y=t*Math.sin(x),c.push(f.x,f.y,f.z),d.push(0,0,1),v.x=(c[i]/t+1)/2,v.y=(c[i+1]/t+1)/2,h.push(v.x,v.y)}for(i=1;i<=e;i++)l.push(i,i+1,0);this.setIndex(l),this.setAttribute("position",new se(c,3)),this.setAttribute("normal",new se(d,3)),this.setAttribute("uv",new se(h,2))}lo.prototype=Object.create(Ve.prototype),lo.prototype.constructor=lo,co.prototype=Object.create(oo.prototype),co.prototype.constructor=co,mo.prototype=Object.create(Ve.prototype),mo.prototype.constructor=mo,ho.prototype=Object.create(xe.prototype),ho.prototype.constructor=ho,uo.prototype=Object.create(Ve.prototype),uo.prototype.constructor=uo,fo.prototype=Object.create(xe.prototype),fo.prototype.constructor=fo,go.prototype=Object.create(Ve.prototype),go.prototype.constructor=go,vo.prototype=Object.create(xe.prototype),vo.prototype.constructor=vo,xo.prototype=Object.create(Ve.prototype),xo.prototype.constructor=xo,xo.prototype.toJSON=function(){var data=Ve.prototype.toJSON.call(this);return bo(this.parameters.shapes,data)},yo.prototype=Object.create(xe.prototype),yo.prototype.constructor=yo,yo.prototype.toJSON=function(){var data=xe.prototype.toJSON.call(this);return bo(this.parameters.shapes,data)},wo.prototype=Object.create(xe.prototype),wo.prototype.constructor=wo,Ao.prototype=Object.create(Ve.prototype),Ao.prototype.constructor=Ao,Eo.prototype=Object.create(xe.prototype),Eo.prototype.constructor=Eo,Mo.prototype=Object.create(Ao.prototype),Mo.prototype.constructor=Mo,To.prototype=Object.create(Eo.prototype),To.prototype.constructor=To,_o.prototype=Object.create(Ve.prototype),_o.prototype.constructor=_o,So.prototype=Object.create(xe.prototype),So.prototype.constructor=So;var Co=Object.freeze({WireframeGeometry:ga,ParametricGeometry:va,ParametricBufferGeometry:xa,TetrahedronGeometry:wa,TetrahedronBufferGeometry:Aa,OctahedronGeometry:Ea,OctahedronBufferGeometry:Ma,IcosahedronGeometry:Ta,IcosahedronBufferGeometry:_a,DodecahedronGeometry:Sa,DodecahedronBufferGeometry:Ca,PolyhedronGeometry:ya,PolyhedronBufferGeometry:ba,TubeGeometry:La,TubeBufferGeometry:Ra,TorusKnotGeometry:ka,TorusKnotBufferGeometry:Pa,TorusGeometry:Da,TorusBufferGeometry:Oa,TextGeometry:lo,TextBufferGeometry:co,SphereGeometry:mo,SphereBufferGeometry:ho,RingGeometry:uo,RingBufferGeometry:fo,PlaneGeometry:ci,PlaneBufferGeometry:di,LatheGeometry:go,LatheBufferGeometry:vo,ShapeGeometry:xo,ShapeBufferGeometry:yo,ExtrudeGeometry:ao,ExtrudeBufferGeometry:oo,EdgesGeometry:wo,ConeGeometry:Mo,ConeBufferGeometry:To,CylinderGeometry:Ao,CylinderBufferGeometry:Eo,CircleGeometry:_o,CircleBufferGeometry:So,BoxGeometry:Ge,BoxBufferGeometry:We});function Lo(t){Qt.call(this),this.type="ShadowMaterial",this.color=new Gt(0),this.transparent=!0,this.setValues(t)}function Ro(t){Ke.call(this,t),this.type="RawShaderMaterial"}function ko(t){Qt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Gt(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Po(t){ko.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new o(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(t)}function Do(t){Qt.call(this),this.type="MeshPhongMaterial",this.color=new Gt(16777215),this.specular=new Gt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oo(t){Qt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Gt(16777215),this.specular=new Gt(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Io(t){Qt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Bo(t){Qt.call(this),this.type="MeshLambertMaterial",this.color=new Gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function No(t){Qt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Gt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Fo(t){Yr.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Lo.prototype=Object.create(Qt.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isShadowMaterial=!0,Lo.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this},Ro.prototype=Object.create(Ke.prototype),Ro.prototype.constructor=Ro,Ro.prototype.isRawShaderMaterial=!0,ko.prototype=Object.create(Qt.prototype),ko.prototype.constructor=ko,ko.prototype.isMeshStandardMaterial=!0,ko.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.defines={STANDARD:""},this.color.copy(source.color),this.roughness=source.roughness,this.metalness=source.metalness,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.roughnessMap=source.roughnessMap,this.metalnessMap=source.metalnessMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.envMapIntensity=source.envMapIntensity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Po.prototype=Object.create(ko.prototype),Po.prototype.constructor=Po,Po.prototype.isMeshPhysicalMaterial=!0,Po.prototype.copy=function(source){return ko.prototype.copy.call(this,source),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=source.reflectivity,this.clearcoat=source.clearcoat,this.clearcoatRoughness=source.clearcoatRoughness,source.sheen?this.sheen=(this.sheen||new Gt).copy(source.sheen):this.sheen=null,this.clearcoatNormalMap=source.clearcoatNormalMap,this.clearcoatNormalScale.copy(source.clearcoatNormalScale),this.transparency=source.transparency,this},Do.prototype=Object.create(Qt.prototype),Do.prototype.constructor=Do,Do.prototype.isMeshPhongMaterial=!0,Do.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.specular.copy(source.specular),this.shininess=source.shininess,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Oo.prototype=Object.create(Qt.prototype),Oo.prototype.constructor=Oo,Oo.prototype.isMeshToonMaterial=!0,Oo.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.specular.copy(source.specular),this.shininess=source.shininess,this.map=source.map,this.gradientMap=source.gradientMap,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Io.prototype=Object.create(Qt.prototype),Io.prototype.constructor=Io,Io.prototype.isMeshNormalMaterial=!0,Io.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Bo.prototype=Object.create(Qt.prototype),Bo.prototype.constructor=Bo,Bo.prototype.isMeshLambertMaterial=!0,Bo.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},No.prototype=Object.create(Qt.prototype),No.prototype.constructor=No,No.prototype.isMeshMatcapMaterial=!0,No.prototype.copy=function(source){return Qt.prototype.copy.call(this,source),this.defines={MATCAP:""},this.color.copy(source.color),this.matcap=source.matcap,this.map=source.map,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Fo.prototype=Object.create(Yr.prototype),Fo.prototype.constructor=Fo,Fo.prototype.isLineDashedMaterial=!0,Fo.prototype.copy=function(source){return Yr.prototype.copy.call(this,source),this.scale=source.scale,this.dashSize=source.dashSize,this.gapSize=source.gapSize,this};var jo=Object.freeze({ShadowMaterial:Lo,SpriteMaterial:yr,RawShaderMaterial:Ro,ShaderMaterial:Ke,PointsMaterial:aa,MeshPhysicalMaterial:Po,MeshStandardMaterial:ko,MeshPhongMaterial:Do,MeshToonMaterial:Oo,MeshNormalMaterial:Io,MeshLambertMaterial:Bo,MeshDepthMaterial:Qn,MeshDistanceMaterial:Zn,MeshBasicMaterial:Zt,MeshMatcapMaterial:No,LineDashedMaterial:Fo,LineBasicMaterial:Yr,Material:Qt}),Ho={arraySlice:function(t,e,n){return Ho.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort((function(i,e){return t[i]-t[e]})),n},sortedArray:function(t,e,n){for(var r=t.length,o=new t.constructor(r),i=0,l=0;l!==r;++i)for(var c=n[i]*e,d=0;d!==e;++d)o[l++]=t[c+d];return o},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var l=o[r];if(void 0!==l)if(Array.isArray(l))do{void 0!==(l=o[r])&&(e.push(o.time),n.push.apply(n,l)),o=t[i++]}while(void 0!==o);else if(void 0!==l.toArray)do{void 0!==(l=o[r])&&(e.push(o.time),l.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(l=o[r])&&(e.push(o.time),n.push(l)),o=t[i++]}while(void 0!==o)}},subclip:function(t,e,n,r,o){o=o||30;var l=t.clone();l.name=e;for(var c=[],i=0;i<l.tracks.length;++i){for(var track=l.tracks[i],d=track.getValueSize(),m=[],h=[],f=0;f<track.times.length;++f){var v=track.times[f]*o;if(!(v<n||v>=r)){m.push(track.times[f]);for(var x=0;x<d;++x)h.push(track.values[f*d+x])}}0!==m.length&&(track.times=Ho.convertArray(m,track.times.constructor),track.values=Ho.convertArray(h,track.values.constructor),c.push(track))}l.tracks=c;var y=1/0;for(i=0;i<l.tracks.length;++i)y>l.tracks[i].times[0]&&(y=l.tracks[i].times[0]);for(i=0;i<l.tracks.length;++i)l.tracks[i].shift(-1*y);return l.resetDuration(),l}};function Uo(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function zo(t,e,n,r){Uo.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Vo(t,e,n,r){Uo.call(this,t,e,n,r)}function Go(t,e,n,r){Uo.call(this,t,e,n,r)}function Wo(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ho.convertArray(e,this.TimeBufferType),this.values=Ho.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function qo(t,e,n){Wo.call(this,t,e,n)}function Xo(t,e,n,r){Wo.call(this,t,e,n,r)}function Yo(t,e,n,r){Wo.call(this,t,e,n,r)}function Ko(t,e,n,r){Uo.call(this,t,e,n,r)}function Qo(t,e,n,r){Wo.call(this,t,e,n,r)}function Zo(t,e,n,r){Wo.call(this,t,e,n,r)}function Jo(t,e,n,r){Wo.call(this,t,e,n,r)}function $o(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=r.generateUUID(),this.duration<0&&this.resetDuration()}function ts(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yo;case"vector":case"vector2":case"vector3":case"vector4":return Jo;case"color":return Xo;case"quaternion":return Qo;case"bool":case"boolean":return qo;case"string":return Zo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],r=[];Ho.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Uo.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],o=e[n-1];t:{e:{var l;i:{n:if(!(t<r)){for(var c=n+2;;){if(void 0===r){if(t<o)break n;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,o)}if(n===c)break;if(o=r,t<(r=e[++n]))break e}l=e.length;break i}if(t>=o)break t;var d=e[1];for(t<d&&(n=2,o=d),c=n-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===c)break;if(r=o,t>=(o=e[--n-1]))break e}l=n,n=0}for(;n<l;){var m=n+l>>>1;t<e[m]?l=m:n=m+1}if(r=e[n],void 0===(o=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,o,t)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r,i=0;i!==r;++i)e[i]=n[o+i];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Uo.prototype,{beforeStart_:Uo.prototype.copySampleValue_,afterEnd_:Uo.prototype.copySampleValue_}),zo.prototype=Object.assign(Object.create(Uo.prototype),{constructor:zo,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){var r=this.parameterPositions,o=t-2,l=t+1,c=r[o],d=r[l];if(void 0===c)switch(this.getSettings_().endingStart){case 2401:o=t,c=2*e-n;break;case 2402:c=e+r[o=r.length-2]-r[o+1];break;default:o=t,c=n}if(void 0===d)switch(this.getSettings_().endingEnd){case 2401:l=t,d=2*n-e;break;case 2402:l=1,d=n+r[1]-r[0];break;default:l=t-1,d=e}var m=.5*(n-e),h=this.valueSize;this._weightPrev=m/(e-c),this._weightNext=m/(d-n),this._offsetPrev=o*h,this._offsetNext=l*h},interpolate_:function(t,e,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=t*c,m=d-c,h=this._offsetPrev,f=this._offsetNext,v=this._weightPrev,x=this._weightNext,p=(n-e)/(r-e),y=p*p,w=y*p,A=-v*w+2*v*y-v*p,E=(1+v)*w+(-1.5-2*v)*y+(-.5+v)*p+1,M=(-1-x)*w+(1.5+x)*y+.5*p,T=x*w-x*y,i=0;i!==c;++i)o[i]=A*l[h+i]+E*l[m+i]+M*l[d+i]+T*l[f+i];return o}}),Vo.prototype=Object.assign(Object.create(Uo.prototype),{constructor:Vo,interpolate_:function(t,e,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=t*c,m=d-c,h=(n-e)/(r-e),f=1-h,i=0;i!==c;++i)o[i]=l[m+i]*f+l[d+i]*h;return o}}),Go.prototype=Object.assign(Object.create(Uo.prototype),{constructor:Go,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Wo,{toJSON:function(track){var t,e=track.constructor;if(void 0!==e.toJSON)t=e.toJSON(track);else{t={name:track.name,times:Ho.convertArray(track.times,Array),values:Ho.convertArray(track.values,Array)};var n=track.getInterpolation();n!==track.DefaultInterpolation&&(t.interpolation=n)}return t.type=track.ValueTypeName,t}}),Object.assign(Wo.prototype,{constructor:Wo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Go(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Vo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new zo(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,o=0,l=r-1;o!==r&&n[o]<t;)++o;for(;-1!==l&&n[l]>e;)--l;if(++l,0!==o||l!==r){o>=l&&(o=(l=Math.max(l,1))-1);var c=this.getValueSize();this.times=Ho.arraySlice(n,o,l),this.values=Ho.arraySlice(this.values,o*c,l*c)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,o=n.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var l=null,i=0;i!==o;i++){var c=n[i];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,i,c),t=!1;break}if(null!==l&&l>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,i,c,l),t=!1;break}l=c}if(void 0!==r&&Ho.isTypedArray(r)){i=0;for(var d=r.length;i!==d;++i){var m=r[i];if(isNaN(m)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,i,m),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),o=1,l=t.length-1,i=1;i<l;++i){var c=!1,time=t[i];if(time!==t[i+1]&&(1!==i||time!==time[0]))if(r)c=!0;else for(var d=i*n,m=d-n,h=d+n,f=0;f!==n;++f){var v=e[d+f];if(v!==e[m+f]||v!==e[h+f]){c=!0;break}}if(c){if(i!==o){t[o]=t[i];var x=i*n,y=o*n;for(f=0;f!==n;++f)e[y+f]=e[x+f]}++o}}if(l>0){for(t[o]=t[l],x=l*n,y=o*n,f=0;f!==n;++f)e[y+f]=e[x+f];++o}return o!==t.length&&(this.times=Ho.arraySlice(t,0,o),this.values=Ho.arraySlice(e,0,o*n)),this},clone:function(){var t=Ho.arraySlice(this.times,0),e=Ho.arraySlice(this.values,0),track=new(0,this.constructor)(this.name,t,e);return track.createInterpolant=this.createInterpolant,track}}),qo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:qo,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Xo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Xo,ValueTypeName:"color"}),Yo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Yo,ValueTypeName:"number"}),Ko.prototype=Object.assign(Object.create(Uo.prototype),{constructor:Ko,interpolate_:function(t,e,n,r){for(var o=this.resultBuffer,c=this.sampleValues,d=this.valueSize,m=t*d,h=(n-e)/(r-e),f=m+d;m!==f;m+=4)l.slerpFlat(o,0,c,m-d,c,m,h);return o}}),Qo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Qo,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Ko(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Zo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Zo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Jo.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Jo,ValueTypeName:"vector"}),Object.assign($o,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(ts(n[i]).scale(r));return new $o(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,o=n.length;i!==o;++i)e.push(Wo.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var o=e.length,l=[],i=0;i<o;i++){var c=[],d=[];c.push((i+o-1)%o,i,(i+1)%o),d.push(0,1,0);var m=Ho.getKeyframeOrder(c);c=Ho.sortedArray(c,1,m),d=Ho.sortedArray(d,1,m),r||0!==c[0]||(c.push(o),d.push(d[0])),l.push(new Yo(".morphTargetInfluences["+e[i].name+"]",c,d).scale(1/n))}return new $o(t,-1,l)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},pattern=/^([\w-]*?)([\d]+)$/,i=0,o=t.length;i<o;i++){var l=t[i],c=l.name.match(pattern);if(c&&c.length>1){var d=r[h=c[1]];d||(r[h]=d=[]),d.push(l)}}var m=[];for(var h in r)m.push($o.CreateFromMorphTargetSequence(h,r[h],e,n));return m},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,r,o){if(0!==n.length){var l=[],c=[];Ho.flattenJSON(n,l,c,r),0!==l.length&&o.push(new t(e,l,c))}},r=[],o=t.name||"default",l=t.length||-1,c=t.fps||30,d=t.hierarchy||[],m=0;m<d.length;m++){var h=d[m].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var f={},v=0;v<h.length;v++)if(h[v].morphTargets)for(var x=0;x<h[v].morphTargets.length;x++)f[h[v].morphTargets[x]]=-1;for(var y in f){var w=[],A=[];for(x=0;x!==h[v].morphTargets.length;++x){var E=h[v];w.push(E.time),A.push(E.morphTarget===y?1:0)}r.push(new Yo(".morphTargetInfluence["+y+"]",w,A))}l=f.length*(c||1)}else{var M=".bones["+e[m].name+"]";n(Jo,M+".position",h,"pos",r),n(Qo,M+".quaternion",h,"rot",r),n(Jo,M+".scale",h,"scl",r)}}return 0===r.length?null:new $o(o,l,r)}}),Object.assign($o.prototype,{resetDuration:function(){for(var t=0,i=0,e=this.tracks.length;i!==e;++i){var track=this.tracks[i];t=Math.max(t,track.times[track.times.length-1])}return this.duration=t,this},trim:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this},validate:function(){for(var t=!0,i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t},optimize:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this},clone:function(){for(var t=[],i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new $o(this.name,this.duration,t)}});var es={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function is(t,e,n){var r=this,o=!1,l=0,c=0,d=void 0,m=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){c++,!1===o&&void 0!==r.onStart&&r.onStart(t,l,c),o=!0},this.itemEnd=function(t){l++,void 0!==r.onProgress&&r.onProgress(t,l,c),l===c&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return d?d(t):t},this.setURLModifier=function(t){return d=t,this},this.addHandler=function(t,e){return m.push(t,e),this},this.removeHandler=function(t){var e=m.indexOf(t);return-1!==e&&m.splice(e,2),this},this.getHandler=function(t){for(var i=0,e=m.length;i<e;i+=2){var n=m[i],r=m[i+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}var ns=new is;function rs(t){this.manager=void 0!==t?t:ns,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(rs.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(path){return this.path=path,this},setResourcePath:function(t){return this.resourcePath=t,this}});var as={};function os(t){rs.call(this,t)}function ss(t){rs.call(this,t)}function ps(t){rs.call(this,t)}function ls(t){rs.call(this,t)}function cs(t){rs.call(this,t)}function ds(t){rs.call(this,t)}function ms(t){rs.call(this,t)}function hs(){this.type="Curve",this.arcLengthDivisions=200}function us(t,e,n,r,o,l,c,d){hs.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=o||0,this.aEndAngle=l||2*Math.PI,this.aClockwise=c||!1,this.aRotation=d||0}function fs(t,e,n,r,o,l){us.call(this,t,e,n,n,r,o,l),this.type="ArcCurve"}function gs(){var t=0,e=0,n=0,r=0;function o(o,l,c,d){t=o,e=c,n=-3*o+3*l-2*c-d,r=2*o-2*l+c+d}return{initCatmullRom:function(t,e,n,r,l){o(e,n,l*(n-t),l*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,l,c,d){var m=(e-t)/l-(n-t)/(l+c)+(n-e)/c,h=(n-e)/c-(r-e)/(c+d)+(r-n)/d;o(e,n,m*=c,h*=c)},calc:function(o){var l=o*o;return t+e*o+n*l+r*(l*o)}}}os.prototype=Object.assign(Object.create(rs.prototype),{constructor:os,load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,l=es.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;if(void 0===as[t]){var c=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(c){var d=c[1],m=!!c[2],data=c[3];data=decodeURIComponent(data),m&&(data=atob(data));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var view=new Uint8Array(data.length),i=0;i<data.length;i++)view[i]=data.charCodeAt(i);h="blob"===f?new Blob([view.buffer],{type:d}):view.buffer;break;case"document":var v=new DOMParser;h=v.parseFromString(data,d);break;case"json":h=JSON.parse(data);break;default:h=data}setTimeout((function(){e&&e(h),o.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)}),0)}}else{as[t]=[],as[t].push({onLoad:e,onProgress:n,onError:r});var x=new XMLHttpRequest;for(var header in x.open("GET",t,!0),x.addEventListener("load",(function(e){var n=this.response,r=as[t];if(delete as[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),es.add(t,n);for(var i=0,l=r.length;i<l;i++)(c=r[i]).onLoad&&c.onLoad(n);o.manager.itemEnd(t)}else{for(i=0,l=r.length;i<l;i++){var c;(c=r[i]).onError&&c.onError(e)}o.manager.itemError(t),o.manager.itemEnd(t)}}),!1),x.addEventListener("progress",(function(e){for(var n=as[t],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(e)}}),!1),x.addEventListener("error",(function(e){var n=as[t];delete as[t];for(var i=0,r=n.length;i<r;i++){var l=n[i];l.onError&&l.onError(e)}o.manager.itemError(t),o.manager.itemEnd(t)}),!1),x.addEventListener("abort",(function(e){var n=as[t];delete as[t];for(var i=0,r=n.length;i<r;i++){var l=n[i];l.onError&&l.onError(e)}o.manager.itemError(t),o.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(x.responseType=this.responseType),void 0!==this.withCredentials&&(x.withCredentials=this.withCredentials),x.overrideMimeType&&x.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)x.setRequestHeader(header,this.requestHeader[header]);x.send(null)}return o.manager.itemStart(t),x}as[t].push({onLoad:e,onProgress:n,onError:r})},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),ss.prototype=Object.assign(Object.create(rs.prototype),{constructor:ss,load:function(t,e,n,r){var o=this,l=new os(o.manager);l.setPath(o.path),l.load(t,(function(text){e(o.parse(JSON.parse(text)))}),n,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var n=$o.parse(t[i]);e.push(n)}return e}}),ps.prototype=Object.assign(Object.create(rs.prototype),{constructor:ps,load:function(t,e,n,r){var o=this,l=[],c=new ha;c.image=l;var d=new os(this.manager);function m(i){d.load(t[i],(function(t){var n=o.parse(t,!0);l[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(h+=1)&&(1===n.mipmapCount&&(c.minFilter=1006),c.format=n.format,c.needsUpdate=!0,e&&e(c))}),n,r)}if(d.setPath(this.path),d.setResponseType("arraybuffer"),Array.isArray(t))for(var h=0,i=0,f=t.length;i<f;++i)m(i);else d.load(t,(function(t){var n=o.parse(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,d=0;d<r;d++){l[d]={mipmaps:[]};for(var i=0;i<n.mipmapCount;i++)l[d].mipmaps.push(n.mipmaps[d*n.mipmapCount+i]),l[d].format=n.format,l[d].width=n.width,l[d].height=n.height}else c.image.width=n.width,c.image.height=n.height,c.mipmaps=n.mipmaps;1===n.mipmapCount&&(c.minFilter=1006),c.format=n.format,c.needsUpdate=!0,e&&e(c)}),n,r);return c}}),ls.prototype=Object.assign(Object.create(rs.prototype),{constructor:ls,load:function(t,e,n,r){var o=this,l=new ti,c=new os(this.manager);return c.setResponseType("arraybuffer"),c.setPath(this.path),c.load(t,(function(t){var n=o.parse(t);n&&(void 0!==n.image?l.image=n.image:void 0!==n.data&&(l.image.width=n.width,l.image.height=n.height,l.image.data=n.data),l.wrapS=void 0!==n.wrapS?n.wrapS:1001,l.wrapT=void 0!==n.wrapT?n.wrapT:1001,l.magFilter=void 0!==n.magFilter?n.magFilter:1006,l.minFilter=void 0!==n.minFilter?n.minFilter:1006,l.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(l.format=n.format),void 0!==n.type&&(l.type=n.type),void 0!==n.mipmaps&&(l.mipmaps=n.mipmaps,l.minFilter=1008),1===n.mipmapCount&&(l.minFilter=1006),l.needsUpdate=!0,e&&e(l,n))}),n,r),l}}),cs.prototype=Object.assign(Object.create(rs.prototype),{constructor:cs,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,l=es.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;var image=document.createElementNS("http://www.w3.org/1999/xhtml","img");function c(){image.removeEventListener("load",c,!1),image.removeEventListener("error",d,!1),es.add(t,this),e&&e(this),o.manager.itemEnd(t)}function d(e){image.removeEventListener("load",c,!1),image.removeEventListener("error",d,!1),r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)}return image.addEventListener("load",c,!1),image.addEventListener("error",d,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(image.crossOrigin=this.crossOrigin),o.manager.itemStart(t),image.src=t,image}}),ds.prototype=Object.assign(Object.create(rs.prototype),{constructor:ds,load:function(t,e,n,r){var o=new Ei,l=new cs(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);var c=0;function d(i){l.load(t[i],(function(image){o.images[i]=image,6==++c&&(o.needsUpdate=!0,e&&e(o))}),void 0,r)}for(var i=0;i<t.length;++i)d(i);return o}}),ms.prototype=Object.assign(Object.create(rs.prototype),{constructor:ms,load:function(t,e,n,r){var o=new w,l=new cs(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,(function(image){o.image=image;var n=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);o.format=n?1022:1023,o.needsUpdate=!0,void 0!==e&&e(o)}),n,r),o}}),Object.assign(hs.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(u,t){var e=this.getUtoTmapping(u);return this.getPoint(e,t)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,p,n=[],r=this.getPoint(0),o=0;for(n.push(0),p=1;p<=t;p++)o+=(e=this.getPoint(p/t)).distanceTo(r),n.push(o),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(u,t){var e,n=this.getLengths(),i=0,r=n.length;e=t||u*n[r-1];for(var o,l=0,c=r-1;l<=c;)if((o=n[i=Math.floor(l+(c-l)/2)]-e)<0)l=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(n[i=c]===e)return i/(r-1);var d=n[i];return(i+(e-d)/(n[i+1]-d))/(r-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(u){var t=this.getUtoTmapping(u);return this.getTangent(t)},computeFrenetFrames:function(t,e){var i,u,n,o=new m,l=[],c=[],d=[],h=new m,f=new P;for(i=0;i<=t;i++)u=i/t,l[i]=this.getTangentAt(u),l[i].normalize();c[0]=new m,d[0]=new m;var v=Number.MAX_VALUE,x=Math.abs(l[0].x),y=Math.abs(l[0].y),w=Math.abs(l[0].z);for(x<=v&&(v=x,o.set(1,0,0)),y<=v&&(v=y,o.set(0,1,0)),w<=v&&o.set(0,0,1),h.crossVectors(l[0],o).normalize(),c[0].crossVectors(l[0],h),d[0].crossVectors(l[0],c[0]),i=1;i<=t;i++)c[i]=c[i-1].clone(),d[i]=d[i-1].clone(),h.crossVectors(l[i-1],l[i]),h.length()>Number.EPSILON&&(h.normalize(),n=Math.acos(r.clamp(l[i-1].dot(l[i]),-1,1)),c[i].applyMatrix4(f.makeRotationAxis(h,n))),d[i].crossVectors(l[i],c[i]);if(!0===e)for(n=Math.acos(r.clamp(c[0].dot(c[t]),-1,1)),n/=t,l[0].dot(h.crossVectors(c[0],c[t]))>0&&(n=-n),i=1;i<=t;i++)c[i].applyMatrix4(f.makeRotationAxis(l[i],n*i)),d[i].crossVectors(l[i],c[i]);return{tangents:l,normals:c,binormals:d}},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.arcLengthDivisions=source.arcLengthDivisions,this},toJSON:function(){var data={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return data.arcLengthDivisions=this.arcLengthDivisions,data.type=this.type,data},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),us.prototype=Object.create(hs.prototype),us.prototype.constructor=us,us.prototype.isEllipseCurve=!0,us.prototype.getPoint=function(t,e){for(var n=e||new o,r=2*Math.PI,l=this.aEndAngle-this.aStartAngle,c=Math.abs(l)<Number.EPSILON;l<0;)l+=r;for(;l>r;)l-=r;l<Number.EPSILON&&(l=c?0:r),!0!==this.aClockwise||c||(l===r?l=-r:l-=r);var d=this.aStartAngle+t*l,m=this.aX+this.xRadius*Math.cos(d),h=this.aY+this.yRadius*Math.sin(d);if(0!==this.aRotation){var f=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=m-this.aX,y=h-this.aY;m=x*f-y*v+this.aX,h=x*v+y*f+this.aY}return n.set(m,h)},us.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.aX=source.aX,this.aY=source.aY,this.xRadius=source.xRadius,this.yRadius=source.yRadius,this.aStartAngle=source.aStartAngle,this.aEndAngle=source.aEndAngle,this.aClockwise=source.aClockwise,this.aRotation=source.aRotation,this},us.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.aX=this.aX,data.aY=this.aY,data.xRadius=this.xRadius,data.yRadius=this.yRadius,data.aStartAngle=this.aStartAngle,data.aEndAngle=this.aEndAngle,data.aClockwise=this.aClockwise,data.aRotation=this.aRotation,data},us.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},fs.prototype=Object.create(us.prototype),fs.prototype.constructor=fs,fs.prototype.isArcCurve=!0;var vs=new m,xs=new gs,ys=new gs,bs=new gs;function ws(t,e,n,r){hs.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=r||.5}function As(t,e,n,r,o){var l=.5*(r-e),c=.5*(o-n),d=t*t;return(2*n-2*r+l+c)*(t*d)+(-3*n+3*r-2*l-c)*d+l*t+n}function Es(t,e,n,r){return function(t,p){var e=1-t;return e*e*p}(t,e)+function(t,p){return 2*(1-t)*t*p}(t,n)+function(t,p){return t*t*p}(t,r)}function Ms(t,e,n,r,o){return function(t,p){var e=1-t;return e*e*e*p}(t,e)+function(t,p){var e=1-t;return 3*e*e*t*p}(t,n)+function(t,p){return 3*(1-t)*t*t*p}(t,r)+function(t,p){return t*t*t*p}(t,o)}function Ts(t,e,n,r){hs.call(this),this.type="CubicBezierCurve",this.v0=t||new o,this.v1=e||new o,this.v2=n||new o,this.v3=r||new o}function _s(t,e,n,r){hs.call(this),this.type="CubicBezierCurve3",this.v0=t||new m,this.v1=e||new m,this.v2=n||new m,this.v3=r||new m}function Ss(t,e){hs.call(this),this.type="LineCurve",this.v1=t||new o,this.v2=e||new o}function Cs(t,e){hs.call(this),this.type="LineCurve3",this.v1=t||new m,this.v2=e||new m}function Ls(t,e,n){hs.call(this),this.type="QuadraticBezierCurve",this.v0=t||new o,this.v1=e||new o,this.v2=n||new o}function Rs(t,e,n){hs.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new m,this.v1=e||new m,this.v2=n||new m}function ks(t){hs.call(this),this.type="SplineCurve",this.points=t||[]}ws.prototype=Object.create(hs.prototype),ws.prototype.constructor=ws,ws.prototype.isCatmullRomCurve3=!0,ws.prototype.getPoint=function(t,e){var n,r,o,l,c=e||new m,d=this.points,h=d.length,p=(h-(this.closed?0:1))*t,f=Math.floor(p),v=p-f;if(this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/h)+1)*h:0===v&&f===h-1&&(f=h-2,v=1),this.closed||f>0?n=d[(f-1)%h]:(vs.subVectors(d[0],d[1]).add(d[0]),n=vs),r=d[f%h],o=d[(f+1)%h],this.closed||f+2<h?l=d[(f+2)%h]:(vs.subVectors(d[h-1],d[h-2]).add(d[h-1]),l=vs),"centripetal"===this.curveType||"chordal"===this.curveType){var x="chordal"===this.curveType?.5:.25,y=Math.pow(n.distanceToSquared(r),x),w=Math.pow(r.distanceToSquared(o),x),A=Math.pow(o.distanceToSquared(l),x);w<1e-4&&(w=1),y<1e-4&&(y=w),A<1e-4&&(A=w),xs.initNonuniformCatmullRom(n.x,r.x,o.x,l.x,y,w,A),ys.initNonuniformCatmullRom(n.y,r.y,o.y,l.y,y,w,A),bs.initNonuniformCatmullRom(n.z,r.z,o.z,l.z,y,w,A)}else"catmullrom"===this.curveType&&(xs.initCatmullRom(n.x,r.x,o.x,l.x,this.tension),ys.initCatmullRom(n.y,r.y,o.y,l.y,this.tension),bs.initCatmullRom(n.z,r.z,o.z,l.z,this.tension));return c.set(xs.calc(v),ys.calc(v),bs.calc(v)),c},ws.prototype.copy=function(source){hs.prototype.copy.call(this,source),this.points=[];for(var i=0,t=source.points.length;i<t;i++){var e=source.points[i];this.points.push(e.clone())}return this.closed=source.closed,this.curveType=source.curveType,this.tension=source.tension,this},ws.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);data.points=[];for(var i=0,t=this.points.length;i<t;i++){var e=this.points[i];data.points.push(e.toArray())}return data.closed=this.closed,data.curveType=this.curveType,data.tension=this.tension,data},ws.prototype.fromJSON=function(t){hs.prototype.fromJSON.call(this,t),this.points=[];for(var i=0,e=t.points.length;i<e;i++){var n=t.points[i];this.points.push((new m).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ts.prototype=Object.create(hs.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isCubicBezierCurve=!0,Ts.prototype.getPoint=function(t,e){var n=e||new o,r=this.v0,l=this.v1,c=this.v2,d=this.v3;return n.set(Ms(t,r.x,l.x,c.x,d.x),Ms(t,r.y,l.y,c.y,d.y)),n},Ts.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this},Ts.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data},Ts.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},_s.prototype=Object.create(hs.prototype),_s.prototype.constructor=_s,_s.prototype.isCubicBezierCurve3=!0,_s.prototype.getPoint=function(t,e){var n=e||new m,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Ms(t,r.x,o.x,l.x,c.x),Ms(t,r.y,o.y,l.y,c.y),Ms(t,r.z,o.z,l.z,c.z)),n},_s.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this},_s.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data},_s.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Ss.prototype=Object.create(hs.prototype),Ss.prototype.constructor=Ss,Ss.prototype.isLineCurve=!0,Ss.prototype.getPoint=function(t,e){var n=e||new o;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Ss.prototype.getPointAt=function(u,t){return this.getPoint(u,t)},Ss.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Ss.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.v1.copy(source.v1),this.v2.copy(source.v2),this},Ss.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},Ss.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Cs.prototype=Object.create(hs.prototype),Cs.prototype.constructor=Cs,Cs.prototype.isLineCurve3=!0,Cs.prototype.getPoint=function(t,e){var n=e||new m;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Cs.prototype.getPointAt=function(u,t){return this.getPoint(u,t)},Cs.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.v1.copy(source.v1),this.v2.copy(source.v2),this},Cs.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},Cs.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Ls.prototype=Object.create(hs.prototype),Ls.prototype.constructor=Ls,Ls.prototype.isQuadraticBezierCurve=!0,Ls.prototype.getPoint=function(t,e){var n=e||new o,r=this.v0,l=this.v1,c=this.v2;return n.set(Es(t,r.x,l.x,c.x),Es(t,r.y,l.y,c.y)),n},Ls.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this},Ls.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},Ls.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Rs.prototype=Object.create(hs.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isQuadraticBezierCurve3=!0,Rs.prototype.getPoint=function(t,e){var n=e||new m,r=this.v0,o=this.v1,l=this.v2;return n.set(Es(t,r.x,o.x,l.x),Es(t,r.y,o.y,l.y),Es(t,r.z,o.z,l.z)),n},Rs.prototype.copy=function(source){return hs.prototype.copy.call(this,source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this},Rs.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data},Rs.prototype.fromJSON=function(t){return hs.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ks.prototype=Object.create(hs.prototype),ks.prototype.constructor=ks,ks.prototype.isSplineCurve=!0,ks.prototype.getPoint=function(t,e){var n=e||new o,r=this.points,p=(r.length-1)*t,l=Math.floor(p),c=p-l,d=r[0===l?l:l-1],m=r[l],h=r[l>r.length-2?r.length-1:l+1],f=r[l>r.length-3?r.length-1:l+2];return n.set(As(c,d.x,m.x,h.x,f.x),As(c,d.y,m.y,h.y,f.y)),n},ks.prototype.copy=function(source){hs.prototype.copy.call(this,source),this.points=[];for(var i=0,t=source.points.length;i<t;i++){var e=source.points[i];this.points.push(e.clone())}return this},ks.prototype.toJSON=function(){var data=hs.prototype.toJSON.call(this);data.points=[];for(var i=0,t=this.points.length;i<t;i++){var e=this.points[i];data.points.push(e.toArray())}return data},ks.prototype.fromJSON=function(t){hs.prototype.fromJSON.call(this,t),this.points=[];for(var i=0,e=t.points.length;i<e;i++){var n=t.points[i];this.points.push((new o).fromArray(n))}return this};var Ps=Object.freeze({ArcCurve:fs,CatmullRomCurve3:ws,CubicBezierCurve:Ts,CubicBezierCurve3:_s,EllipseCurve:us,LineCurve:Ss,LineCurve3:Cs,QuadraticBezierCurve:Ls,QuadraticBezierCurve3:Rs,SplineCurve:ks});function Ds(){hs.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Os(t){Ds.call(this),this.type="Path",this.currentPoint=new o,t&&this.setFromPoints(t)}function Is(t){Os.call(this,t),this.uuid=r.generateUUID(),this.type="Shape",this.holes=[]}function Bs(t,e){Z.call(this),this.type="Light",this.color=new Gt(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ns(t,e,n){Bs.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Z.DefaultUp),this.updateMatrix(),this.groundColor=new Gt(e)}function Fs(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new o(512,512),this.map=null,this.mapPass=null,this.matrix=new P,this._frustum=new ni,this._frameExtents=new o(1,1),this._viewportCount=1,this._viewports=[new A(0,0,1,1)]}function js(){Fs.call(this,new Ze(50,1,.5,500))}function Hs(t,e,n,r,o,l){Bs.call(this,t,e),this.type="SpotLight",this.position.copy(Z.DefaultUp),this.updateMatrix(),this.target=new Z,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==o?o:0,this.decay=void 0!==l?l:1,this.shadow=new js}function Us(){Fs.call(this,new Ze(90,1,.5,500)),this._frameExtents=new o(4,2),this._viewportCount=6,this._viewports=[new A(2,1,1,1),new A(0,1,1,1),new A(3,1,1,1),new A(1,1,1,1),new A(3,0,1,1),new A(1,0,1,1)],this._cubeDirections=[new m(1,0,0),new m(-1,0,0),new m(0,0,1),new m(0,0,-1),new m(0,1,0),new m(0,-1,0)],this._cubeUps=[new m(0,1,0),new m(0,1,0),new m(0,1,0),new m(0,1,0),new m(0,0,1),new m(0,0,-1)]}function zs(t,e,n,r){Bs.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Us}function Vs(t,e,n,r,o,l){Qe.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==o?o:.1,this.far=void 0!==l?l:2e3,this.updateProjectionMatrix()}function Gs(){Fs.call(this,new Vs(-5,5,5,-5,.5,500))}function Ws(t,e){Bs.call(this,t,e),this.type="DirectionalLight",this.position.copy(Z.DefaultUp),this.updateMatrix(),this.target=new Z,this.shadow=new Gs}function qs(t,e){Bs.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Xs(t,e,n,r){Bs.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Ys(t){rs.call(this,t),this.textures={}}Ds.prototype=Object.assign(Object.create(hs.prototype),{constructor:Ds,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Ss(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],l=o.getLength(),u=0===l?0:1-r/l;return o.getPointAt(u)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],l=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,c=o.getPoints(l),d=0;d<c.length;d++){var m=c[d];e&&e.equals(m)||(n.push(m),e=m)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(source){hs.prototype.copy.call(this,source),this.curves=[];for(var i=0,t=source.curves.length;i<t;i++){var e=source.curves[i];this.curves.push(e.clone())}return this.autoClose=source.autoClose,this},toJSON:function(){var data=hs.prototype.toJSON.call(this);data.autoClose=this.autoClose,data.curves=[];for(var i=0,t=this.curves.length;i<t;i++){var e=this.curves[i];data.curves.push(e.toJSON())}return data},fromJSON:function(t){hs.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var i=0,e=t.curves.length;i<e;i++){var n=t.curves[i];this.curves.push((new Ps[n.type]).fromJSON(n))}return this}}),Os.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Os,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var i=1,e=t.length;i<e;i++)this.lineTo(t[i].x,t[i].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var n=new Ss(this.currentPoint.clone(),new o(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,r){var l=new Ls(this.currentPoint.clone(),new o(t,e),new o(n,r));return this.curves.push(l),this.currentPoint.set(n,r),this},bezierCurveTo:function(t,e,n,r,l,c){var d=new Ts(this.currentPoint.clone(),new o(t,e),new o(n,r),new o(l,c));return this.curves.push(d),this.currentPoint.set(l,c),this},splineThru:function(t){var e=new ks([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,r,o,l){var c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(t+c,e+d,n,r,o,l),this},absarc:function(t,e,n,r,o,l){return this.absellipse(t,e,n,n,r,o,l),this},ellipse:function(t,e,n,r,o,l,c,d){var m=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(t+m,e+h,n,r,o,l,c,d),this},absellipse:function(t,e,n,r,o,l,c,d){var m=new us(t,e,n,r,o,l,c,d);if(this.curves.length>0){var h=m.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(m);var f=m.getPoint(1);return this.currentPoint.copy(f),this},copy:function(source){return Ds.prototype.copy.call(this,source),this.currentPoint.copy(source.currentPoint),this},toJSON:function(){var data=Ds.prototype.toJSON.call(this);return data.currentPoint=this.currentPoint.toArray(),data},fromJSON:function(t){return Ds.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Is.prototype=Object.assign(Object.create(Os.prototype),{constructor:Is,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(source){Os.prototype.copy.call(this,source),this.holes=[];for(var i=0,t=source.holes.length;i<t;i++){var e=source.holes[i];this.holes.push(e.clone())}return this},toJSON:function(){var data=Os.prototype.toJSON.call(this);data.uuid=this.uuid,data.holes=[];for(var i=0,t=this.holes.length;i<t;i++){var e=this.holes[i];data.holes.push(e.toJSON())}return data},fromJSON:function(t){Os.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var i=0,e=t.holes.length;i<e;i++){var n=t.holes[i];this.holes.push((new Os).fromJSON(n))}return this}}),Bs.prototype=Object.assign(Object.create(Z.prototype),{constructor:Bs,isLight:!0,copy:function(source){return Z.prototype.copy.call(this,source),this.color.copy(source.color),this.intensity=source.intensity,this},toJSON:function(meta){var data=Z.prototype.toJSON.call(this,meta);return data.object.color=this.color.getHex(),data.object.intensity=this.intensity,void 0!==this.groundColor&&(data.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(data.object.distance=this.distance),void 0!==this.angle&&(data.object.angle=this.angle),void 0!==this.decay&&(data.object.decay=this.decay),void 0!==this.penumbra&&(data.object.penumbra=this.penumbra),void 0!==this.shadow&&(data.object.shadow=this.shadow.toJSON()),data}}),Ns.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Ns,isHemisphereLight:!0,copy:function(source){return Bs.prototype.copy.call(this,source),this.groundColor.copy(source.groundColor),this}}),Object.assign(Fs.prototype,{_projScreenMatrix:new P,_lightPositionWorld:new m,_lookTarget:new m,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,r=this._projScreenMatrix,o=this._lookTarget,l=this._lightPositionWorld;l.setFromMatrixPosition(t.matrixWorld),e.position.copy(l),o.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(o),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(source){return this.camera=source.camera.clone(),this.bias=source.bias,this.radius=source.radius,this.mapSize.copy(source.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var object={};return 0!==this.bias&&(object.bias=this.bias),1!==this.radius&&(object.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(object.mapSize=this.mapSize.toArray()),object.camera=this.camera.toJSON(!1).object,delete object.camera.matrix,object}}),js.prototype=Object.assign(Object.create(Fs.prototype),{constructor:js,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,n=2*r.RAD2DEG*t.angle,o=this.mapSize.width/this.mapSize.height,l=t.distance||e.far;n===e.fov&&o===e.aspect&&l===e.far||(e.fov=n,e.aspect=o,e.far=l,e.updateProjectionMatrix()),Fs.prototype.updateMatrices.call(this,t)}}),Hs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Hs,isSpotLight:!0,copy:function(source){return Bs.prototype.copy.call(this,source),this.distance=source.distance,this.angle=source.angle,this.penumbra=source.penumbra,this.decay=source.decay,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}),Us.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Us,isPointLightShadow:!0,updateMatrices:function(t,e){void 0===e&&(e=0);var n=this.camera,r=this.matrix,o=this._lightPositionWorld,l=this._lookTarget,c=this._projScreenMatrix;o.setFromMatrixPosition(t.matrixWorld),n.position.copy(o),l.copy(n.position),l.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(l),n.updateMatrixWorld(),r.makeTranslation(-o.x,-o.y,-o.z),c.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromMatrix(c)}}),zs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:zs,isPointLight:!0,copy:function(source){return Bs.prototype.copy.call(this,source),this.distance=source.distance,this.decay=source.decay,this.shadow=source.shadow.clone(),this}}),Vs.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Vs,isOrthographicCamera:!0,copy:function(source,t){return Qe.prototype.copy.call(this,source,t),this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this.view=null===source.view?null:Object.assign({},source.view),this},setViewOffset:function(t,e,n,r,o,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,o=n-t,l=n+t,c=r+e,d=r-e;if(null!==this.view&&this.view.enabled){var m=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),f=(this.right-this.left)/this.view.width,v=(this.top-this.bottom)/this.view.height;l=(o+=f*(this.view.offsetX/m))+f*(this.view.width/m),d=(c-=v*(this.view.offsetY/h))-v*(this.view.height/h)}this.projectionMatrix.makeOrthographic(o,l,c,d,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(meta){var data=Z.prototype.toJSON.call(this,meta);return data.object.zoom=this.zoom,data.object.left=this.left,data.object.right=this.right,data.object.top=this.top,data.object.bottom=this.bottom,data.object.near=this.near,data.object.far=this.far,null!==this.view&&(data.object.view=Object.assign({},this.view)),data}}),Gs.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Gs,isDirectionalLightShadow:!0,updateMatrices:function(t){Fs.prototype.updateMatrices.call(this,t)}}),Ws.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Ws,isDirectionalLight:!0,copy:function(source){return Bs.prototype.copy.call(this,source),this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}),qs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:qs,isAmbientLight:!0}),Xs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Xs,isRectAreaLight:!0,copy:function(source){return Bs.prototype.copy.call(this,source),this.width=source.width,this.height=source.height,this},toJSON:function(meta){var data=Bs.prototype.toJSON.call(this,meta);return data.object.width=this.width,data.object.height=this.height,data}}),Ys.prototype=Object.assign(Object.create(rs.prototype),{constructor:Ys,load:function(t,e,n,r){var o=this,l=new os(o.manager);l.setPath(o.path),l.load(t,(function(text){e(o.parse(JSON.parse(text)))}),n,r)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new jo[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new Gt).setHex(t.sheen)),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var l in t.uniforms){var c=t.uniforms[l];switch(r.uniforms[l]={},c.type){case"t":r.uniforms[l].value=n(c.value);break;case"c":r.uniforms[l].value=(new Gt).setHex(c.value);break;case"v2":r.uniforms[l].value=(new o).fromArray(c.value);break;case"v3":r.uniforms[l].value=(new m).fromArray(c.value);break;case"v4":r.uniforms[l].value=(new A).fromArray(c.value);break;case"m3":r.uniforms[l].value=(new v).fromArray(c.value);case"m4":r.uniforms[l].value=(new P).fromArray(c.value);break;default:r.uniforms[l].value=c.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var d in t.extensions)r.extensions[d]=t.extensions[d];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var h=t.normalScale;!1===Array.isArray(h)&&(h=[h,h]),r.normalScale=(new o).fromArray(h)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new o).fromArray(t.clearcoatNormalScale)),r},setTextures:function(t){return this.textures=t,this}});var Ks={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var s="",i=0,e=t.length;i<e;i++)s+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(s))}catch(t){return s}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Qs(){xe.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Zs(t,e,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),$t.call(this,t,e,n),this.meshPerAttribute=r||1}function Js(t){rs.call(this,t)}Qs.prototype=Object.assign(Object.create(xe.prototype),{constructor:Qs,isInstancedBufferGeometry:!0,copy:function(source){return xe.prototype.copy.call(this,source),this.maxInstancedCount=source.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var data=xe.prototype.toJSON.call(this);return data.maxInstancedCount=this.maxInstancedCount,data.isInstancedBufferGeometry=!0,data}}),Zs.prototype=Object.assign(Object.create($t.prototype),{constructor:Zs,isInstancedBufferAttribute:!0,copy:function(source){return $t.prototype.copy.call(this,source),this.meshPerAttribute=source.meshPerAttribute,this},toJSON:function(){var data=$t.prototype.toJSON.call(this);return data.meshPerAttribute=this.meshPerAttribute,data.isInstancedBufferAttribute=!0,data}}),Js.prototype=Object.assign(Object.create(rs.prototype),{constructor:Js,load:function(t,e,n,r){var o=this,l=new os(o.manager);l.setPath(o.path),l.load(t,(function(text){e(o.parse(JSON.parse(text)))}),n,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Qs:new xe,n=t.data.index;if(void 0!==n){var r=new $s[n.type](n.array);e.setIndex(new $t(r,1))}var o=t.data.attributes;for(var l in o){var c=o[l],d=(r=new $s[c.type](c.array),new(c.isInstancedBufferAttribute?Zs:$t)(r,c.itemSize,c.normalized));void 0!==c.name&&(d.name=c.name),e.setAttribute(l,d)}var h=t.data.morphAttributes;if(h)for(var l in h){for(var f=h[l],v=[],i=0,x=f.length;i<x;i++)c=f[i],d=new $t(r=new $s[c.type](c.array),c.itemSize,c.normalized),void 0!==c.name&&(d.name=c.name),v.push(d);e.morphAttributes[l]=v}t.data.morphTargetsRelative&&(e.morphTargetsRelative=!0);var y=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==y){i=0;for(var w=y.length;i!==w;++i){var A=y[i];e.addGroup(A.start,A.count,A.materialIndex)}}var E=t.data.boundingSphere;if(void 0!==E){var M=new m;void 0!==E.center&&M.fromArray(E.center),e.boundingSphere=new vt(M,E.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e}});var $s={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function tp(t){rs.call(this,t)}tp.prototype=Object.assign(Object.create(rs.prototype),{constructor:tp,load:function(t,e,n,r){var o=this,path=""===this.path?Ks.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||path;var l=new os(o.manager);l.setPath(this.path),l.load(t,(function(text){var n=null;try{n=JSON.parse(text)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var l=n.metadata;void 0!==l&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()?o.parse(n,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)},parse:function(t,e){var n=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,n),o=this.parseImages(t.images,(function(){void 0!==e&&e(object)})),l=this.parseTextures(t.textures,o),c=this.parseMaterials(t.materials,l),object=this.parseObject(t.object,r,c);return t.animations&&(object.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(object),object},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,n=t.length;i<n;i++){var r=(new Is).fromJSON(t[i]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var r=new Js,i=0,o=t.length;i<o;i++){var l,data=t[i];switch(data.type){case"PlaneGeometry":case"PlaneBufferGeometry":l=new Co[data.type](data.width,data.height,data.widthSegments,data.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":l=new Co[data.type](data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":l=new Co[data.type](data.radius,data.segments,data.thetaStart,data.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":l=new Co[data.type](data.radiusTop,data.radiusBottom,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":l=new Co[data.type](data.radius,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":l=new Co[data.type](data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":l=new Co[data.type](data.radius,data.detail);break;case"RingGeometry":case"RingBufferGeometry":l=new Co[data.type](data.innerRadius,data.outerRadius,data.thetaSegments,data.phiSegments,data.thetaStart,data.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":l=new Co[data.type](data.radius,data.tube,data.radialSegments,data.tubularSegments,data.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":l=new Co[data.type](data.radius,data.tube,data.tubularSegments,data.radialSegments,data.p,data.q);break;case"TubeGeometry":case"TubeBufferGeometry":l=new Co[data.type]((new Ps[data.path.type]).fromJSON(data.path),data.tubularSegments,data.radius,data.radialSegments,data.closed);break;case"LatheGeometry":case"LatheBufferGeometry":l=new Co[data.type](data.points,data.segments,data.phiStart,data.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":l=new Co[data.type](data.vertices,data.indices,data.radius,data.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],d=0,m=data.shapes.length;d<m;d++){var h=e[data.shapes[d]];c.push(h)}l=new Co[data.type](c,data.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],d=0,m=data.shapes.length;d<m;d++)h=e[data.shapes[d]],c.push(h);var f=data.options.extrudePath;void 0!==f&&(data.options.extrudePath=(new Ps[f.type]).fromJSON(f)),l=new Co[data.type](c,data.options);break;case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(data);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?l=(new THREE.LegacyJSONLoader).parse(data,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+data.type+'"');continue}l.uuid=data.uuid,void 0!==data.name&&(l.name=data.name),!0===l.isBufferGeometry&&void 0!==data.userData&&(l.userData=data.userData),n[data.uuid]=l}return n},parseMaterials:function(t,e){var n={},r={};if(void 0!==t){var o=new Ys;o.setTextures(e);for(var i=0,l=t.length;i<l;i++){var data=t[i];if("MultiMaterial"===data.type){for(var c=[],d=0;d<data.materials.length;d++){var m=data.materials[d];void 0===n[m.uuid]&&(n[m.uuid]=o.parse(m)),c.push(n[m.uuid])}r[data.uuid]=c}else void 0===n[data.uuid]&&(n[data.uuid]=o.parse(data)),r[data.uuid]=n[data.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var data=t[i],n=$o.parse(data);void 0!==data.uuid&&(n.uuid=data.uuid),e.push(n)}return e},parseImages:function(t,e){var n=this,r={};function o(t){return n.manager.itemStart(t),l.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var l=new cs(new is(e));l.setCrossOrigin(this.crossOrigin);for(var i=0,c=t.length;i<c;i++){var image=t[i],d=image.url;if(Array.isArray(d)){r[image.uuid]=[];for(var m=0,h=d.length;m<h;m++){var f=d[m],path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;r[image.uuid].push(o(path))}}else path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(image.url)?image.url:n.resourcePath+image.url,r[image.uuid]=o(path)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var l,data=t[i];void 0===data.image&&console.warn('THREE.ObjectLoader: No "image" specified for',data.uuid),void 0===e[data.image]&&console.warn("THREE.ObjectLoader: Undefined image",data.image),(l=Array.isArray(e[data.image])?new Ei(e[data.image]):new w(e[data.image])).needsUpdate=!0,l.uuid=data.uuid,void 0!==data.name&&(l.name=data.name),void 0!==data.mapping&&(l.mapping=n(data.mapping,ip)),void 0!==data.offset&&l.offset.fromArray(data.offset),void 0!==data.repeat&&l.repeat.fromArray(data.repeat),void 0!==data.center&&l.center.fromArray(data.center),void 0!==data.rotation&&(l.rotation=data.rotation),void 0!==data.wrap&&(l.wrapS=n(data.wrap[0],np),l.wrapT=n(data.wrap[1],np)),void 0!==data.format&&(l.format=data.format),void 0!==data.type&&(l.type=data.type),void 0!==data.encoding&&(l.encoding=data.encoding),void 0!==data.minFilter&&(l.minFilter=n(data.minFilter,ap)),void 0!==data.magFilter&&(l.magFilter=n(data.magFilter,ap)),void 0!==data.anisotropy&&(l.anisotropy=data.anisotropy),void 0!==data.flipY&&(l.flipY=data.flipY),void 0!==data.premultiplyAlpha&&(l.premultiplyAlpha=data.premultiplyAlpha),void 0!==data.unpackAlignment&&(l.unpackAlignment=data.unpackAlignment),r[data.uuid]=l}return r},parseObject:function(data,t,e){var object;function n(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function r(t){if(void 0!==t){if(Array.isArray(t)){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];void 0===e[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),n.push(e[o])}return n}return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),e[t]}}switch(data.type){case"Scene":object=new J,void 0!==data.background&&Number.isInteger(data.background)&&(object.background=new Gt(data.background)),void 0!==data.fog&&("Fog"===data.fog.type?object.fog=new gr(data.fog.color,data.fog.near,data.fog.far):"FogExp2"===data.fog.type&&(object.fog=new fr(data.fog.color,data.fog.density)));break;case"PerspectiveCamera":object=new Ze(data.fov,data.aspect,data.near,data.far),void 0!==data.focus&&(object.focus=data.focus),void 0!==data.zoom&&(object.zoom=data.zoom),void 0!==data.filmGauge&&(object.filmGauge=data.filmGauge),void 0!==data.filmOffset&&(object.filmOffset=data.filmOffset),void 0!==data.view&&(object.view=Object.assign({},data.view));break;case"OrthographicCamera":object=new Vs(data.left,data.right,data.top,data.bottom,data.near,data.far),void 0!==data.zoom&&(object.zoom=data.zoom),void 0!==data.view&&(object.view=Object.assign({},data.view));break;case"AmbientLight":object=new qs(data.color,data.intensity);break;case"DirectionalLight":object=new Ws(data.color,data.intensity);break;case"PointLight":object=new zs(data.color,data.intensity,data.distance,data.decay);break;case"RectAreaLight":object=new Xs(data.color,data.intensity,data.width,data.height);break;case"SpotLight":object=new Hs(data.color,data.intensity,data.distance,data.angle,data.penumbra,data.decay);break;case"HemisphereLight":object=new Ns(data.color,data.groundColor,data.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=n(data.geometry),l=r(data.material);object=o.bones&&o.bones.length>0?new Fr(o,l):new Be(o,l);break;case"InstancedMesh":o=n(data.geometry),l=r(data.material);var c=data.count,d=data.instanceMatrix;(object=new Xr(o,l,c)).instanceMatrix=new $t(new Float32Array(d.array),16);break;case"LOD":object=new Nr;break;case"Line":object=new ta(n(data.geometry),r(data.material),data.mode);break;case"LineLoop":object=new ra(n(data.geometry),r(data.material));break;case"LineSegments":object=new na(n(data.geometry),r(data.material));break;case"PointCloud":case"Points":object=new ca(n(data.geometry),r(data.material));break;case"Sprite":object=new Dr(r(data.material));break;case"Group":object=new ar;break;default:object=new Z}if(object.uuid=data.uuid,void 0!==data.name&&(object.name=data.name),void 0!==data.matrix?(object.matrix.fromArray(data.matrix),void 0!==data.matrixAutoUpdate&&(object.matrixAutoUpdate=data.matrixAutoUpdate),object.matrixAutoUpdate&&object.matrix.decompose(object.position,object.quaternion,object.scale)):(void 0!==data.position&&object.position.fromArray(data.position),void 0!==data.rotation&&object.rotation.fromArray(data.rotation),void 0!==data.quaternion&&object.quaternion.fromArray(data.quaternion),void 0!==data.scale&&object.scale.fromArray(data.scale)),void 0!==data.castShadow&&(object.castShadow=data.castShadow),void 0!==data.receiveShadow&&(object.receiveShadow=data.receiveShadow),data.shadow&&(void 0!==data.shadow.bias&&(object.shadow.bias=data.shadow.bias),void 0!==data.shadow.radius&&(object.shadow.radius=data.shadow.radius),void 0!==data.shadow.mapSize&&object.shadow.mapSize.fromArray(data.shadow.mapSize),void 0!==data.shadow.camera&&(object.shadow.camera=this.parseObject(data.shadow.camera))),void 0!==data.visible&&(object.visible=data.visible),void 0!==data.frustumCulled&&(object.frustumCulled=data.frustumCulled),void 0!==data.renderOrder&&(object.renderOrder=data.renderOrder),void 0!==data.userData&&(object.userData=data.userData),void 0!==data.layers&&(object.layers.mask=data.layers),void 0!==data.children)for(var m=data.children,i=0;i<m.length;i++)object.add(this.parseObject(m[i],t,e));if("LOD"===data.type){void 0!==data.autoUpdate&&(object.autoUpdate=data.autoUpdate);for(var h=data.levels,f=0;f<h.length;f++){var v=h[f],x=object.getObjectByProperty("uuid",v.object);void 0!==x&&object.addLevel(x,v.distance)}}return object}});var ep,ip={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},np={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},ap={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};function op(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),rs.call(this,t),this.options=void 0}function sp(){this.type="ShapePath",this.color=new Gt,this.subPaths=[],this.currentPath=null}function pp(data){this.type="Font",this.data=data}function lp(t,e,n,r,data){var glyph=data.glyphs[t]||data.glyphs["?"];if(glyph){var o,l,c,d,m,h,f,v,path=new sp;if(glyph.o)for(var x=glyph._cachedOutline||(glyph._cachedOutline=glyph.o.split(" ")),i=0,y=x.length;i<y;)switch(x[i++]){case"m":o=x[i++]*e+n,l=x[i++]*e+r,path.moveTo(o,l);break;case"l":o=x[i++]*e+n,l=x[i++]*e+r,path.lineTo(o,l);break;case"q":c=x[i++]*e+n,d=x[i++]*e+r,m=x[i++]*e+n,h=x[i++]*e+r,path.quadraticCurveTo(m,h,c,d);break;case"b":c=x[i++]*e+n,d=x[i++]*e+r,m=x[i++]*e+n,h=x[i++]*e+r,f=x[i++]*e+n,v=x[i++]*e+r,path.bezierCurveTo(m,h,f,v,c,d)}return{offsetX:glyph.ha*e,path:path}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+data.familyName+".")}function cp(t){rs.call(this,t)}op.prototype=Object.assign(Object.create(rs.prototype),{constructor:op,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,l=es.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===o.options?createImageBitmap(t):createImageBitmap(t,o.options)})).then((function(n){es.add(t,n),e&&e(n),o.manager.itemEnd(t)})).catch((function(e){r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)})),o.manager.itemStart(t)}}),Object.assign(sp.prototype,{moveTo:function(t,e){return this.currentPath=new Os,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this},bezierCurveTo:function(t,e,n,r,o,l){return this.currentPath.bezierCurveTo(t,e,n,r,o,l),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],o=new Is;o.curves=r.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,p=n-1,q=0;q<n;p=q++){var o=e[p],l=e[q],c=l.x-o.x,d=l.y-o.y;if(Math.abs(d)>Number.EPSILON){if(d<0&&(o=e[q],c=-c,l=e[p],d=-d),t.y<o.y||t.y>l.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var m=d*(t.x-o.x)-c*(t.y-o.y);if(0===m)return!0;if(m<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(l.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=l.x)return!0}}return r}var o=io.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===e)return n(l);var c,d,m,h=[];if(1===l.length)return d=l[0],(m=new Is).curves=d.curves,h.push(m),h;var f=!o(l[0].getPoints());f=t?!f:f;var v,x,y=[],w=[],A=[],E=0;w[E]=void 0,A[E]=[];for(var i=0,M=l.length;i<M;i++)c=o(v=(d=l[i]).getPoints()),(c=t?!c:c)?(!f&&w[E]&&E++,w[E]={s:new Is,p:v},w[E].s.curves=d.curves,f&&E++,A[E]=[]):A[E].push({h:d,p:v[0]});if(!w[0])return n(l);if(w.length>1){for(var T=!1,_=[],S=0,C=w.length;S<C;S++)y[S]=[];for(S=0,C=w.length;S<C;S++)for(var L=A[S],R=0;R<L.length;R++){for(var k=L[R],P=!0,D=0;D<w.length;D++)r(k.p,w[D].p)&&(S!==D&&_.push({froms:S,tos:D,hole:R}),P?(P=!1,y[D].push(k)):T=!0);P&&y[S].push(k)}_.length>0&&(T||(A=y))}i=0;for(var O=w.length;i<O;i++){m=w[i].s,h.push(m);for(var I=0,B=(x=A[i]).length;I<B;I++)m.holes.push(x[I].h)}return h}}),Object.assign(pp.prototype,{isFont:!0,generateShapes:function(text,t){void 0===t&&(t=100);for(var e=[],n=function(text,t,data){for(var e=Array.from?Array.from(text):String(text).split(""),n=t/data.resolution,r=(data.boundingBox.yMax-data.boundingBox.yMin+data.underlineThickness)*n,o=[],l=0,c=0,i=0;i<e.length;i++){var d=e[i];if("\n"===d)l=0,c-=r;else{var m=lp(d,n,l,c,data);l+=m.offsetX,o.push(m.path)}}return o}(text,t,this.data),p=0,r=n.length;p<r;p++)Array.prototype.push.apply(e,n[p].toShapes());return e}}),cp.prototype=Object.assign(Object.create(rs.prototype),{constructor:cp,load:function(t,e,n,r){var o=this,l=new os(this.manager);l.setPath(this.path),l.load(t,(function(text){var t;try{t=JSON.parse(text)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),t=JSON.parse(text.substring(65,text.length-2))}var n=o.parse(t);e&&e(n)}),n,r)},parse:function(t){return new pp(t)}});var dp={getContext:function(){return void 0===ep&&(ep=new(window.AudioContext||window.webkitAudioContext)),ep},setContext:function(t){ep=t}};function mp(t){rs.call(this,t)}function hp(){this.coefficients=[];for(var i=0;i<9;i++)this.coefficients.push(new m)}function up(t,e){Bs.call(this,void 0,e),this.sh=void 0!==t?t:new hp}function fp(t,e,n){up.call(this,void 0,n);var r=(new Gt).set(t),o=(new Gt).set(e),l=new m(r.r,r.g,r.b),c=new m(o.r,o.g,o.b),d=Math.sqrt(Math.PI),h=d*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(c).multiplyScalar(d),this.sh.coefficients[1].copy(l).sub(c).multiplyScalar(h)}function gp(t,e){up.call(this,void 0,e);var n=(new Gt).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}mp.prototype=Object.assign(Object.create(rs.prototype),{constructor:mp,load:function(t,e,n,r){var o=new os(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var n=t.slice(0);dp.getContext().decodeAudioData(n,(function(t){e(t)}))}),n,r)}}),Object.assign(hp.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var i=0;i<9;i++)this.coefficients[i].copy(t[i]);return this},zero:function(){for(var i=0;i<9;i++)this.coefficients[i].set(0,0,0);return this},getAt:function(t,e){var n=t.x,r=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScale(l[1],.488603*r),e.addScale(l[2],.488603*o),e.addScale(l[3],.488603*n),e.addScale(l[4],n*r*1.092548),e.addScale(l[5],r*o*1.092548),e.addScale(l[6],.315392*(3*o*o-1)),e.addScale(l[7],n*o*1.092548),e.addScale(l[8],.546274*(n*n-r*r)),e},getIrradianceAt:function(t,e){var n=t.x,r=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScale(l[1],1.023328*r),e.addScale(l[2],1.023328*o),e.addScale(l[3],1.023328*n),e.addScale(l[4],.858086*n*r),e.addScale(l[5],.858086*r*o),e.addScale(l[6],.743125*o*o-.247708),e.addScale(l[7],.858086*n*o),e.addScale(l[8],.429043*(n*n-r*r)),e},add:function(t){for(var i=0;i<9;i++)this.coefficients[i].add(t.coefficients[i]);return this},scale:function(s){for(var i=0;i<9;i++)this.coefficients[i].multiplyScalar(s);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var i=0;i<9;i++)if(!this.coefficients[i].equals(t.coefficients[i]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t,e){void 0===e&&(e=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}),Object.assign(hp,{getBasisAt:function(t,e){var n=t.x,r=t.y,o=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*o,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*n*o,e[8]=.546274*(n*n-r*r)}}),up.prototype=Object.assign(Object.create(Bs.prototype),{constructor:up,isLightProbe:!0,copy:function(source){return Bs.prototype.copy.call(this,source),this.sh.copy(source.sh),this.intensity=source.intensity,this},toJSON:function(meta){return Bs.prototype.toJSON.call(this,meta)}}),fp.prototype=Object.assign(Object.create(up.prototype),{constructor:fp,isHemisphereLightProbe:!0,copy:function(source){return up.prototype.copy.call(this,source),this},toJSON:function(meta){return up.prototype.toJSON.call(this,meta)}}),gp.prototype=Object.assign(Object.create(up.prototype),{constructor:gp,isAmbientLightProbe:!0,copy:function(source){return up.prototype.copy.call(this,source),this},toJSON:function(meta){return up.prototype.toJSON.call(this,meta)}});var vp=new P,xp=new P;function yp(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ze,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ze,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function bp(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(yp.prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,o,l=t.projectionMatrix.clone(),c=e.eyeSep/2,d=c*e.near/e.focus,m=e.near*Math.tan(r.DEG2RAD*e.fov*.5)/e.zoom;xp.elements[12]=-c,vp.elements[12]=c,n=-m*e.aspect+d,o=m*e.aspect+d,l.elements[0]=2*e.near/(o-n),l.elements[8]=(o+n)/(o-n),this.cameraL.projectionMatrix.copy(l),n=-m*e.aspect-d,o=m*e.aspect-d,l.elements[0]=2*e.near/(o-n),l.elements[8]=(o+n)/(o-n),this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(xp),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(vp)}}),Object.assign(bp.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}});var wp=new m,Ap=new l,Ep=new m,Mp=new m;function Tp(){Z.call(this),this.type="AudioListener",this.context=dp.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new bp}function _p(t){Z.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}Tp.prototype=Object.assign(Object.create(Z.prototype),{constructor:Tp,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){Z.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wp,Ap,Ep),Mp.set(0,0,-1).applyQuaternion(Ap),e.positionX){var r=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(wp.x,r),e.positionY.linearRampToValueAtTime(wp.y,r),e.positionZ.linearRampToValueAtTime(wp.z,r),e.forwardX.linearRampToValueAtTime(Mp.x,r),e.forwardY.linearRampToValueAtTime(Mp.y,r),e.forwardZ.linearRampToValueAtTime(Mp.z,r),e.upX.linearRampToValueAtTime(n.x,r),e.upY.linearRampToValueAtTime(n.y,r),e.upZ.linearRampToValueAtTime(n.z,r)}else e.setPosition(wp.x,wp.y,wp.z),e.setOrientation(Mp.x,Mp.y,Mp.z,n.x,n.y,n.z)}}),_p.prototype=Object.assign(Object.create(Z.prototype),{constructor:_p,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(t){if(void 0===t&&(t=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var source=this.context.createBufferSource();return source.buffer=this.buffer,source.loop=this.loop,source.loopStart=this.loopStart,source.loopEnd=this.loopEnd,source.onended=this.onEnded.bind(this),source.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=source,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var i=1,t=this.filters.length;i<t;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var i=1,t=this.filters.length;i<t;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(filter){return this.setFilters(filter?[filter]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(t){return this.loopStart=t,this},setLoopEnd:function(t){return this.loopEnd=t,this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});var Sp=new m,Cp=new l,Lp=new m,Rp=new m;function kp(t){_p.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Pp(audio,t){this.analyser=audio.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),audio.getOutput().connect(this.analyser)}function Dp(t,e,n){this.binding=t,this.valueSize=n;var r,o=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":o=Array,r=this._select;break;default:r=this._lerp}this.buffer=new o(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}kp.prototype=Object.assign(Object.create(_p.prototype),{constructor:kp,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(t){if(Z.prototype.updateMatrixWorld.call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Sp,Cp,Lp),Rp.set(0,0,1).applyQuaternion(Cp);var e=this.panner;if(e.positionX){var n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Sp.x,n),e.positionY.linearRampToValueAtTime(Sp.y,n),e.positionZ.linearRampToValueAtTime(Sp.z,n),e.orientationX.linearRampToValueAtTime(Rp.x,n),e.orientationY.linearRampToValueAtTime(Rp.y,n),e.orientationZ.linearRampToValueAtTime(Rp.z,n)}else e.setPosition(Sp.x,Sp.y,Sp.z),e.setOrientation(Rp.x,Rp.y,Rp.z)}}}),Object.assign(Pp.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,data=this.getFrequencyData(),i=0;i<data.length;i++)t+=data[i];return t/data.length}}),Object.assign(Dp.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,o=t*r+r,l=this.cumulativeWeight;if(0===l){for(var i=0;i!==r;++i)n[o+i]=n[i];l=e}else{var c=e/(l+=e);this._mixBufferRegion(n,o,0,c,r)}this.cumulativeWeight=l},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,o=this.cumulativeWeight,l=this.binding;if(this.cumulativeWeight=0,o<1){var c=3*e;this._mixBufferRegion(n,r,c,1-o,e)}for(var i=e,d=e+e;i!==d;++i)if(n[i]!==n[i+e]){l.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,o){if(r>=.5)for(var i=0;i!==o;++i)t[e+i]=t[n+i]},_slerp:function(t,e,n,r){l.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,o){for(var s=1-r,i=0;i!==o;++i){var l=e+i;t[l]=t[l]*s+t[n+i]*r}}});var Op=new RegExp("[\\[\\]\\.:\\/]","g"),Ip="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Bp=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Np=/(WCOD+)?/.source.replace("WCOD",Ip),Fp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),jp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Hp=new RegExp("^"+Bp+Np+Fp+jp+"$"),Up=["material","materials","bones"];function zp(t,path,e){var n=e||Vp.parseTrackName(path);this._targetGroup=t,this._bindings=t.subscribe_(path,n)}function Vp(t,path,e){this.path=path,this.parsedPath=e||Vp.parseTrackName(path),this.node=Vp.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Gp(){this.uuid=r.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var i=0,e=arguments.length;i!==e;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Wp(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,o=r.length,l=new Array(o),c={endingStart:2400,endingEnd:2400},i=0;i!==o;++i){var d=r[i].createInterpolant(null);l[i]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function qp(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Xp(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Yp(t,e,n){vr.call(this,t,e),this.meshPerAttribute=n||1}function Kp(t,e,n,r){this.ray=new Tt(t,e),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Qp(a,b){return a.distance-b.distance}function Zp(object,t,e,n){if(!1!==object.visible&&(object.raycast(t,e),!0===n))for(var r=object.children,i=0,o=r.length;i<o;i++)Zp(r[i],t,e,!0)}function Jp(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function $p(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}Object.assign(zp.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,i=this._targetGroup.nCachedObjects_,e=t.length;i!==e;++i)t[i].bind()},unbind:function(){for(var t=this._bindings,i=this._targetGroup.nCachedObjects_,e=t.length;i!==e;++i)t[i].unbind()}}),Object.assign(Vp,{Composite:zp,create:function(t,path,e){return t&&t.isAnimationObjectGroup?new Vp.Composite(t,path,e):new Vp(t,path,e)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Op,"")},parseTrackName:function(t){var e=Hp.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var o=n.nodeName.substring(r+1);-1!==Up.indexOf(o)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function(t){for(var i=0;i<t.length;i++){var n=t[i];if(n.name===e||n.uuid===e)return n;var o=r(n.children);if(o)return o}return null},o=r(t.children);if(o)return o}return null}}),Object.assign(Vp.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var source=this.resolvedProperty,i=0,n=source.length;i!==n;++i)t[e++]=source[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,o=e.propertyIndex;if(t||(t=Vp.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var l=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var i=0;i<t.length;i++)if(t[i].name===l){l=i;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==l){if(void 0===t[l])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[l]}}var c=t[r];if(void 0!==c){var d=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?d=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(d=this.Versioning.MatrixWorldNeedsUpdate);var m=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(i=0;i<this.node.geometry.morphAttributes.position.length;i++)if(t.geometry.morphAttributes.position[i].name===o){o=i;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(i=0;i<this.node.geometry.morphTargets.length;i++)if(t.geometry.morphTargets[i].name===o){o=i;break}}}m=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=o}else void 0!==c.fromArray&&void 0!==c.toArray?(m=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(m=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=r;this.getValue=this.GetterByBindingType[m],this.setValue=this.SetterByBindingTypeAndVersioning[m][d]}else{var h=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Vp.prototype,{_getValue_unbound:Vp.prototype.getValue,_setValue_unbound:Vp.prototype.setValue}),Object.assign(Gp.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,o=this._paths,l=this._parsedPaths,c=this._bindings,d=c.length,m=void 0,i=0,h=arguments.length;i!==h;++i){var object=arguments[i],f=object.uuid,v=r[f];if(void 0===v){v=e++,r[f]=v,t.push(object);for(var x=0,y=d;x!==y;++x)c[x].push(new Vp(object,o[x],l[x]))}else if(v<n){m=t[v];var w=--n,A=t[w];for(r[A.uuid]=v,t[v]=A,r[f]=w,t[w]=object,x=0,y=d;x!==y;++x){var E=c[x],M=E[w],T=E[v];E[v]=M,void 0===T&&(T=new Vp(object,o[x],l[x])),E[w]=T}}else t[v]!==m&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,o=r.length,i=0,l=arguments.length;i!==l;++i){var object=arguments[i],c=object.uuid,d=n[c];if(void 0!==d&&d>=e){var m=e++,h=t[m];n[h.uuid]=d,t[d]=h,n[c]=m,t[m]=object;for(var f=0,v=o;f!==v;++f){var x=r[f],y=x[m],w=x[d];x[d]=y,x[m]=w}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,o=this._bindings,l=o.length,i=0,c=arguments.length;i!==c;++i){var object=arguments[i],d=object.uuid,m=r[d];if(void 0!==m)if(delete r[d],m<n){var h=--n,f=t[h],v=t[E=--e];r[f.uuid]=m,t[m]=f,r[v.uuid]=h,t[h]=v,t.pop();for(var x=0,y=l;x!==y;++x){var w=(M=o[x])[h],A=M[E];M[m]=w,M[h]=A,M.pop()}}else{var E;for(r[(v=t[E=--e]).uuid]=m,t[m]=v,t.pop(),x=0,y=l;x!==y;++x){var M;(M=o[x])[m]=M[E],M.pop()}}}this.nCachedObjects_=n},subscribe_:function(path,t){var e=this._bindingsIndicesByPath,n=e[path],r=this._bindings;if(void 0!==n)return r[n];var o=this._paths,l=this._parsedPaths,c=this._objects,d=c.length,m=this.nCachedObjects_,h=new Array(d);n=r.length,e[path]=n,o.push(path),l.push(t),r.push(h);for(var i=m,f=c.length;i!==f;++i){var object=c[i];h[i]=new Vp(object,path,t)}return h},unsubscribe_:function(path){var t=this._bindingsIndicesByPath,e=t[path];if(void 0!==e){var n=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l];t[path[l]]=e,o[e]=c,o.pop(),r[e]=r[l],r.pop(),n[e]=n[l],n.pop()}}}),Object.assign(Wp.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(time){return this._startTime=time,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,o=t._clip.duration,l=o/r,c=r/o;t.warp(1,l,e),this.warp(c,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,o=r.time,l=this._timeScaleInterpolant,c=this.timeScale;null===l&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);var d=l.parameterPositions,m=l.sampleValues;return d[0]=o,d[1]=o+n,m[0]=t/c,m[1]=e/c,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(time,t,e,n){if(this.enabled){var r=this._startTime;if(null!==r){var o=(time-r)*e;if(o<0||0===e)return;this._startTime=null,t=e*o}t*=this._updateTimeScale(time);var l=this._updateTime(t),c=this._updateWeight(time);if(c>0)for(var d=this._interpolants,m=this._propertyBindings,h=0,f=d.length;h!==f;++h)d[h].evaluate(l),m[h].accumulate(n,c)}else this._updateWeight(time)},_updateWeight:function(time){var t=0;if(this.enabled){t=this.weight;var e=this._weightInterpolant;if(null!==e){var n=e.evaluate(time)[0];t*=n,time>e.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(time){var t=0;if(!this.paused){t=this.timeScale;var e=this._timeScaleInterpolant;null!==e&&(t*=e.evaluate(time)[0],time>e.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t},_updateTime:function(t){var time=this.time+t,e=this._clip.duration,n=this.loop,r=this._loopCount,o=2202===n;if(0===t)return-1===r?time:o&&1==(1&r)?e-time:time;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(time>=e)time=e;else{if(!(time<0)){this.time=time;break t}time=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),time>=e||time<0){var l=Math.floor(time/e);time-=e*l,r+=Math.abs(l);var c=this.repetitions-r;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,time=t>0?e:0,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===c){var d=t<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=time,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=time;if(o&&1==(1&r))return e-time}return time},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,o=r.time,l=this._weightInterpolant;null===l&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);var c=l.parameterPositions,d=l.sampleValues;return c[0]=o,d[0]=e,c[1]=o+t,d[1]=n,this}}),qp.prototype=Object.assign(Object.create(e.prototype),{constructor:qp,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,o=r.length,l=t._propertyBindings,c=t._interpolants,d=n.uuid,m=this._bindingsByRootAndName,h=m[d];void 0===h&&(h={},m[d]=h);for(var i=0;i!==o;++i){var track=r[i],f=track.name,v=h[f];if(void 0!==v)l[i]=v;else{if(void 0!==(v=l[i])){null===v._cacheIndex&&(++v.referenceCount,this._addInactiveBinding(v,d,f));continue}var path=e&&e._propertyBindings[i].binding.parsedPath;++(v=new Dp(Vp.create(n,f,path),track.ValueTypeName,track.getValueSize())).referenceCount,this._addInactiveBinding(v,d,f),l[i]=v}c[i].resultBuffer=v.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var o=t._propertyBindings,i=0,l=o.length;i!==l;++i){var c=o[i];0==c.useCount++&&(this._lendBinding(c),c.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,o=this._actionsByClip,l=o[e];if(void 0===l)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=l;else{var c=l.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=r.length,r.push(t),l.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var o=t._clip.uuid,l=this._actionsByClip,c=l[o],d=c.knownActions,m=d[d.length-1],h=t._byClipCacheIndex;m._byClipCacheIndex=h,d[h]=m,d.pop(),t._byClipCacheIndex=null,delete c.actionByRoot[(t._localRoot||this._root).uuid],0===d.length&&delete l[o],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,o=r[e],l=this._bindings;void 0===o&&(o={},r[e]=o),o[n]=t,t._cacheIndex=l.length,l.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,c=l[r],d=e[e.length-1],m=t._cacheIndex;d._cacheIndex=m,e[m]=d,e.pop(),delete c[o],0===Object.keys(c).length&&delete l[r]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Vo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,o=e[r];t.__cacheIndex=r,e[r]=t,o.__cacheIndex=n,e[n]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,o="string"==typeof t?$o.findByName(n,t):t,l=null!==o?o.uuid:t,c=this._actionsByClip[l],d=null;if(void 0!==c){var m=c.actionByRoot[r];if(void 0!==m)return m;d=c.knownActions[0],null===o&&(o=d._clip)}if(null===o)return null;var h=new Wp(this,o,e);return this._bindAction(h,d),this._addInactiveAction(h,l,r),h},existingAction:function(t,e){var n=e||this._root,r=n.uuid,o="string"==typeof t?$o.findByName(n,t):t,l=o?o.uuid:t,c=this._actionsByClip[l];return void 0!==c&&c.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,time=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,i=0;i!==n;++i)e[i]._update(time,t,r,o);var l=this._bindings,c=this._nActiveBindings;for(i=0;i!==c;++i)l[i].apply(o);return this},setTime:function(t){this.time=0;for(var i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,o=r[n];if(void 0!==o){for(var l=o.knownActions,i=0,c=l.length;i!==c;++i){var d=l[i];this._deactivateAction(d);var m=d._cacheIndex,h=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,h._cacheIndex=m,e[m]=h,e.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var o=n[r].actionByRoot[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var l=this._bindingsByRootAndName[e];if(void 0!==l)for(var c in l){var d=l[c];d.restoreOriginalState(),this._removeInactiveBinding(d)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Xp.prototype.clone=function(){return new Xp(void 0===this.value.clone?this.value:this.value.clone())},Yp.prototype=Object.assign(Object.create(vr.prototype),{constructor:Yp,isInstancedInterleavedBuffer:!0,copy:function(source){return vr.prototype.copy.call(this,source),this.meshPerAttribute=source.meshPerAttribute,this}}),Object.assign(Kp.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(object,t,e){var n=e||[];return Zp(object,this,n,t),n.sort(Qp),n},intersectObjects:function(t,e,n){var r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=t.length;i<o;i++)Zp(t[i],this,r,e);return r.sort(Qp),r}}),Object.assign(Jp.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(r.clamp(e/this.radius,-1,1))),this}}),Object.assign($p.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}});var tl=new o;function el(t,e){this.min=void 0!==t?t:new o(1/0,1/0),this.max=void 0!==e?e:new o(-1/0,-1/0)}Object.assign(el.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var i=0,e=t.length;i<e;i++)this.expandByPoint(t[i]);return this},setFromCenterAndSize:function(t,e){var n=tl.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new o),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new o),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new o),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new o),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return tl.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var il=new m,nl=new m;function rl(t,e){this.start=void 0!==t?t:new m,this.end=void 0!==e?e:new m}function al(t){Z.call(this),this.material=t,this.render=function(){}}Object.assign(rl.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(line){return this.start.copy(line.start),this.end.copy(line.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new m),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new m),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new m),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){il.subVectors(t,this.start),nl.subVectors(this.end,this.start);var n=nl.dot(nl),o=nl.dot(il)/n;return e&&(o=r.clamp(o,0,1)),o},closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new m),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(line){return line.start.equals(this.start)&&line.end.equals(this.end)}}),al.prototype=Object.create(Z.prototype),al.prototype.constructor=al,al.prototype.isImmediateRenderObject=!0;var sl=new m,pl=new m,ll=new v,cl=["a","b","c"];function ml(object,t,e,n){this.object=object,this.size=void 0!==t?t:1;var r=void 0!==e?e:16711680,o=void 0!==n?n:1,l=0,c=this.object.geometry;c&&c.isGeometry?l=3*c.faces.length:c&&c.isBufferGeometry&&(l=c.attributes.normal.count);var d=new xe,m=new se(2*l*3,3);d.setAttribute("position",m),na.call(this,d,new Yr({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}ml.prototype=Object.create(na.prototype),ml.prototype.constructor=ml,ml.prototype.update=function(){this.object.updateMatrixWorld(!0),ll.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,o=n.faces,l=0,i=0,c=o.length;i<c;i++)for(var d=o[i],m=0,h=d.vertexNormals.length;m<h;m++){var f=r[d[cl[m]]],v=d.vertexNormals[m];sl.copy(f).applyMatrix4(t),pl.copy(v).applyMatrix3(ll).normalize().multiplyScalar(this.size).add(sl),e.setXYZ(l,sl.x,sl.y,sl.z),l+=1,e.setXYZ(l,pl.x,pl.y,pl.z),l+=1}else if(n&&n.isBufferGeometry){var x=n.attributes.position,y=n.attributes.normal;for(l=0,m=0,h=x.count;m<h;m++)sl.set(x.getX(m),x.getY(m),x.getZ(m)).applyMatrix4(t),pl.set(y.getX(m),y.getY(m),y.getZ(m)),pl.applyMatrix3(ll).normalize().multiplyScalar(this.size).add(sl),e.setXYZ(l,sl.x,sl.y,sl.z),l+=1,e.setXYZ(l,pl.x,pl.y,pl.z),l+=1}e.needsUpdate=!0};var hl=new m,fl=new m;function gl(object,t,e,n){this.object=object,this.size=void 0!==t?t:1;var r=void 0!==e?e:65535,o=void 0!==n?n:1,l=this.object.geometry;if(l&&l.isBufferGeometry){var c=l.attributes.tangent.count,d=new xe,m=new se(2*c*3,3);d.setAttribute("position",m),na.call(this,d,new Yr({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}else console.error("THREE.VertexTangentsHelper: geometry not an instance of THREE.BufferGeometry.",l)}gl.prototype=Object.create(na.prototype),gl.prototype.constructor=gl,gl.prototype.update=function(){this.object.updateMatrixWorld(!0);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry,r=n.attributes.position,o=n.attributes.tangent,l=0,c=0,d=r.count;c<d;c++)hl.set(r.getX(c),r.getY(c),r.getZ(c)).applyMatrix4(t),fl.set(o.getX(c),o.getY(c),o.getZ(c)),fl.transformDirection(t).multiplyScalar(this.size).add(hl),e.setXYZ(l,hl.x,hl.y,hl.z),l+=1,e.setXYZ(l,fl.x,fl.y,fl.z),l+=1;e.needsUpdate=!0};var vl=new m;function xl(t,e){Z.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new xe,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var l=i/32*Math.PI*2,c=o/32*Math.PI*2;r.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new se(r,3));var d=new Yr({fog:!1});this.cone=new na(n,d),this.add(this.cone),this.update()}xl.prototype=Object.create(Z.prototype),xl.prototype.constructor=xl,xl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},xl.prototype.update=function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),vl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vl),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var yl=new m,bl=new P,wl=new P;function Al(object){for(var t=function t(object){var e=[];object&&object.isBone&&e.push(object);for(var i=0;i<object.children.length;i++)e.push.apply(e,t(object.children[i]));return e}(object),e=new xe,n=[],r=[],o=new Gt(0,0,1),l=new Gt(0,1,0),i=0;i<t.length;i++){var c=t[i];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(o.r,o.g,o.b),r.push(l.r,l.g,l.b))}e.setAttribute("position",new se(n,3)),e.setAttribute("color",new se(r,3));var d=new Yr({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});na.call(this,e,d),this.root=object,this.bones=t,this.matrix=object.matrixWorld,this.matrixAutoUpdate=!1}function El(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var r=new ho(e,4,2),o=new Zt({wireframe:!0,fog:!1});Be.call(this,r,o),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Ml(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var n=new xe;n.setAttribute("position",new se([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Yr({fog:!1});ta.call(this,n,r);var o=new xe;o.setAttribute("position",new se([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),o.computeBoundingSphere(),this.add(new Be(o,new Zt({side:1,fog:!1}))),this.update()}Al.prototype=Object.create(na.prototype),Al.prototype.constructor=Al,Al.prototype.updateMatrixWorld=function(t){var e=this.bones,n=this.geometry,r=n.getAttribute("position");wl.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<e.length;i++){var l=e[i];l.parent&&l.parent.isBone&&(bl.multiplyMatrices(wl,l.matrixWorld),yl.setFromMatrixPosition(bl),r.setXYZ(o,yl.x,yl.y,yl.z),bl.multiplyMatrices(wl,l.parent.matrixWorld),yl.setFromMatrixPosition(bl),r.setXYZ(o+1,yl.x,yl.y,yl.z),o+=2)}n.getAttribute("position").needsUpdate=!0,Z.prototype.updateMatrixWorld.call(this,t)},El.prototype=Object.create(Be.prototype),El.prototype.constructor=El,El.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},El.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Ml.prototype=Object.create(ta.prototype),Ml.prototype.constructor=Ml,Ml.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},Ml.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var Tl=new m,_l=new Gt,Sl=new Gt;function Cl(t,e,n){Z.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Ma(e);r.rotateY(.5*Math.PI),this.material=new Zt({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var o=r.getAttribute("position"),l=new Float32Array(3*o.count);r.setAttribute("color",new $t(l,3)),this.add(new Be(r,this.material)),this.update()}function Ll(t,e){this.lightProbe=t,this.size=e;var n={GAMMA_OUTPUT:""},r=new Ke({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),o=new ho(1,32,16);Be.call(this,o,r),this.onBeforeRender()}function Rl(t,e,n,r){t=t||10,e=e||10,n=new Gt(void 0!==n?n:4473924),r=new Gt(void 0!==r?r:8947848);for(var o=e/2,l=t/e,c=t/2,d=[],m=[],i=0,h=0,f=-c;i<=e;i++,f+=l){d.push(-c,0,f,c,0,f),d.push(f,0,-c,f,0,c);var v=i===o?n:r;v.toArray(m,h),h+=3,v.toArray(m,h),h+=3,v.toArray(m,h),h+=3,v.toArray(m,h),h+=3}var x=new xe;x.setAttribute("position",new se(d,3)),x.setAttribute("color",new se(m,3));var y=new Yr({vertexColors:2});na.call(this,x,y)}function kl(t,e,n,r,o,l){t=t||10,e=e||16,n=n||8,r=r||64,o=new Gt(void 0!==o?o:4473924),l=new Gt(void 0!==l?l:8947848);var c,d,m,i,h,f,v,x=[],y=[];for(i=0;i<=e;i++)m=i/e*(2*Math.PI),c=Math.sin(m)*t,d=Math.cos(m)*t,x.push(0,0,0),x.push(c,0,d),v=1&i?o:l,y.push(v.r,v.g,v.b),y.push(v.r,v.g,v.b);for(i=0;i<=n;i++)for(v=1&i?o:l,f=t-t/n*i,h=0;h<r;h++)m=h/r*(2*Math.PI),c=Math.sin(m)*f,d=Math.cos(m)*f,x.push(c,0,d),y.push(v.r,v.g,v.b),m=(h+1)/r*(2*Math.PI),c=Math.sin(m)*f,d=Math.cos(m)*f,x.push(c,0,d),y.push(v.r,v.g,v.b);var w=new xe;w.setAttribute("position",new se(x,3)),w.setAttribute("color",new se(y,3));var A=new Yr({vertexColors:2});na.call(this,w,A)}function Pl(audio,t,e,n){this.audio=audio,this.range=t||1,this.divisionsInnerAngle=e||16,this.divisionsOuterAngle=n||2;var r=new xe,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,l=new Float32Array(3*(3*o+3));r.setAttribute("position",new $t(l,3));var c=new Yr({color:65280}),d=new Yr({color:16776960});ta.call(this,r,[d,c]),this.update()}Cl.prototype=Object.create(Z.prototype),Cl.prototype.constructor=Cl,Cl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Cl.prototype.update=function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");_l.copy(this.light.color),Sl.copy(this.light.groundColor);for(var i=0,n=e.count;i<n;i++){var r=i<n/2?_l:Sl;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(Tl.setFromMatrixPosition(this.light.matrixWorld).negate())},Ll.prototype=Object.create(Be.prototype),Ll.prototype.constructor=Ll,Ll.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ll.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Rl.prototype=Object.assign(Object.create(na.prototype),{constructor:Rl,copy:function(source){return na.prototype.copy.call(this,source),this.geometry.copy(source.geometry),this.material.copy(source.material),this},clone:function(){return(new this.constructor).copy(this)}}),kl.prototype=Object.create(na.prototype),kl.prototype.constructor=kl,Pl.prototype=Object.create(ta.prototype),Pl.prototype.constructor=Pl,Pl.prototype.update=function(){var i,t,audio=this.audio,e=this.range,n=this.divisionsInnerAngle,o=this.divisionsOuterAngle,l=r.degToRad(audio.panner.coneInnerAngle),c=r.degToRad(audio.panner.coneOuterAngle),d=l/2,m=c/2,h=0,f=0,v=this.geometry,x=v.attributes.position;function y(n,r,o,l){var c=(r-n)/o;for(x.setXYZ(h,0,0,0),f++,i=n;i<r;i+=c)t=h+f,x.setXYZ(t,Math.sin(i)*e,0,Math.cos(i)*e),x.setXYZ(t+1,Math.sin(Math.min(i+c,r))*e,0,Math.cos(Math.min(i+c,r))*e),x.setXYZ(t+2,0,0,0),f+=3;v.addGroup(h,f,l),h+=f,f=0}v.clearGroups(),y(-m,-d,o,0),y(-d,d,n,1),y(d,m,o,0),x.needsUpdate=!0,l===c&&(this.material[0].visible=!1)},Pl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var Dl=new m,Ol=new m,Il=new v;function Bl(object,t,e,n){this.object=object,this.size=void 0!==t?t:1;var r=void 0!==e?e:16776960,o=void 0!==n?n:1,l=0,c=this.object.geometry;c&&c.isGeometry?l=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var d=new xe,m=new se(2*l*3,3);d.setAttribute("position",m),na.call(this,d,new Yr({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}Bl.prototype=Object.create(na.prototype),Bl.prototype.constructor=Bl,Bl.prototype.update=function(){this.object.updateMatrixWorld(!0),Il.getNormalMatrix(this.object.matrixWorld);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,o=n.faces,l=0,i=0,c=o.length;i<c;i++){var d=o[i],m=d.normal;Dl.copy(r[d.a]).add(r[d.b]).add(r[d.c]).divideScalar(3).applyMatrix4(t),Ol.copy(m).applyMatrix3(Il).normalize().multiplyScalar(this.size).add(Dl),e.setXYZ(l,Dl.x,Dl.y,Dl.z),l+=1,e.setXYZ(l,Ol.x,Ol.y,Ol.z),l+=1}e.needsUpdate=!0};var Nl=new m,Fl=new m,jl=new m;function Hl(t,e,n){Z.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var r=new xe;r.setAttribute("position",new se([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var o=new Yr({fog:!1});this.lightPlane=new ta(r,o),this.add(this.lightPlane),(r=new xe).setAttribute("position",new se([0,0,0,0,0,1],3)),this.targetLine=new ta(r,o),this.add(this.targetLine),this.update()}Hl.prototype=Object.create(Z.prototype),Hl.prototype.constructor=Hl,Hl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Hl.prototype.update=function(){Nl.setFromMatrixPosition(this.light.matrixWorld),Fl.setFromMatrixPosition(this.light.target.matrixWorld),jl.subVectors(Fl,Nl),this.lightPlane.lookAt(Fl),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fl),this.targetLine.scale.z=jl.length()};var Ul=new m,zl=new Qe;function Vl(t){var e=new xe,n=new Yr({color:16777215,vertexColors:1}),r=[],o=[],l={},c=new Gt(16755200),d=new Gt(16711680),m=new Gt(43775),h=new Gt(16777215),f=new Gt(3355443);function v(a,b,t){x(a,t),x(b,t)}function x(t,e){r.push(0,0,0),o.push(e.r,e.g,e.b),void 0===l[t]&&(l[t]=[]),l[t].push(r.length/3-1)}v("n1","n2",c),v("n2","n4",c),v("n4","n3",c),v("n3","n1",c),v("f1","f2",c),v("f2","f4",c),v("f4","f3",c),v("f3","f1",c),v("n1","f1",c),v("n2","f2",c),v("n3","f3",c),v("n4","f4",c),v("p","n1",d),v("p","n2",d),v("p","n3",d),v("p","n4",d),v("u1","u2",m),v("u2","u3",m),v("u3","u1",m),v("c","t",h),v("p","c",f),v("cn1","cn2",f),v("cn3","cn4",f),v("cf1","cf2",f),v("cf3","cf4",f),e.setAttribute("position",new se(r,3)),e.setAttribute("color",new se(o,3)),na.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update()}function Gl(t,e,n,r,o,l,c){Ul.set(o,l,c).unproject(r);var d=e[t];if(void 0!==d)for(var m=n.getAttribute("position"),i=0,h=d.length;i<h;i++)m.setXYZ(d[i],Ul.x,Ul.y,Ul.z)}Vl.prototype=Object.create(na.prototype),Vl.prototype.constructor=Vl,Vl.prototype.update=function(){var t=this.geometry,e=this.pointMap;zl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Gl("c",e,t,zl,0,0,-1),Gl("t",e,t,zl,0,0,1),Gl("n1",e,t,zl,-1,-1,-1),Gl("n2",e,t,zl,1,-1,-1),Gl("n3",e,t,zl,-1,1,-1),Gl("n4",e,t,zl,1,1,-1),Gl("f1",e,t,zl,-1,-1,1),Gl("f2",e,t,zl,1,-1,1),Gl("f3",e,t,zl,-1,1,1),Gl("f4",e,t,zl,1,1,1),Gl("u1",e,t,zl,.7,1.1,-1),Gl("u2",e,t,zl,-.7,1.1,-1),Gl("u3",e,t,zl,0,2,-1),Gl("cf1",e,t,zl,-1,0,1),Gl("cf2",e,t,zl,1,0,1),Gl("cf3",e,t,zl,0,-1,1),Gl("cf4",e,t,zl,0,1,1),Gl("cn1",e,t,zl,-1,0,-1),Gl("cn2",e,t,zl,1,0,-1),Gl("cn3",e,t,zl,0,-1,-1),Gl("cn4",e,t,zl,0,1,-1),t.getAttribute("position").needsUpdate=!0};var Wl=new ut;function ql(object,t){this.object=object,void 0===t&&(t=16776960);var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new xe;r.setIndex(new $t(e,1)),r.setAttribute("position",new $t(n,3)),na.call(this,r,new Yr({color:t})),this.matrixAutoUpdate=!1,this.update()}function Xl(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new xe;r.setIndex(new $t(n,1)),r.setAttribute("position",new se([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),na.call(this,r,new Yr({color:e})),this.geometry.computeBoundingSphere()}function Yl(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==n?n:16776960,o=new xe;o.setAttribute("position",new se([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),o.computeBoundingSphere(),ta.call(this,o,new Yr({color:r}));var l=new xe;l.setAttribute("position",new se([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),l.computeBoundingSphere(),this.add(new Be(l,new Zt({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}ql.prototype=Object.create(na.prototype),ql.prototype.constructor=ql,ql.prototype.update=function(object){if(void 0!==object&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Wl.setFromObject(this.object),!Wl.isEmpty()){var t=Wl.min,e=Wl.max,n=this.geometry.attributes.position,r=n.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},ql.prototype.setFromObject=function(object){return this.object=object,this.update(),this},ql.prototype.copy=function(source){return na.prototype.copy.call(this,source),this.object=source.object,this},ql.prototype.clone=function(){return(new this.constructor).copy(this)},Xl.prototype=Object.create(na.prototype),Xl.prototype.constructor=Xl,Xl.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Z.prototype.updateMatrixWorld.call(this,t))},Yl.prototype=Object.create(ta.prototype),Yl.prototype.constructor=Yl,Yl.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),Z.prototype.updateMatrixWorld.call(this,t)};var Kl,Ql,Zl=new m;function Jl(t,e,n,r,o,l){Z.call(this),void 0===t&&(t=new m(0,0,1)),void 0===e&&(e=new m(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===o&&(o=.2*n),void 0===l&&(l=.2*o),void 0===Kl&&((Kl=new xe).setAttribute("position",new se([0,0,0,0,1,0],3)),(Ql=new Eo(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new ta(Kl,new Yr({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Be(Ql,new Zt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,o,l)}function $l(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new xe;n.setAttribute("position",new se(e,3)),n.setAttribute("color",new se([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Yr({vertexColors:2});na.call(this,n,r)}function tc(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ws.call(this,t),this.type="catmullrom",this.closed=!0}function ec(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ws.call(this,t),this.type="catmullrom"}function ic(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ws.call(this,t),this.type="catmullrom"}Jl.prototype=Object.create(Z.prototype),Jl.prototype.constructor=Jl,Jl.prototype.setDirection=function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Zl.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Zl,e)}},Jl.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Jl.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},Jl.prototype.copy=function(source){return Z.prototype.copy.call(this,source,!1),this.line.copy(source.line),this.cone.copy(source.cone),this},Jl.prototype.clone=function(){return(new this.constructor).copy(this)},$l.prototype=Object.create(na.prototype),$l.prototype.constructor=$l,hs.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(hs.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Ds.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new Ve,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new m(r.x,r.y,r.z||0))}return e}}),Object.assign(Os.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),tc.prototype=Object.create(ws.prototype),ec.prototype=Object.create(ws.prototype),ic.prototype=Object.create(ws.prototype),Object.assign(ic.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Rl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Al.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(rs.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ks.extractUrlBase(t)}}),rs.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(tp.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(el.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ut.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),rl.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(r,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),r.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),r.ceilPowerOfTwo(t)}}),Object.assign(v.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(P.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new m).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(q){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(q)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,o,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,o,l)}}),Lt.prototype.isIntersectionLine=function(line){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(line)},l.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Tt.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Ht.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Ht,{barycoordFromPoint:function(t,a,b,e,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ht.getBarycoord(t,a,b,e,n)},normal:function(a,b,t,e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ht.getNormal(a,b,t,e)}}),Object.assign(Is.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ao(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new xo(this,t)}}),Object.assign(o.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(m.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(A.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ve.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Z.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Z.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Be.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Be.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Nr.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ur.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Fr.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(hs.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ze.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Bs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties($t.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign($t.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(xe.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new $t(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)}}),Object.defineProperties(xe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(vr.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(vr.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(oo.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Xp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Qt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Gt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(Do.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ke.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(ur.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(ur.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been removed. Use .xr instead."),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Please define the correct color spaces for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Please define the correct color spaces for textures via Texture.encoding instead.")}}}),Object.defineProperties(Jn.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties($e.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(E.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(dr.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Object.defineProperties(_p.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new mp).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Pp.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Je.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var nc={merge:function(t,e,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};x.crossOrigin=void 0,x.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var o=new ms;o.setCrossOrigin(this.crossOrigin);var l=o.load(t,n,void 0,r);return e&&(l.mapping=e),l},x.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var o=new ds;o.setCrossOrigin(this.crossOrigin);var l=o.load(t,n,void 0,r);return e&&(l.mapping=e),l},x.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},x.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var rc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"111dev"}})),t.ACESFilmicToneMapping=5,t.AddEquation=100,t.AddOperation=2,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AlwaysStencilFunc=519,t.AmbientLight=qs,t.AmbientLightProbe=gp,t.AnimationClip=$o,t.AnimationLoader=ss,t.AnimationMixer=qp,t.AnimationObjectGroup=Gp,t.AnimationUtils=Ho,t.ArcCurve=fs,t.ArrayCamera=or,t.ArrowHelper=Jl,t.Audio=_p,t.AudioAnalyser=Pp,t.AudioContext=dp,t.AudioListener=Tp,t.AudioLoader=mp,t.AxesHelper=$l,t.AxisHelper=function(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new $l(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new ls(t)},t.Bone=zr,t.BooleanKeyframeTrack=qo,t.BoundingBoxHelper=function(object,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ql(object,t)},t.Box2=el,t.Box3=ut,t.Box3Helper=Xl,t.BoxBufferGeometry=We,t.BoxGeometry=Ge,t.BoxHelper=ql,t.BufferAttribute=$t,t.BufferGeometry=xe,t.BufferGeometryLoader=Js,t.ByteType=1010,t.Cache=es,t.Camera=Qe,t.CameraHelper=Vl,t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},t.CanvasTexture=ua,t.CatmullRomCurve3=ws,t.CineonToneMapping=4,t.CircleBufferGeometry=So,t.CircleGeometry=_o,t.ClampToEdgeWrapping=1001,t.Clock=bp,t.ClosedSplineCurve3=tc,t.Color=Gt,t.ColorKeyframeTrack=Xo,t.CompressedTexture=ha,t.CompressedTextureLoader=ps,t.ConeBufferGeometry=To,t.ConeGeometry=Mo,t.CubeCamera=Je,t.CubeGeometry=Ge,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.CubeTexture=Ei,t.CubeTextureLoader=ds,t.CubeUVReflectionMapping=306,t.CubeUVRefractionMapping=307,t.CubicBezierCurve=Ts,t.CubicBezierCurve3=_s,t.CubicInterpolant=zo,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=hs,t.CurvePath=Ds,t.CustomBlending=5,t.CylinderBufferGeometry=Eo,t.CylinderGeometry=Ao,t.Cylindrical=$p,t.DataTexture=ti,t.DataTexture2DArray=Mi,t.DataTexture3D=Ti,t.DataTextureLoader=ls,t.DecrementStencilOp=7683,t.DecrementWrapStencilOp=34056,t.DefaultLoadingManager=ns,t.DepthFormat=1026,t.DepthStencilFormat=1027,t.DepthTexture=fa,t.DirectionalLight=Ws,t.DirectionalLightHelper=Hl,t.DirectionalLightShadow=Gs,t.DiscreteInterpolant=Go,t.DodecahedronBufferGeometry=Ca,t.DodecahedronGeometry=Sa,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new $t(t,e).setDynamic(!0)},t.DynamicCopyUsage=35050,t.DynamicDrawUsage=35048,t.DynamicReadUsage=35049,t.EdgesGeometry=wo,t.EdgesHelper=function(object,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new na(new wo(object.geometry),new Yr({color:void 0!==t?t:16777215}))},t.EllipseCurve=us,t.EqualDepth=4,t.EqualStencilFunc=514,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.Euler=I,t.EventDispatcher=e,t.ExtrudeBufferGeometry=oo,t.ExtrudeGeometry=ao,t.Face3=Yt,t.Face4=function(a,b,t,e,n,r,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Yt(a,b,t,n,r,o)},t.FaceColors=1,t.FaceNormalsHelper=Bl,t.FileLoader=os,t.FlatShading=1,t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new se(t,e)},t.Float32BufferAttribute=se,t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new pe(t,e)},t.Float64BufferAttribute=pe,t.FloatType=1015,t.Fog=gr,t.FogExp2=fr,t.Font=pp,t.FontLoader=cp,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=0,t.Frustum=ni,t.GammaEncoding=3007,t.Geometry=Ve,t.GeometryUtils=nc,t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GreaterEqualStencilFunc=518,t.GreaterStencilFunc=516,t.GridHelper=Rl,t.Group=ar,t.HalfFloatType=1016,t.HemisphereLight=Ns,t.HemisphereLightHelper=Cl,t.HemisphereLightProbe=fp,t.IcosahedronBufferGeometry=_a,t.IcosahedronGeometry=Ta,t.ImageBitmapLoader=op,t.ImageLoader=cs,t.ImageUtils=x,t.ImmediateRenderObject=al,t.IncrementStencilOp=7682,t.IncrementWrapStencilOp=34055,t.InstancedBufferAttribute=Zs,t.InstancedBufferGeometry=Qs,t.InstancedInterleavedBuffer=Yp,t.InstancedMesh=Xr,t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ne(t,e)},t.Int16BufferAttribute=ne,t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ae(t,e)},t.Int32BufferAttribute=ae,t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new te(t,e)},t.Int8BufferAttribute=te,t.IntType=1013,t.InterleavedBuffer=vr,t.InterleavedBufferAttribute=xr,t.Interpolant=Uo,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.InvertStencilOp=5386,t.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},t.KeepStencilOp=7680,t.KeyframeTrack=Wo,t.LOD=Nr,t.LatheBufferGeometry=vo,t.LatheGeometry=go,t.Layers=B,t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},t.LessDepth=2,t.LessEqualDepth=3,t.LessEqualStencilFunc=515,t.LessStencilFunc=513,t.Light=Bs,t.LightProbe=up,t.LightProbeHelper=Ll,t.LightShadow=Fs,t.Line=ta,t.Line3=rl,t.LineBasicMaterial=Yr,t.LineCurve=Ss,t.LineCurve3=Cs,t.LineDashedMaterial=Fo,t.LineLoop=ra,t.LinePieces=1,t.LineSegments=na,t.LineStrip=0,t.LinearEncoding=3e3,t.LinearFilter=1006,t.LinearInterpolant=Vo,t.LinearMipMapLinearFilter=1008,t.LinearMipMapNearestFilter=1007,t.LinearMipmapLinearFilter=1008,t.LinearMipmapNearestFilter=1007,t.LinearToneMapping=1,t.Loader=rs,t.LoaderUtils=Ks,t.LoadingManager=is,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},t.Material=Qt,t.MaterialLoader=Ys,t.Math=r,t.Matrix3=v,t.Matrix4=P,t.MaxEquation=104,t.Mesh=Be,t.MeshBasicMaterial=Zt,t.MeshDepthMaterial=Qn,t.MeshDistanceMaterial=Zn,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t},t.MeshLambertMaterial=Bo,t.MeshMatcapMaterial=No,t.MeshNormalMaterial=Io,t.MeshPhongMaterial=Do,t.MeshPhysicalMaterial=Po,t.MeshStandardMaterial=ko,t.MeshToonMaterial=Oo,t.MinEquation=103,t.MirroredRepeatWrapping=1002,t.MixOperation=1,t.MultiMaterial=function(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=1003,t.NearestMipMapLinearFilter=1005,t.NearestMipMapNearestFilter=1004,t.NearestMipmapLinearFilter=1005,t.NearestMipmapNearestFilter=1004,t.NeverDepth=0,t.NeverStencilFunc=512,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalBlending=1,t.NotEqualDepth=7,t.NotEqualStencilFunc=517,t.NumberKeyframeTrack=Yo,t.Object3D=Z,t.ObjectLoader=tp,t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=Ma,t.OctahedronGeometry=Ea,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=Vs,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.ParametricBufferGeometry=xa,t.ParametricGeometry=va,t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Dr(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new aa(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ca(t,e)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new aa(t)},t.Path=Os,t.PerspectiveCamera=Ze,t.Plane=Lt,t.PlaneBufferGeometry=di,t.PlaneGeometry=ci,t.PlaneHelper=Yl,t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ca(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new aa(t)},t.PointLight=zs,t.PointLightHelper=El,t.Points=ca,t.PointsMaterial=aa,t.PolarGridHelper=kl,t.PolyhedronBufferGeometry=ba,t.PolyhedronGeometry=ya,t.PositionalAudio=kp,t.PositionalAudioHelper=Pl,t.PropertyBinding=Vp,t.PropertyMixer=Dp,t.QuadraticBezierCurve=Ls,t.QuadraticBezierCurve3=Rs,t.Quaternion=l,t.QuaternionKeyframeTrack=Qo,t.QuaternionLinearInterpolant=Ko,t.REVISION="111dev",t.RGBADepthPacking=3201,t.RGBAFormat=1023,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_PVRTC_2BPPV1_Format=35843,t.RGBA_PVRTC_4BPPV1_Format=35842,t.RGBA_S3TC_DXT1_Format=33777,t.RGBA_S3TC_DXT3_Format=33778,t.RGBA_S3TC_DXT5_Format=33779,t.RGBDEncoding=3006,t.RGBEEncoding=3002,t.RGBEFormat=1023,t.RGBFormat=1022,t.RGBM16Encoding=3005,t.RGBM7Encoding=3004,t.RGB_ETC1_Format=36196,t.RGB_PVRTC_2BPPV1_Format=35841,t.RGB_PVRTC_4BPPV1_Format=35840,t.RGB_S3TC_DXT1_Format=33776,t.RawShaderMaterial=Ro,t.Ray=Tt,t.Raycaster=Kp,t.RectAreaLight=Xs,t.RectAreaLightHelper=Ml,t.RedFormat=1028,t.ReinhardToneMapping=2,t.RepeatWrapping=1e3,t.ReplaceStencilOp=7681,t.ReverseSubtractEquation=102,t.RingBufferGeometry=fo,t.RingGeometry=uo,t.Scene=J,t.SceneUtils=rc,t.ShaderChunk=ri,t.ShaderLib=oi,t.ShaderMaterial=Ke,t.ShadowMaterial=Lo,t.Shape=Is,t.ShapeBufferGeometry=yo,t.ShapeGeometry=xo,t.ShapePath=sp,t.ShapeUtils=io,t.ShortType=1011,t.Skeleton=Ur,t.SkeletonHelper=Al,t.SkinnedMesh=Fr,t.SmoothShading=2,t.Sphere=vt,t.SphereBufferGeometry=ho,t.SphereGeometry=mo,t.Spherical=Jp,t.SphericalHarmonics3=hp,t.SphericalReflectionMapping=305,t.Spline=ic,t.SplineCurve=ks,t.SplineCurve3=ec,t.SpotLight=Hs,t.SpotLightHelper=xl,t.SpotLightShadow=js,t.Sprite=Dr,t.SpriteMaterial=yr,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StaticCopyUsage=35046,t.StaticDrawUsage=35044,t.StaticReadUsage=35045,t.StereoCamera=yp,t.StreamCopyUsage=35042,t.StreamDrawUsage=35040,t.StreamReadUsage=35041,t.StringKeyframeTrack=Zo,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=Aa,t.TetrahedronGeometry=wa,t.TextBufferGeometry=co,t.TextGeometry=lo,t.Texture=w,t.TextureLoader=ms,t.TorusBufferGeometry=Oa,t.TorusGeometry=Da,t.TorusKnotBufferGeometry=Pa,t.TorusKnotGeometry=ka,t.Triangle=Ht,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=Ra,t.TubeGeometry=La,t.UVMapping=300,t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new re(t,e)},t.Uint16BufferAttribute=re,t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new oe(t,e)},t.Uint32BufferAttribute=oe,t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ee(t,e)},t.Uint8BufferAttribute=ee,t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ie(t,e)},t.Uint8ClampedBufferAttribute=ie,t.Uncharted2ToneMapping=3,t.Uniform=Xp,t.UniformsLib=ai,t.UniformsUtils=Ye,t.UnsignedByteType=1009,t.UnsignedInt248Type=1020,t.UnsignedIntType=1014,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=1012,t.VSMShadowMap=3,t.Vector2=o,t.Vector3=m,t.Vector4=A,t.VectorKeyframeTrack=Jo,t.Vertex=function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new m(t,e,n)},t.VertexColors=2,t.VertexNormalsHelper=ml,t.VertexTangentsHelper=gl,t.VideoTexture=ma,t.WebGLMultisampleRenderTarget=M,t.WebGLRenderTarget=E,t.WebGLRenderTargetCube=$e,t.WebGLRenderer=ur,t.WebGLUtils=ir,t.WireframeGeometry=ga,t.WireframeHelper=function(object,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new na(new ga(object.geometry),new Yr({color:void 0!==t?t:16777215}))},t.WrapAroundEnding=2402,t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new os(t)},t.ZeroCurvatureEnding=2400,t.ZeroFactor=200,t.ZeroSlopeEnding=2401,t.ZeroStencilOp=0,t.sRGBEncoding=3001,Object.defineProperty(t,"__esModule",{value:!0})}))},{}],58:[function(t,e,n){THREE.DRACOLoader=function(t){THREE.Loader.call(this,t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}},THREE.DRACOLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.DRACOLoader,setDecoderPath:function(path){return this.decoderPath=path,this},setDecoderConfig:function(t){return this.decoderConfig=t,this},setWorkerLimit:function(t){return this.workerLimit=t,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(t,e,n,r){var o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),o.load(t,t=>{var n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,n).then(e).catch(r)},n,r)},decodeDracoFile:function(t,e,n,r){var o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(t,o).then(e)},decodeGeometry:function(t,e){var n,r=this.workerNextTaskID++,o=t.byteLength;for(var l in e.attributeTypes){var c=e.attributeTypes[l];void 0!==c.BYTES_PER_ELEMENT&&(e.attributeTypes[l]=c.name)}var d=this._getWorker(r,o).then(o=>(n=o,new Promise((o,l)=>{n._callbacks[r]={resolve:o,reject:l},n.postMessage({type:"decode",id:r,taskConfig:e,buffer:t},[t])}))).then(t=>this._createGeometry(t.geometry));return d.finally(()=>{n&&r&&this._releaseTask(n,r)}),d},_createGeometry:function(t){var e=new THREE.BufferGeometry;t.index&&e.setIndex(new THREE.BufferAttribute(t.index.array,1));for(var i=0;i<t.attributes.length;i++){var n=t.attributes[i],r=n.name,o=n.array,l=n.itemSize;e.setAttribute(r,new THREE.BufferAttribute(o,l))}return e},_loadLibrary:function(t,e){var n=new THREE.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),new Promise((e,r)=>{n.load(t,e,void 0,r)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(e=>{var n=e[0];t||(this.decoderConfig.wasmBinary=e[1]);var r=THREE.DRACOLoader.DRACOWorker.toString(),body=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([body]))}),this.decoderPending},_getWorker:function(t,e){return this._initDecoder().then(()=>{var n;return this.workerPool.length<this.workerLimit?((n=new Worker(this.workerSourceURL))._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(t){var e=t.data;switch(e.type){case"decode":n._callbacks[e.id].resolve(e);break;case"error":n._callbacks[e.id].reject(e);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+e.type+'"')}},this.workerPool.push(n)):this.workerPool.sort((function(a,b){return a._taskLoad>b._taskLoad?-1:1})),(n=this.workerPool[this.workerPool.length-1])._taskCosts[t]=e,n._taskLoad+=e,n})},_releaseTask:function(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]},debug:function(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))},dispose:function(){for(var i=0;i<this.workerPool.length;++i)this.workerPool[i].terminate();return this.workerPool.length=0,this}}),THREE.DRACOLoader.DRACOWorker=function(){var t,e;function n(t,e,n,r,o,l){var c,d,m=l.num_components(),h=n.num_points()*m;switch(o){case Float32Array:c=new t.DracoFloat32Array,e.GetAttributeFloatForAllPoints(n,l,c),d=new Float32Array(h);break;case Int8Array:c=new t.DracoInt8Array,e.GetAttributeInt8ForAllPoints(n,l,c),d=new Int8Array(h);break;case Int16Array:c=new t.DracoInt16Array,e.GetAttributeInt16ForAllPoints(n,l,c),d=new Int16Array(h);break;case Int32Array:c=new t.DracoInt32Array,e.GetAttributeInt32ForAllPoints(n,l,c),d=new Int32Array(h);break;case Uint8Array:c=new t.DracoUInt8Array,e.GetAttributeUInt8ForAllPoints(n,l,c),d=new Uint8Array(h);break;case Uint16Array:c=new t.DracoUInt16Array,e.GetAttributeUInt16ForAllPoints(n,l,c),d=new Uint16Array(h);break;case Uint32Array:c=new t.DracoUInt32Array,e.GetAttributeUInt32ForAllPoints(n,l,c),d=new Uint32Array(h);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var i=0;i<h;i++)d[i]=c.GetValue(i);return t.destroy(c),{name:r,array:d,itemSize:m}}onmessage=function(r){var o=r.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":var l=o.buffer,c=o.taskConfig;e.then(t=>{var e=t.draco,r=new e.Decoder,d=new e.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{var m=function(t,e,r,o){var l,c,d=o.attributeIDs,m=o.attributeTypes,h=e.GetEncodedGeometryType(r);if(h===t.TRIANGULAR_MESH)l=new t.Mesh,c=e.DecodeBufferToMesh(r,l);else{if(h!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");l=new t.PointCloud,c=e.DecodeBufferToPointCloud(r,l)}if(!c.ok()||0===l.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+c.error_msg());var f={index:null,attributes:[]};for(var v in d){var x,y,w=self[m[v]];if(o.useUniqueIDs)y=d[v],x=e.GetAttributeByUniqueId(l,y);else{if(-1===(y=e.GetAttributeId(l,t[d[v]])))continue;x=e.GetAttribute(l,y)}f.attributes.push(n(t,e,l,v,w,x))}if(h===t.TRIANGULAR_MESH){for(var A=l.num_faces(),E=new Uint32Array(3*A),M=new t.DracoInt32Array,i=0;i<A;++i){e.GetFaceFromMesh(l,i,M);for(var T=0;T<3;++T)E[3*i+T]=M.GetValue(T)}f.index={array:E,itemSize:1},t.destroy(M)}return t.destroy(l),f}(e,r,d,c),h=m.attributes.map(t=>t.array.buffer);m.index&&h.push(m.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:m},h)}catch(t){console.error(t),self.postMessage({type:"error",id:o.id,error:t.message})}finally{e.destroy(d),e.destroy(r)}})}}},THREE.DRACOLoader.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},THREE.DRACOLoader.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},THREE.DRACOLoader.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},THREE.DRACOLoader.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")}},{}],59:[function(t,e,n){THREE.GLTFLoader=function(){function t(t){THREE.Loader.call(this,t),this.dracoLoader=null,this.ddsLoader=null}function e(){var t={};return{get:function(e){return t[e]},add:function(e,object){t[e]=object},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:t,load:function(t,e,n,r){var o,l=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(t),l.manager.itemStart(t);var c=function(e){r?r(e):console.error(e),l.manager.itemError(t),l.manager.itemEnd(t)},d=new THREE.FileLoader(l.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),"use-credentials"===l.crossOrigin&&d.setWithCredentials(!0),d.load(t,(function(data){try{l.parse(data,o,(function(n){e(n),l.manager.itemEnd(t)}),c)}catch(t){c(t)}}),n,c)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},parse:function(data,path,t,e){var content,d={};if("string"==typeof data)content=data;else if(THREE.LoaderUtils.decodeText(new Uint8Array(data,0,4))===c){try{d[n.KHR_BINARY_GLTF]=new h(data)}catch(t){return void(e&&e(t))}content=d[n.KHR_BINARY_GLTF].content}else content=THREE.LoaderUtils.decodeText(new Uint8Array(data));var m=JSON.parse(content);if(void 0===m.asset||m.asset.version[0]<2)e&&e(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(m.extensionsUsed)for(var i=0;i<m.extensionsUsed.length;++i){var w=m.extensionsUsed[i],A=m.extensionsRequired||[];switch(w){case n.KHR_LIGHTS_PUNCTUAL:d[w]=new o(m);break;case n.KHR_MATERIALS_UNLIT:d[w]=new l;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:d[w]=new x;break;case n.KHR_DRACO_MESH_COMPRESSION:d[w]=new f(m,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:d[w]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:d[w]=new v;break;case n.KHR_MESH_QUANTIZATION:d[w]=new y;break;default:A.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new W(m,d,{path:path||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(t,e)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function o(t){this.name=n.KHR_LIGHTS_PUNCTUAL;var e=t.extensions&&t.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=e.lights||[]}function l(){this.name=n.KHR_MATERIALS_UNLIT}o.prototype.loadLight=function(t){var e,n=this.lightDefs[t],r=new THREE.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var o=void 0!==n.range?n.range:0;switch(n.type){case"directional":(e=new THREE.DirectionalLight(r)).target.position.set(0,0,-1),e.add(e.target);break;case"point":(e=new THREE.PointLight(r)).distance=o;break;case"spot":(e=new THREE.SpotLight(r)).distance=o,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,e.angle=n.spot.outerConeAngle,e.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,e.target.position.set(0,0,-1),e.add(e.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return e.position.set(0,0,0),e.decay=2,void 0!==n.intensity&&(e.intensity=n.intensity),e.name=n.name||"light_"+t,Promise.resolve(e)},l.prototype.getMaterialType=function(){return THREE.MeshBasicMaterial},l.prototype.extendParams=function(t,e,n){var r=[];t.color=new THREE.Color(1,1,1),t.opacity=1;var o=e.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var l=o.baseColorFactor;t.color.fromArray(l),t.opacity=l[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(t,"map",o.baseColorTexture))}return Promise.all(r)};var c="glTF",d=1313821514,m=5130562;function h(data){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(data,0,12);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(data.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==c)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var e=new DataView(data,12),r=0;r<e.byteLength;){var o=e.getUint32(r,!0);r+=4;var l=e.getUint32(r,!0);if(r+=4,l===d){var h=new Uint8Array(data,12+r,o);this.content=THREE.LoaderUtils.decodeText(h)}else if(l===m){var f=12+r;this.body=data.slice(f,f+o)}r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function v(){this.name=n.KHR_TEXTURE_TRANSFORM}function x(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(t,e,n){var r=e.extensions[this.name],o=THREE.ShaderLib.standard,l=THREE.UniformsUtils.clone(o.uniforms),c=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),d=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),m=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),h=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),f=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),v=o.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",c).replace("#include <metalnessmap_pars_fragment>",d).replace("#include <roughnessmap_fragment>",m).replace("#include <metalnessmap_fragment>",h).replace("#include <lights_physical_fragment>",f);delete l.roughness,delete l.metalness,delete l.roughnessMap,delete l.metalnessMap,l.specular={value:(new THREE.Color).setHex(1118481)},l.glossiness={value:.5},l.specularMap={value:null},l.glossinessMap={value:null},t.vertexShader=o.vertexShader,t.fragmentShader=v,t.uniforms=l,t.defines={STANDARD:""},t.color=new THREE.Color(1,1,1),t.opacity=1;var x=[];if(Array.isArray(r.diffuseFactor)){var y=r.diffuseFactor;t.color.fromArray(y),t.opacity=y[3]}if(void 0!==r.diffuseTexture&&x.push(n.assignTexture(t,"map",r.diffuseTexture)),t.emissive=new THREE.Color(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new THREE.Color(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var w=r.specularGlossinessTexture;x.push(n.assignTexture(t,"glossinessMap",w)),x.push(n.assignTexture(t,"specularMap",w))}return Promise.all(x)},createMaterial:function(t){var e=new THREE.ShaderMaterial({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return e.isGLTFSpecularGlossinessMaterial=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e.extensions.derivatives=!0,e},cloneMaterial:function(source){var t=source.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var e=this.specularGlossinessParams,i=0,n=e.length;i<n;i++){var r=source[e[i]];t[e[i]]=r&&r.isColor?r.clone():r}return t},refreshUniforms:function(t,e,n,r,o){if(!0===o.isGLTFSpecularGlossinessMaterial){var l,c=o.uniforms,d=o.defines;c.opacity.value=o.opacity,c.diffuse.value.copy(o.color),c.emissive.value.copy(o.emissive).multiplyScalar(o.emissiveIntensity),c.map.value=o.map,c.specularMap.value=o.specularMap,c.alphaMap.value=o.alphaMap,c.lightMap.value=o.lightMap,c.lightMapIntensity.value=o.lightMapIntensity,c.aoMap.value=o.aoMap,c.aoMapIntensity.value=o.aoMapIntensity,o.map?l=o.map:o.specularMap?l=o.specularMap:o.displacementMap?l=o.displacementMap:o.normalMap?l=o.normalMap:o.bumpMap?l=o.bumpMap:o.glossinessMap?l=o.glossinessMap:o.alphaMap?l=o.alphaMap:o.emissiveMap&&(l=o.emissiveMap),void 0!==l&&(l.isWebGLRenderTarget&&(l=l.texture),!0===l.matrixAutoUpdate&&l.updateMatrix(),c.uvTransform.value.copy(l.matrix)),o.envMap&&(c.envMap.value=o.envMap,c.envMapIntensity.value=o.envMapIntensity,c.flipEnvMap.value=o.envMap.isCubeTexture?-1:1,c.reflectivity.value=o.reflectivity,c.refractionRatio.value=o.refractionRatio,c.maxMipLevel.value=t.properties.get(o.envMap).__maxMipLevel),c.specular.value.copy(o.specular),c.glossiness.value=o.glossiness,c.glossinessMap.value=o.glossinessMap,c.emissiveMap.value=o.emissiveMap,c.bumpMap.value=o.bumpMap,c.normalMap.value=o.normalMap,c.displacementMap.value=o.displacementMap,c.displacementScale.value=o.displacementScale,c.displacementBias.value=o.displacementBias,null!==c.glossinessMap.value&&void 0===d.USE_GLOSSINESSMAP&&(d.USE_GLOSSINESSMAP="",d.USE_ROUGHNESSMAP=""),null===c.glossinessMap.value&&void 0!==d.USE_GLOSSINESSMAP&&(delete d.USE_GLOSSINESSMAP,delete d.USE_ROUGHNESSMAP)}}}}function y(){this.name=n.KHR_MESH_QUANTIZATION}function w(t,e,n,r){THREE.Interpolant.call(this,t,e,n,r)}f.prototype.decodePrimitive=function(t,e){var n=this.json,r=this.dracoLoader,o=t.extensions[this.name].bufferView,l=t.extensions[this.name].attributes,c={},d={},m={};for(var h in l){var f=D[h]||h.toLowerCase();c[f]=l[h]}for(h in t.attributes)if(f=D[h]||h.toLowerCase(),void 0!==l[h]){var v=n.accessors[t.attributes[h]],x=L[v.componentType];m[f]=x,d[f]=!0===v.normalized}return e.getDependency("bufferView",o).then((function(t){return new Promise((function(e){r.decodeDracoFile(t,(function(t){for(var n in t.attributes){var r=t.attributes[n],o=d[n];void 0!==o&&(r.normalized=o)}e(t)}),c,m)}))}))},v.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},w.prototype=Object.create(THREE.Interpolant.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r*3+r,i=0;i!==r;i++)e[i]=n[o+i];return e},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(t,e,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=2*c,m=3*c,td=r-e,p=(n-e)/td,h=p*p,f=h*p,v=t*m,x=v-m,y=-2*f+3*h,w=f-h,A=1-y,E=w-h+p,i=0;i!==c;i++){var M=l[x+i+c],T=l[x+i+d]*td,_=l[v+i+c],S=l[v+i]*td;o[i]=A*M+E*T+y*_+w*S}return o};var A=0,E=1,M=2,T=3,_=4,S=5,C=6,L={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},R={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipmapNearestFilter,9985:THREE.LinearMipmapNearestFilter,9986:THREE.NearestMipmapLinearFilter,9987:THREE.LinearMipmapLinearFilter},k={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},P={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},D={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},O={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},I={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},B="OPAQUE",N="MASK",F="BLEND",j={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function H(t,path){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(path)&&/^\//.test(t)&&(path=path.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:path+t)}function U(t,object,e){for(var n in e.extensions)void 0===t[n]&&(object.userData.gltfExtensions=object.userData.gltfExtensions||{},object.userData.gltfExtensions[n]=e.extensions[n])}function z(object,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(object.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function V(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var i=0,n=e.weights.length;i<n;i++)t.morphTargetInfluences[i]=e.weights[i];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},i=0,n=r.length;i<n;i++)t.morphTargetDictionary[r[i]]=i;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function G(t){for(var e="",n=Object.keys(t).sort(),i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function W(t,n,r){this.json=t||{},this.extensions=n||{},this.options=r||{},this.cache=new e,this.primitiveCache={},this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function X(t,e,n){var r=e.attributes,o=[];function l(e,r){return n.getDependency("accessor",e).then((function(e){t.setAttribute(r,e)}))}for(var c in r){var d=D[c]||c.toLowerCase();d in t.attributes||o.push(l(r[c],d))}if(void 0!==e.indices&&!t.index){var m=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));o.push(m)}return z(t,e),function(t,e,n){var r=e.attributes,o=new THREE.Box3;if(void 0!==r.POSITION){var l=(f=n.json.accessors[r.POSITION]).min,c=f.max;o.set(new THREE.Vector3(l[0],l[1],l[2]),new THREE.Vector3(c[0],c[1],c[2]));var d=e.targets;if(void 0!==d)for(var m=new THREE.Vector3,i=0,h=d.length;i<h;i++){var f,v=d[i];void 0!==v.POSITION&&(l=(f=n.json.accessors[v.POSITION]).min,c=f.max,m.setX(Math.max(Math.abs(l[0]),Math.abs(c[0]))),m.setY(Math.max(Math.abs(l[1]),Math.abs(c[1]))),m.setZ(Math.max(Math.abs(l[2]),Math.abs(c[2]))),o.expandByVector(m))}t.boundingBox=o;var x=new THREE.Sphere;o.getCenter(x.center),x.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=x}}(t,e,n),Promise.all(o).then((function(){return void 0!==e.targets?function(t,e,n){for(var r=!1,o=!1,i=0,l=e.length;i<l&&(void 0!==(m=e[i]).POSITION&&(r=!0),void 0!==m.NORMAL&&(o=!0),!r||!o);i++);if(!r&&!o)return Promise.resolve(t);var c=[],d=[];for(i=0,l=e.length;i<l;i++){var m=e[i];if(r){var h=void 0!==m.POSITION?n.getDependency("accessor",m.POSITION):t.attributes.position;c.push(h)}o&&(h=void 0!==m.NORMAL?n.getDependency("accessor",m.NORMAL):t.attributes.normal,d.push(h))}return Promise.all([Promise.all(c),Promise.all(d)]).then((function(e){var n=e[0],l=e[1];return r&&(t.morphAttributes.position=n),o&&(t.morphAttributes.normal=l),t.morphTargetsRelative=!0,t}))}(t,e.targets,n):t}))}function Y(t,e){var n=t.getIndex();if(null===n){var r=[],o=t.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var i=0;i<o.count;i++)r.push(i);t.setIndex(r),n=t.getIndex()}var l=n.count-2,c=[];if(e===THREE.TriangleFanDrawMode)for(i=1;i<=l;i++)c.push(n.getX(0)),c.push(n.getX(i)),c.push(n.getX(i+1));else for(i=0;i<l;i++)i%2==0?(c.push(n.getX(i)),c.push(n.getX(i+1)),c.push(n.getX(i+2))):(c.push(n.getX(i+2)),c.push(n.getX(i+1)),c.push(n.getX(i)));c.length/3!==l&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var d=t.clone();return d.setIndex(c),d}return W.prototype.parse=function(t,e){var n=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var l={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};U(o,l,r),z(l,r),t(l)})).catch(e)},W.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],r={},o={},l=0,c=e.length;l<c;l++)for(var d=e[l].joints,i=0,m=d.length;i<m;i++)t[d[i]].isBone=!0;for(var h=0,f=t.length;h<f;h++){var v=t[h];void 0!==v.mesh&&(void 0===r[v.mesh]&&(r[v.mesh]=o[v.mesh]=0),r[v.mesh]++,void 0!==v.skin&&(n[v.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=o},W.prototype.getDependency=function(t,e){var r=t+":"+e,o=this.cache.get(r);if(!o){switch(t){case"scene":o=this.loadScene(e);break;case"node":o=this.loadNode(e);break;case"mesh":o=this.loadMesh(e);break;case"accessor":o=this.loadAccessor(e);break;case"bufferView":o=this.loadBufferView(e);break;case"buffer":o=this.loadBuffer(e);break;case"material":o=this.loadMaterial(e);break;case"texture":o=this.loadTexture(e);break;case"skin":o=this.loadSkin(e);break;case"animation":o=this.loadAnimation(e);break;case"camera":o=this.loadCamera(e);break;case"light":o=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(r,o)}return o},W.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this,defs=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(defs.map((function(e,r){return n.getDependency(t,r)}))),this.cache.add(t,e)}return e},W.prototype.loadBuffer=function(t){var e=this.json.buffers[t],r=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(t,n){r.load(H(e.uri,o.path),t,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},W.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var n=e.byteLength||0,r=e.byteOffset||0;return t.slice(r,r+n)}))},W.prototype.loadAccessor=function(t){var e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(t){var o,l,c=t[0],d=P[r.type],m=L[r.componentType],h=m.BYTES_PER_ELEMENT,f=h*d,v=r.byteOffset||0,x=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,y=!0===r.normalized;if(x&&x!==f){var w=Math.floor(v/x),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+w+":"+r.count,E=e.cache.get(A);E||(o=new m(c,w*x,r.count*x/h),E=new THREE.InterleavedBuffer(o,x/h),e.cache.add(A,E)),l=new THREE.InterleavedBufferAttribute(E,d,v%x/h,y)}else o=null===c?new m(r.count*d):new m(c,v,r.count*d),l=new THREE.BufferAttribute(o,d,y);if(void 0!==r.sparse){var M=P.SCALAR,T=L[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,C=new T(t[1],_,r.sparse.count*M),R=new m(t[2],S,r.sparse.count*d);null!==c&&(l=new THREE.BufferAttribute(l.array.slice(),l.itemSize,l.normalized));for(var i=0,k=C.length;i<k;i++){var D=C[i];if(l.setX(D,R[i*d]),d>=2&&l.setY(D,R[i*d+1]),d>=3&&l.setZ(D,R[i*d+2]),d>=4&&l.setW(D,R[i*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return l}))},W.prototype.loadTexture=function(t){var source,e=this,r=this.json,o=this.options,l=this.textureLoader,c=window.URL||window.webkitURL,d=r.textures[t],m=d.extensions||{},h=(source=m[n.MSFT_TEXTURE_DDS]?r.images[m[n.MSFT_TEXTURE_DDS].source]:r.images[d.source]).uri,f=!1;return void 0!==source.bufferView&&(h=e.getDependency("bufferView",source.bufferView).then((function(t){f=!0;var e=new Blob([t],{type:source.mimeType});return h=c.createObjectURL(e)}))),Promise.resolve(h).then((function(t){var r=o.manager.getHandler(t);return r||(r=m[n.MSFT_TEXTURE_DDS]?e.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:l),new Promise((function(e,n){r.load(H(t,o.path),e,void 0,n)}))})).then((function(t){!0===f&&c.revokeObjectURL(h),t.flipY=!1,void 0!==d.name&&(t.name=d.name),source.mimeType in j&&(t.format=j[source.mimeType]);var e=(r.samplers||{})[d.sampler]||{};return t.magFilter=R[e.magFilter]||THREE.LinearFilter,t.minFilter=R[e.minFilter]||THREE.LinearMipmapLinearFilter,t.wrapS=k[e.wrapS]||THREE.RepeatWrapping,t.wrapT=k[e.wrapT]||THREE.RepeatWrapping,t}))},W.prototype.assignTexture=function(t,e,r){var o=this;return this.getDependency("texture",r.index).then((function(l){if(!l.isCompressedTexture)switch(e){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":l.format=THREE.RGBFormat}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===e&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+e+" not yet supported."),o.extensions[n.KHR_TEXTURE_TRANSFORM]){var c=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;c&&(l=o.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(l,c))}t[e]=l}))},W.prototype.assignFinalMaterial=function(t){var e=t.geometry,r=t.material,o=this.extensions,l=void 0!==e.attributes.tangent,c=void 0!==e.attributes.color,d=void 0===e.attributes.normal,m=!0===t.isSkinnedMesh,h=Object.keys(e.morphAttributes).length>0,f=h&&void 0!==e.morphAttributes.normal;if(t.isPoints){var v="PointsMaterial:"+r.uuid,x=this.cache.get(v);x||(x=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(x,r),x.color.copy(r.color),x.map=r.map,x.sizeAttenuation=!1,this.cache.add(v,x)),r=x}else if(t.isLine){v="LineBasicMaterial:"+r.uuid;var y=this.cache.get(v);y||(y=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(y,r),y.color.copy(r.color),this.cache.add(v,y)),r=y}if(l||c||d||m||h){v="ClonedMaterial:"+r.uuid+":",r.isGLTFSpecularGlossinessMaterial&&(v+="specular-glossiness:"),m&&(v+="skinning:"),l&&(v+="vertex-tangents:"),c&&(v+="vertex-colors:"),d&&(v+="flat-shading:"),h&&(v+="morph-targets:"),f&&(v+="morph-normals:");var w=this.cache.get(v);w||(w=r.isGLTFSpecularGlossinessMaterial?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(r):r.clone(),m&&(w.skinning=!0),l&&(w.vertexTangents=!0),c&&(w.vertexColors=THREE.VertexColors),d&&(w.flatShading=!0),h&&(w.morphTargets=!0),f&&(w.morphNormals=!0),this.cache.add(v,w)),r=w}r.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",new THREE.BufferAttribute(e.attributes.uv.array,2)),r.isGLTFSpecularGlossinessMaterial&&(t.onBeforeRender=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),t.material=r},W.prototype.loadMaterial=function(t){var e,r=this.json,o=this.extensions,l=r.materials[t],c={},d=l.extensions||{},m=[];if(d[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=h.getMaterialType(),m.push(h.extendParams(c,l,this))}else if(d[n.KHR_MATERIALS_UNLIT]){var f=o[n.KHR_MATERIALS_UNLIT];e=f.getMaterialType(),m.push(f.extendParams(c,l,this))}else{e=THREE.MeshStandardMaterial;var v=l.pbrMetallicRoughness||{};if(c.color=new THREE.Color(1,1,1),c.opacity=1,Array.isArray(v.baseColorFactor)){var x=v.baseColorFactor;c.color.fromArray(x),c.opacity=x[3]}void 0!==v.baseColorTexture&&m.push(this.assignTexture(c,"map",v.baseColorTexture)),c.metalness=void 0!==v.metallicFactor?v.metallicFactor:1,c.roughness=void 0!==v.roughnessFactor?v.roughnessFactor:1,void 0!==v.metallicRoughnessTexture&&(m.push(this.assignTexture(c,"metalnessMap",v.metallicRoughnessTexture)),m.push(this.assignTexture(c,"roughnessMap",v.metallicRoughnessTexture)))}!0===l.doubleSided&&(c.side=THREE.DoubleSide);var y=l.alphaMode||B;return y===F?c.transparent=!0:(c.transparent=!1,y===N&&(c.alphaTest=void 0!==l.alphaCutoff?l.alphaCutoff:.5)),void 0!==l.normalTexture&&e!==THREE.MeshBasicMaterial&&(m.push(this.assignTexture(c,"normalMap",l.normalTexture)),c.normalScale=new THREE.Vector2(1,1),void 0!==l.normalTexture.scale&&c.normalScale.set(l.normalTexture.scale,l.normalTexture.scale)),void 0!==l.occlusionTexture&&e!==THREE.MeshBasicMaterial&&(m.push(this.assignTexture(c,"aoMap",l.occlusionTexture)),void 0!==l.occlusionTexture.strength&&(c.aoMapIntensity=l.occlusionTexture.strength)),void 0!==l.emissiveFactor&&e!==THREE.MeshBasicMaterial&&(c.emissive=(new THREE.Color).fromArray(l.emissiveFactor)),void 0!==l.emissiveTexture&&e!==THREE.MeshBasicMaterial&&m.push(this.assignTexture(c,"emissiveMap",l.emissiveTexture)),Promise.all(m).then((function(){var t;return t=e===THREE.ShaderMaterial?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new e(c),void 0!==l.name&&(t.name=l.name),t.map&&(t.map.encoding=THREE.sRGBEncoding),t.emissiveMap&&(t.emissiveMap.encoding=THREE.sRGBEncoding),t.specularMap&&(t.specularMap.encoding=THREE.sRGBEncoding),z(t,l),l.extensions&&U(o,t,l),t}))},W.prototype.loadGeometries=function(t){var e=this,r=this.extensions,o=this.primitiveCache;function l(t){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return X(n,t,e)}))}for(var c,d,m=[],i=0,h=t.length;i<h;i++){var f,v=t[i],x=(d=void 0,(d=(c=v).extensions&&c.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+d.bufferView+":"+d.indices+":"+G(d.attributes):c.indices+":"+G(c.attributes)+":"+c.mode),y=o[x];y?m.push(y.promise):(f=v.extensions&&v.extensions[n.KHR_DRACO_MESH_COMPRESSION]?l(v):X(new THREE.BufferGeometry,v,e),o[x]={primitive:v,promise:f},m.push(f))}return Promise.all(m)},W.prototype.loadMesh=function(t){for(var e,n=this,r=this.json.meshes[t],o=r.primitives,l=[],i=0,c=o.length;i<c;i++){var d=void 0===o[i].material?(void 0===(e=this.cache).DefaultMaterial&&(e.DefaultMaterial=new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})),e.DefaultMaterial):this.getDependency("material",o[i].material);l.push(d)}return Promise.all(l).then((function(e){return n.loadGeometries(o).then((function(l){for(var c=[],i=0,d=l.length;i<d;i++){var m,h=l[i],f=o[i],v=e[i];if(f.mode===_||f.mode===S||f.mode===C||void 0===f.mode)!0!==(m=!0===r.isSkinnedMesh?new THREE.SkinnedMesh(h,v):new THREE.Mesh(h,v)).isSkinnedMesh||m.geometry.attributes.skinWeight.normalized||m.normalizeSkinWeights(),f.mode===S?m.geometry=Y(m.geometry,THREE.TriangleStripDrawMode):f.mode===C&&(m.geometry=Y(m.geometry,THREE.TriangleFanDrawMode));else if(f.mode===E)m=new THREE.LineSegments(h,v);else if(f.mode===T)m=new THREE.Line(h,v);else if(f.mode===M)m=new THREE.LineLoop(h,v);else{if(f.mode!==A)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);m=new THREE.Points(h,v)}Object.keys(m.geometry.morphAttributes).length>0&&V(m,r),m.name=r.name||"mesh_"+t,l.length>1&&(m.name+="_"+i),z(m,r),n.assignFinalMaterial(m),c.push(m)}if(1===c.length)return c[0];var x=new THREE.Group;for(i=0,d=c.length;i<d;i++)x.add(c[i]);return x}))}))},W.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new THREE.PerspectiveCamera(THREE.Math.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new THREE.OrthographicCamera(r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(e.name=n.name),z(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},W.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))},W.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],r=[],o=[],l=[],c=[],i=0,d=e.channels.length;i<d;i++){var m=e.channels[i],h=e.samplers[m.sampler],f=m.target,v=void 0!==f.node?f.node:f.id,input=void 0!==e.parameters?e.parameters[h.input]:h.input,output=void 0!==e.parameters?e.parameters[h.output]:h.output;n.push(this.getDependency("node",v)),r.push(this.getDependency("accessor",input)),o.push(this.getDependency("accessor",output)),l.push(h),c.push(f)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(l),Promise.all(c)]).then((function(n){for(var r=n[0],o=n[1],l=n[2],c=n[3],d=n[4],m=[],i=0,h=r.length;i<h;i++){var f=r[i],v=o[i],x=l[i],y=c[i],A=d[i];if(void 0!==f){var E;switch(f.updateMatrix(),f.matrixAutoUpdate=!0,O[A.path]){case O.weights:E=THREE.NumberKeyframeTrack;break;case O.rotation:E=THREE.QuaternionKeyframeTrack;break;case O.position:case O.scale:default:E=THREE.VectorKeyframeTrack}var M=f.name?f.name:f.uuid,T=void 0!==y.interpolation?I[y.interpolation]:THREE.InterpolateLinear,_=[];O[A.path]===O.weights?f.traverse((function(object){!0===object.isMesh&&object.morphTargetInfluences&&_.push(object.name?object.name:object.uuid)})):_.push(M);var S=x.array;if(x.normalized){var C;if(S.constructor===Int8Array)C=1/127;else if(S.constructor===Uint8Array)C=1/255;else if(S.constructor==Int16Array)C=1/32767;else{if(S.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");C=1/65535}for(var L=new Float32Array(S.length),R=0,k=S.length;R<k;R++)L[R]=S[R]*C;S=L}for(R=0,k=_.length;R<k;R++){var track=new E(_[R]+"."+O[A.path],v.array,S,T);"CUBICSPLINE"===y.interpolation&&(track.createInterpolant=function(t){return new w(this.times,this.values,this.getValueSize()/3,t)},track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(track)}}}var P=void 0!==e.name?e.name:"animation_"+t;return new THREE.AnimationClip(P,void 0,m)}))},W.prototype.loadNode=function(t){var e,r=this.json,o=this.extensions,l=this,c=r.meshReferences,d=r.meshUses,m=r.nodes[t];return(e=[],void 0!==m.mesh&&e.push(l.getDependency("mesh",m.mesh).then((function(t){var e;if(c[m.mesh]>1){var n=d[m.mesh]++;(e=t.clone()).name+="_instance_"+n,e.onBeforeRender=t.onBeforeRender;for(var i=0,r=e.children.length;i<r;i++)e.children[i].name+="_instance_"+n,e.children[i].onBeforeRender=t.children[i].onBeforeRender}else e=t;return void 0!==m.weights&&e.traverse((function(t){if(t.isMesh)for(var i=0,e=m.weights.length;i<e;i++)t.morphTargetInfluences[i]=m.weights[i]})),e}))),void 0!==m.camera&&e.push(l.getDependency("camera",m.camera)),m.extensions&&m.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==m.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&e.push(l.getDependency("light",m.extensions[n.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(e)).then((function(t){var e;if((e=!0===m.isBone?new THREE.Bone:t.length>1?new THREE.Group:1===t.length?t[0]:new THREE.Object3D)!==t[0])for(var i=0,n=t.length;i<n;i++)e.add(t[i]);if(void 0!==m.name&&(e.userData.name=m.name,e.name=THREE.PropertyBinding.sanitizeNodeName(m.name)),z(e,m),m.extensions&&U(o,e,m),void 0!==m.matrix){var r=new THREE.Matrix4;r.fromArray(m.matrix),e.applyMatrix(r)}else void 0!==m.translation&&e.position.fromArray(m.translation),void 0!==m.rotation&&e.quaternion.fromArray(m.rotation),void 0!==m.scale&&e.scale.fromArray(m.scale);return e}))},W.prototype.loadScene=function(){function t(e,n,r,o){var l=r.nodes[e];return o.getDependency("node",e).then((function(t){return void 0===l.skin?t:o.getDependency("skin",l.skin).then((function(t){for(var n=[],i=0,r=(e=t).joints.length;i<r;i++)n.push(o.getDependency("node",e.joints[i]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(t.isMesh){for(var r=[],o=[],l=0,c=n.length;l<c;l++){var d=n[l];if(d){r.push(d);var m=new THREE.Matrix4;void 0!==e.inverseBindMatrices&&m.fromArray(e.inverseBindMatrices.array,16*l),o.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[l])}t.bind(new THREE.Skeleton(r,o),t.matrixWorld)}})),t}));var e})).then((function(e){n.add(e);var c=[];if(l.children)for(var d=l.children,i=0,m=d.length;i<m;i++){var h=d[i];c.push(t(h,e,r,o))}return Promise.all(c)}))}return function(e){var n=this.json,r=this.extensions,o=this.json.scenes[e],l=new THREE.Scene;void 0!==o.name&&(l.name=o.name),z(l,o),o.extensions&&U(r,l,o);for(var c=o.nodes||[],d=[],i=0,m=c.length;i<m;i++)d.push(t(c[i],l,n,this));return Promise.all(d).then((function(){return l}))}}(),t}()},{}],60:[function(t,e,n){THREE.MTLLoader=function(t){THREE.Loader.call(this,t)},THREE.MTLLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.MTLLoader,load:function(t,e,n,r){var o=this,path=""===this.path?THREE.LoaderUtils.extractUrlBase(t):this.path,l=new THREE.FileLoader(this.manager);l.setPath(this.path),l.load(t,(function(text){e(o.parse(text,path))}),n,r)},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(text,path){for(var t=text.split("\n"),e={},n=/\s+/,r={},i=0;i<t.length;i++){var line=t[i];if(0!==(line=line.trim()).length&&"#"!==line.charAt(0)){var o=line.indexOf(" "),l=o>=0?line.substring(0,o):line;l=l.toLowerCase();var c=o>=0?line.substring(o+1):"";if(c=c.trim(),"newmtl"===l)e={name:c},r[c]=e;else if("ka"===l||"kd"===l||"ks"===l||"ke"===l){var d=c.split(n,3);e[l]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else e[l]=c}}var m=new THREE.MTLLoader.MaterialCreator(this.resourcePath||path,this.materialOptions);return m.setCrossOrigin(this.crossOrigin),m.setManager(this.manager),m.setMaterials(r),m}}),THREE.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(t){return this.crossOrigin=t,this},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],o={};for(var l in e[n]=o,r){var c=!0,d=r[l],m=l.toLowerCase();switch(m){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(d=[d[0]/255,d[1]/255,d[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===d[0]&&0===d[1]&&0===d[2]&&(c=!1)}c&&(o[m]=d)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,n=this.materialsInfo[t],r={name:t,side:this.side};function o(t,n){if(!r[t]){var o,l,c=e.getTextureParams(n,r),map=e.loadTexture((o=e.baseUrl,"string"!=typeof(l=c.url)||""===l?"":/^https?:\/\//i.test(l)?l:o+l));map.repeat.copy(c.scale),map.offset.copy(c.offset),map.wrapS=e.wrap,map.wrapT=e.wrap,r[t]=map}}for(var l in n){var c,d=n[l];if(""!==d)switch(l.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(d);break;case"ks":r.specular=(new THREE.Color).fromArray(d);break;case"ke":r.emissive=(new THREE.Color).fromArray(d);break;case"map_kd":o("map",d);break;case"map_ks":o("specularMap",d);break;case"map_ke":o("emissiveMap",d);break;case"norm":o("normalMap",d);break;case"map_bump":case"bump":o("bumpMap",d);break;case"map_d":o("alphaMap",d),r.transparent=!0;break;case"ns":r.shininess=parseFloat(d);break;case"d":(c=parseFloat(d))<1&&(r.opacity=c,r.transparent=!0);break;case"tr":c=parseFloat(d),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(r.opacity=1-c,r.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(r),this.materials[t]},getTextureParams:function(t,e){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},o=t.split(/\s+/);return(n=o.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(o[n+1]),o.splice(n,2)),(n=o.indexOf("-s"))>=0&&(r.scale.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),(n=o.indexOf("-o"))>=0&&(r.offset.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),r.url=o.join(" ").trim(),r},loadTexture:function(t,e,n,r,o){var l,c=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager,d=c.getHandler(t);return null===d&&(d=new THREE.TextureLoader(c)),d.setCrossOrigin&&d.setCrossOrigin(this.crossOrigin),l=d.load(t,n,r,o),void 0!==e&&(l.mapping=e),l}}},{}],61:[function(t,e,n){THREE.OBJLoader=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,n=/^usemtl /,r=/^usemap /;function o(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(a,b,t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[a+0],e[a+1],e[a+2]),n.push(e[b+0],e[b+1],e[b+2]),n.push(e[t+0],e[t+1],e[t+2])},addVertexPoint:function(a){var t=this.vertices;this.object.geometry.vertices.push(t[a+0],t[a+1],t[a+2])},addVertexLine:function(a){var t=this.vertices;this.object.geometry.vertices.push(t[a+0],t[a+1],t[a+2])},addNormal:function(a,b,t){var e=this.normals,n=this.object.geometry.normals;n.push(e[a+0],e[a+1],e[a+2]),n.push(e[b+0],e[b+1],e[b+2]),n.push(e[t+0],e[t+1],e[t+2])},addColor:function(a,b,t){var e=this.colors,n=this.object.geometry.colors;n.push(e[a+0],e[a+1],e[a+2]),n.push(e[b+0],e[b+1],e[b+2]),n.push(e[t+0],e[t+1],e[t+2])},addUV:function(a,b,t){var e=this.uvs,n=this.object.geometry.uvs;n.push(e[a+0],e[a+1]),n.push(e[b+0],e[b+1]),n.push(e[t+0],e[t+1])},addUVLine:function(a){var t=this.uvs;this.object.geometry.uvs.push(t[a+0],t[a+1])},addFace:function(a,b,t,e,n,r,o,l,c){var d=this.vertices.length,m=this.parseVertexIndex(a,d),h=this.parseVertexIndex(b,d),f=this.parseVertexIndex(t,d);if(this.addVertex(m,h,f),this.colors.length>0&&this.addColor(m,h,f),void 0!==e&&""!==e){var v=this.uvs.length;m=this.parseUVIndex(e,v),h=this.parseUVIndex(n,v),f=this.parseUVIndex(r,v),this.addUV(m,h,f)}if(void 0!==o&&""!==o){var x=this.normals.length;m=this.parseNormalIndex(o,x),h=o===l?m:this.parseNormalIndex(l,x),f=o===c?m:this.parseNormalIndex(c,x),this.addNormal(m,h,f)}},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,n=0,r=t.length;n<r;n++)this.addVertexPoint(this.parseVertexIndex(t[n],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,o=0,l=t.length;o<l;o++)this.addVertexLine(this.parseVertexIndex(t[o],n));var c=0;for(l=e.length;c<l;c++)this.addUVLine(this.parseUVIndex(e[c],r))}};return t.startObject("",!1),t}function l(t){THREE.Loader.call(this,t),this.materials=null}return l.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:l,load:function(t,e,n,r){var o=this,l=new THREE.FileLoader(o.manager);l.setPath(this.path),l.load(t,(function(text){e(o.parse(text))}),n,r)},setMaterials:function(t){return this.materials=t,this},parse:function(text){console.time("OBJLoader");var l=new o;-1!==text.indexOf("\r\n")&&(text=text.replace(/\r\n/g,"\n")),-1!==text.indexOf("\\\n")&&(text=text.replace(/\\\n/g,""));for(var c=text.split("\n"),line="",d="",m=[],h="function"==typeof"".trimLeft,i=0,f=c.length;i<f;i++)if(line=c[i],0!==(line=h?line.trimLeft():line.trim()).length&&"#"!==(d=line.charAt(0)))if("v"===d){var data=line.split(/\s+/);switch(data[0]){case"v":l.vertices.push(parseFloat(data[1]),parseFloat(data[2]),parseFloat(data[3])),data.length>=7&&l.colors.push(parseFloat(data[4]),parseFloat(data[5]),parseFloat(data[6]));break;case"vn":l.normals.push(parseFloat(data[1]),parseFloat(data[2]),parseFloat(data[3]));break;case"vt":l.uvs.push(parseFloat(data[1]),parseFloat(data[2]))}}else if("f"===d){for(var v=line.substr(1).trim().split(/\s+/),x=[],y=0,w=v.length;y<w;y++){var A=v[y];if(A.length>0){var E=A.split("/");x.push(E)}}var M=x[0];for(y=1,w=x.length-1;y<w;y++){var T=x[y],_=x[y+1];l.addFace(M[0],T[0],_[0],M[1],T[1],_[1],M[2],T[2],_[2])}}else if("l"===d){var S=line.substring(1).trim().split(" "),C=[],L=[];if(-1===line.indexOf("/"))C=S;else for(var li=0,R=S.length;li<R;li++){var k=S[li].split("/");""!==k[0]&&C.push(k[0]),""!==k[1]&&L.push(k[1])}l.addLineGeometry(C,L)}else if("p"===d){var P=line.substr(1).trim().split(" ");l.addPointGeometry(P)}else if(null!==(m=t.exec(line))){var D=(" "+m[0].substr(1).trim()).substr(1);l.startObject(D)}else if(n.test(line))l.object.startMaterial(line.substring(7).trim(),l.materialLibraries);else if(e.test(line))l.materialLibraries.push(line.substring(7).trim());else if(r.test(line))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else{if("s"!==d){if("\0"===line)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+line+'"')}if((m=line.split(" ")).length>1){var O=m[1].trim().toLowerCase();l.object.smooth="0"!==O&&"off"!==O}else l.object.smooth=!0;(Y=l.object.currentMaterial())&&(Y.smooth=l.object.smooth)}l.finalize();var I=new THREE.Group;for(I.materialLibraries=[].concat(l.materialLibraries),i=0,f=l.objects.length;i<f;i++){var object=l.objects[i],B=object.geometry,N=object.materials,F="Line"===B.type,j="Points"===B.type,H=!1;if(0!==B.vertices.length){var U=new THREE.BufferGeometry;U.setAttribute("position",new THREE.Float32BufferAttribute(B.vertices,3)),B.normals.length>0?U.setAttribute("normal",new THREE.Float32BufferAttribute(B.normals,3)):U.computeVertexNormals(),B.colors.length>0&&(H=!0,U.setAttribute("color",new THREE.Float32BufferAttribute(B.colors,3))),B.uvs.length>0&&U.setAttribute("uv",new THREE.Float32BufferAttribute(B.uvs,2));for(var z,V=[],G=0,W=N.length;G<W;G++){var X=N[G],Y=void 0;if(null!==this.materials)if(Y=this.materials.create(X.name),!F||!Y||Y instanceof THREE.LineBasicMaterial){if(j&&Y&&!(Y instanceof THREE.PointsMaterial)){var K=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});THREE.Material.prototype.copy.call(K,Y),K.color.copy(Y.color),K.map=Y.map,Y=K}}else{var Q=new THREE.LineBasicMaterial;THREE.Material.prototype.copy.call(Q,Y),Q.color.copy(Y.color),Y=Q}Y||((Y=F?new THREE.LineBasicMaterial:j?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=X.name),Y.flatShading=!X.smooth,Y.vertexColors=H?THREE.VertexColors:THREE.NoColors,V.push(Y)}if(V.length>1){for(G=0,W=N.length;G<W;G++)X=N[G],U.addGroup(X.groupStart,X.groupCount,G);z=F?new THREE.LineSegments(U,V):j?new THREE.Points(U,V):new THREE.Mesh(U,V)}else z=F?new THREE.LineSegments(U,V[0]):j?new THREE.Points(U,V[0]):new THREE.Mesh(U,V[0]);z.name=object.name,I.add(z)}}return console.timeEnd("OBJLoader"),I}}),l}()},{}],62:[function(t,e,n){var r=t("layout-bmfont-text"),o=t("inherits"),l=t("quad-indices"),c=t("three-buffer-vertex-data"),d=t("object-assign"),m=t("./lib/vertices"),h=t("./lib/utils"),f=THREE.BufferGeometry;function v(t){f.call(this),"string"==typeof t&&(t={text:t}),this._opt=d({},t),t&&this.update(t)}e.exports=function(t){return new v(t)},o(v,f),v.prototype.update=function(t){if("string"==typeof t&&(t={text:t}),!(t=d({},this._opt,t)).font)throw new TypeError("must specify a { font } in options");this.layout=r(t);var e=!1!==t.flipY,n=t.font,o=n.common.scaleW,h=n.common.scaleH,f=this.layout.glyphs.filter((function(glyph){var t=glyph.data;return t.width*t.height>0}));this.visibleGlyphs=f;var v=m.positions(f),x=m.uvs(f,o,h,e),y=l({clockwise:!0,type:"uint16",count:f.length});if(c.index(this,y,1,"uint16"),c.attr(this,"position",v,2),c.attr(this,"uv",x,2),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var w=m.pages(f);c.attr(this,"page",w,1)}},v.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);h.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},v.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,n=this.attributes.position.itemSize;!e||!n||e.length<2?t.makeEmpty():h.computeBox(e,t)}},{"./lib/utils":63,"./lib/vertices":64,inherits:30,"layout-bmfont-text":36,"object-assign":39,"quad-indices":51,"three-buffer-vertex-data":65}],63:[function(t,e,n){var r={min:[0,0],max:[0,0]};function o(t){var e=t.length/2;r.min[0]=t[0],r.min[1]=t[1],r.max[0]=t[0],r.max[1]=t[1];for(var i=0;i<e;i++){var n=t[2*i+0],o=t[2*i+1];r.min[0]=Math.min(n,r.min[0]),r.min[1]=Math.min(o,r.min[1]),r.max[0]=Math.max(n,r.max[0]),r.max[1]=Math.max(o,r.max[1])}}e.exports.computeBox=function(t,output){o(t),output.min.set(r.min[0],r.min[1],0),output.max.set(r.max[0],r.max[1],0)},e.exports.computeSphere=function(t,output){o(t);var e=r.min[0],n=r.min[1],l=r.max[0]-e,c=r.max[1]-n,d=Math.sqrt(l*l+c*c);output.center.set(e+l/2,n+c/2,0),output.radius=d/2}},{}],64:[function(t,e,n){e.exports.pages=function(t){var e=new Float32Array(4*t.length*1),i=0;return t.forEach((function(glyph){var t=glyph.data.page||0;e[i++]=t,e[i++]=t,e[i++]=t,e[i++]=t})),e},e.exports.uvs=function(t,e,n,r){var o=new Float32Array(4*t.length*2),i=0;return t.forEach((function(glyph){var t=glyph.data,l=t.x+t.width,c=t.y+t.height,d=t.x/e,m=t.y/n,h=l/e,f=c/n;r&&(m=(n-t.y)/n,f=(n-c)/n),o[i++]=d,o[i++]=m,o[i++]=d,o[i++]=f,o[i++]=h,o[i++]=f,o[i++]=h,o[i++]=m})),o},e.exports.positions=function(t){var e=new Float32Array(4*t.length*2),i=0;return t.forEach((function(glyph){var t=glyph.data,n=glyph.position[0]+t.xoffset,r=glyph.position[1]+t.yoffset,o=t.width,l=t.height;e[i++]=n,e[i++]=r,e[i++]=n,e[i++]=r+l,e[i++]=n+o,e[i++]=r+l,e[i++]=n+o,e[i++]=r})),e}},{}],65:[function(t,e,n){var r=t("flatten-vertex-data");function o(t,data,e,n){return data=r(data=data||[],n),(t=new THREE.BufferAttribute(data,e)).itemSize=e,t.needsUpdate=!0,t}e.exports.attr=function(t,e,data,n,r){if("number"!=typeof n&&(n=3),"string"!=typeof r&&(r="float32"),Array.isArray(data)&&Array.isArray(data[0])&&data[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+data[0].length);var l=o(t.getAttribute(e),data,n,r);t.setAttribute(e,l)},e.exports.index=function(t,data,e,n){"number"!=typeof e&&(e=1),"string"!=typeof n&&(n="uint16");var r=!t.index&&"function"!=typeof t.setIndex,l=o(r?t.getAttribute("index"):t.index,data,e,n);l&&(r?t.addAttribute("index",l):t.index=l)}},{"flatten-vertex-data":23}],66:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,d={},m=0;function h(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=m++,r=!(arguments.length<2)&&c.call(arguments,1);return d[e]=!0,o((function(){d[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete d[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":49,timers:66}],67:[function(t,e,r){(function(t){!function(t,n){"object"==typeof r&&void 0!==e?e.exports=n():t.WebVRPolyfill=n()}(this,(function(){"use strict";var e,n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},r=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},o=function(source,t){for(var i=0,e=source.length;i<e;i++)t[i]=source[i]},l=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},c=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t,e,r,o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done)&&(e.push(l.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(a,b,t){return a+(b-a)*t},d=function(){var t=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return t}}(),m=function(){var t=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return t}}(),h=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),function(){var t=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return t}}()),f=(e=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),r=e?parseInt(e[1],10):null,function(){return r}),v=function(){var t=!1;if(65===f()){var e=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(e){var n=e[1].split("."),r=l(n,4),o=(r[0],r[1],r[2]),c=r[3];t=3325===parseInt(o,10)&&parseInt(c,10)<148}}return function(){return t}}(),x=function(){var t=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return t}}(),y=function(){var t=90==window.orientation||-90==window.orientation;return x()?!t:t},w=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},A=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},E=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},M=function(t,e,n,r){var o=t.createShader(t.VERTEX_SHADER);t.shaderSource(o,e),t.compileShader(o);var l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,n),t.compileShader(l);var c=t.createProgram();for(var d in t.attachShader(c,o),t.attachShader(c,l),r)t.bindAttribLocation(c,r[d],d);return t.linkProgram(c),t.deleteShader(o),t.deleteShader(l),c},T=function(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o="",i=0;i<r;i++)n[o=t.getActiveUniform(e,i).name.replace("[0]","")]=t.getUniformLocation(e,o);return n},_=function(){var a,t=!1;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(t=!0),t},S=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},C=function(canvas){if(d()){var t=canvas.style.width,e=canvas.style.height;canvas.style.width=parseInt(t)+1+"px",canvas.style.height=parseInt(e)+"px",setTimeout((function(){canvas.style.width=t,canvas.style.height=e}),100)}window.canvas=canvas},L=function(){var t=Math.PI/180,e=.25*Math.PI,n=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);function o(o,view,l,c,d,m){!function(n,r,o,l){var c=Math.tan(r?r.upDegrees*t:e),d=Math.tan(r?r.downDegrees*t:e),m=Math.tan(r?r.leftDegrees*t:e),h=Math.tan(r?r.rightDegrees*t:e),f=2/(m+h),v=2/(c+d);n[0]=f,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=v,n[6]=0,n[7]=0,n[8]=-(m-h)*f*.5,n[9]=(c-d)*v*.5,n[10]=l/(o-l),n[11]=-1,n[12]=0,n[13]=0,n[14]=l*o/(o-l),n[15]=0}(o,c||null,m.depthNear,m.depthFar);var h,q,f,v,x,y,w,A,E,M,T,_,S,C,L,R,k,P,D,O=l.orientation||n,I=l.position||r;h=view,f=I,v=(q=O)[0],x=q[1],y=q[2],w=q[3],T=v*(A=v+v),_=v*(E=x+x),S=v*(M=y+y),C=x*E,L=x*M,R=y*M,k=w*A,P=w*E,D=w*M,h[0]=1-(C+R),h[1]=_+D,h[2]=S-P,h[3]=0,h[4]=_-D,h[5]=1-(T+R),h[6]=L+k,h[7]=0,h[8]=S+P,h[9]=L-k,h[10]=1-(T+C),h[11]=0,h[12]=f[0],h[13]=f[1],h[14]=f[2],h[15]=1,d&&function(t,a,e){var n,r,o,l,c,d,m,h,f,v,x,y,w=e[0],A=e[1],E=e[2];a===t?(t[12]=a[0]*w+a[4]*A+a[8]*E+a[12],t[13]=a[1]*w+a[5]*A+a[9]*E+a[13],t[14]=a[2]*w+a[6]*A+a[10]*E+a[14],t[15]=a[3]*w+a[7]*A+a[11]*E+a[15]):(n=a[0],r=a[1],o=a[2],l=a[3],c=a[4],d=a[5],m=a[6],h=a[7],f=a[8],v=a[9],x=a[10],y=a[11],t[0]=n,t[1]=r,t[2]=o,t[3]=l,t[4]=c,t[5]=d,t[6]=m,t[7]=h,t[8]=f,t[9]=v,t[10]=x,t[11]=y,t[12]=n*w+c*A+f*E+a[12],t[13]=r*w+d*A+v*E+a[13],t[14]=o*w+m*A+x*E+a[14],t[15]=l*w+h*A+y*E+a[15])}(view,view,d),function(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],d=a[6],m=a[7],h=a[8],f=a[9],v=a[10],x=a[11],y=a[12],w=a[13],A=a[14],E=a[15],M=e*c-n*l,T=e*d-r*l,_=e*m-o*l,S=n*d-r*c,C=n*m-o*c,L=r*m-o*d,R=h*w-f*y,k=h*A-v*y,P=h*E-x*y,D=f*A-v*w,O=f*E-x*w,I=v*E-x*A,B=M*I-T*O+_*D+S*P-C*k+L*R;B&&(B=1/B,t[0]=(c*I-d*O+m*D)*B,t[1]=(r*O-n*I-o*D)*B,t[2]=(w*L-A*C+E*S)*B,t[3]=(v*C-f*L-x*S)*B,t[4]=(d*P-l*I-m*k)*B,t[5]=(e*I-r*P+o*k)*B,t[6]=(A*_-y*L-E*T)*B,t[7]=(h*L-v*_+x*T)*B,t[8]=(l*O-c*P+m*R)*B,t[9]=(n*P-e*O-o*R)*B,t[10]=(y*C-w*_+E*M)*B,t[11]=(f*_-h*C-x*M)*B,t[12]=(c*k-l*D-d*R)*B,t[13]=(e*D-n*k+r*R)*B,t[14]=(w*T-y*S-A*M)*B,t[15]=(h*S-f*T+v*M)*B)}(view,view)}return function(t,e,n){return!(!t||!e||(t.pose=e,t.timestamp=e.timestamp,o(t.leftProjectionMatrix,t.leftViewMatrix,e,n._getFieldOfView("left"),n._getEyeOffset("left"),n),o(t.rightProjectionMatrix,t.rightViewMatrix,e,n._getFieldOfView("right"),n._getEyeOffset("right"),n),0))}}(),R=function(t){var e,n=t.indexOf("://");e=-1!==n?n+3:0;var r=t.indexOf("/",e);return-1===r&&(r=t.length),t.substring(0,r)},k=(t={},function(e,n){void 0===t[e]&&(console.warn("webvr-polyfill: "+n),t[e]=!0)}),P=function(t,e){k(t,t+" has been deprecated. This may not work on native WebVR displays. "+(e?"Please use "+e+" instead.":""))},D=function(t,e,n){if(e){for(var r=[],o=null,i=0;i<e.length;++i)switch(l=e[i]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((d=e[++i])<t.TEXTURE0||d>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}o||(o=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(d),r.push(t.getParameter(l),null);break;case t.ACTIVE_TEXTURE:o=t.getParameter(t.ACTIVE_TEXTURE),r.push(null);break;default:r.push(t.getParameter(l))}for(n(t),i=0;i<e.length;++i){var l=e[i],c=r[i];switch(l){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,c);break;case t.COLOR_CLEAR_VALUE:t.clearColor(c[0],c[1],c[2],c[3]);break;case t.COLOR_WRITEMASK:t.colorMask(c[0],c[1],c[2],c[3]);break;case t.CURRENT_PROGRAM:t.useProgram(c);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,c);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,c);break;case t.TEXTURE_BINDING_2D:if((d=e[++i])<t.TEXTURE0||d>t.TEXTURE31)break;t.activeTexture(d),t.bindTexture(t.TEXTURE_2D,c);break;case t.TEXTURE_BINDING_CUBE_MAP:var d;if((d=e[++i])<t.TEXTURE0||d>t.TEXTURE31)break;t.activeTexture(d),t.bindTexture(t.TEXTURE_CUBE_MAP,c);break;case t.VIEWPORT:t.viewport(c[0],c[1],c[2],c[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:c?t.enable(l):t.disable(l);break;default:console.log("No GL restore behavior for 0x"+l.toString(16))}o&&t.activeTexture(o)}}else n(t)},O=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),I=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function B(t,e,n,r){this.gl=t,this.cardboardUI=e,this.bufferScale=n,this.dirtySubmitFrameBindings=r,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,d()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=M(t,O,I,this.attribs),this.uniforms=T(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}B.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},B.prototype.onResize=function(){var t=this.gl,e=this,n=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];D(t,n,(function(t){e.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),e.scissorTest&&e.realDisable.call(t,t.SCISSOR_TEST),e.realColorMask.call(t,!0,!0,!0,!0),e.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),e.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.framebuffer),t.bindTexture(t.TEXTURE_2D,e.renderTarget),t.texImage2D(t.TEXTURE_2D,0,e.ctxAttribs.alpha?t.RGBA:t.RGB,e.bufferWidth,e.bufferHeight,0,e.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.renderTarget,0),e.ctxAttribs.depth&&e.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,e.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.bufferWidth,e.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e.depthStencilBuffer)):e.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.bufferWidth,e.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer)):e.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,e.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,e.bufferWidth,e.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,e.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.lastBoundFramebuffer),e.scissorTest&&e.realEnable.call(t,t.SCISSOR_TEST),e.realColorMask.apply(t,e.colorMask),e.realViewport.apply(t,e.viewport),e.realClearColor.apply(t,e.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},B.prototype.patch=function(){if(!this.isPatched){var t=this,canvas=this.gl.canvas,e=this.gl;d()||(canvas.width=w()*this.bufferScale,canvas.height=A()*this.bufferScale,Object.defineProperty(canvas,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(e){t.bufferWidth=e,t.realCanvasWidth.set.call(canvas,e),t.onResize()}}),Object.defineProperty(canvas,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(e){t.bufferHeight=e,t.realCanvasHeight.set.call(canvas,e),t.onResize()}})),this.lastBoundFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(n,r){t.lastBoundFramebuffer=r||t.framebuffer,t.realBindFramebuffer.call(e,n,t.lastBoundFramebuffer)},this.cullFace=e.getParameter(e.CULL_FACE),this.depthTest=e.getParameter(e.DEPTH_TEST),this.blend=e.getParameter(e.BLEND),this.scissorTest=e.getParameter(e.SCISSOR_TEST),this.stencilTest=e.getParameter(e.STENCIL_TEST),e.enable=function(n){switch(n){case e.CULL_FACE:t.cullFace=!0;break;case e.DEPTH_TEST:t.depthTest=!0;break;case e.BLEND:t.blend=!0;break;case e.SCISSOR_TEST:t.scissorTest=!0;break;case e.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(e,n)},e.disable=function(n){switch(n){case e.CULL_FACE:t.cullFace=!1;break;case e.DEPTH_TEST:t.depthTest=!1;break;case e.BLEND:t.blend=!1;break;case e.SCISSOR_TEST:t.scissorTest=!1;break;case e.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(e,n)},this.colorMask=e.getParameter(e.COLOR_WRITEMASK),e.colorMask=function(n,g,b,a){t.colorMask[0]=n,t.colorMask[1]=g,t.colorMask[2]=b,t.colorMask[3]=a,t.realColorMask.call(e,n,g,b,a)},this.clearColor=e.getParameter(e.COLOR_CLEAR_VALUE),e.clearColor=function(n,g,b,a){t.clearColor[0]=n,t.clearColor[1]=g,t.clearColor[2]=b,t.clearColor[3]=a,t.realClearColor.call(e,n,g,b,a)},this.viewport=e.getParameter(e.VIEWPORT),e.viewport=function(n,r,o,l){t.viewport[0]=n,t.viewport[1]=r,t.viewport[2]=o,t.viewport[3]=l,t.realViewport.call(e,n,r,o,l)},this.isPatched=!0,C(canvas)}},B.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,canvas=this.gl.canvas;d()||(Object.defineProperty(canvas,"width",this.realCanvasWidth),Object.defineProperty(canvas,"height",this.realCanvasHeight)),canvas.width=this.bufferWidth,canvas.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,setTimeout((function(){C(canvas)}),1)}},B.prototype.setTextureBounds=function(t,e){t||(t=[0,0,.5,1]),e||(e=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=e[0],this.viewportOffsetScale[5]=e[1],this.viewportOffsetScale[6]=e[2],this.viewportOffsetScale[7]=e[3]},B.prototype.submitFrame=function(){var t=this.gl,e=this,n=[];if(this.dirtySubmitFrameBindings||n.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),D(t,n,(function(t){e.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),e.cullFace&&e.realDisable.call(t,t.CULL_FACE),e.depthTest&&e.realDisable.call(t,t.DEPTH_TEST),e.blend&&e.realDisable.call(t,t.BLEND),e.scissorTest&&e.realDisable.call(t,t.SCISSOR_TEST),e.stencilTest&&e.realDisable.call(t,t.STENCIL_TEST),e.realColorMask.call(t,!0,!0,!0,!0),e.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(e.ctxAttribs.alpha||d())&&(e.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(e.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.enableVertexAttribArray(e.attribs.position),t.enableVertexAttribArray(e.attribs.texCoord),t.vertexAttribPointer(e.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(e.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(e.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,e.renderTarget),t.uniform4fv(e.uniforms.viewportOffsetScale,e.viewportOffsetScale),t.drawElements(t.TRIANGLES,e.indexCount,t.UNSIGNED_SHORT,0),e.cardboardUI&&e.cardboardUI.renderNoState(),e.realBindFramebuffer.call(e.gl,t.FRAMEBUFFER,e.framebuffer),e.ctxAttribs.preserveDrawingBuffer||(e.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),e.dirtySubmitFrameBindings||e.realBindFramebuffer.call(t,t.FRAMEBUFFER,e.lastBoundFramebuffer),e.cullFace&&e.realEnable.call(t,t.CULL_FACE),e.depthTest&&e.realEnable.call(t,t.DEPTH_TEST),e.blend&&e.realEnable.call(t,t.BLEND),e.scissorTest&&e.realEnable.call(t,t.SCISSOR_TEST),e.stencilTest&&e.realEnable.call(t,t.STENCIL_TEST),e.realColorMask.apply(t,e.colorMask),e.realViewport.apply(t,e.viewport),!e.ctxAttribs.alpha&&e.ctxAttribs.preserveDrawingBuffer||e.realClearColor.apply(t,e.clearColor)})),d()){var canvas=t.canvas;canvas.width==e.bufferWidth&&canvas.height==e.bufferHeight||(e.bufferWidth=canvas.width,e.bufferHeight=canvas.height,e.onResize())}},B.prototype.updateDeviceInfo=function(t){var e=this.gl,n=this,r=[e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING];D(e,r,(function(e){var r=n.computeMeshVertices_(n.meshWidth,n.meshHeight,t);if(e.bindBuffer(e.ARRAY_BUFFER,n.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),!n.indexCount){var o=n.computeMeshIndices_(n.meshWidth,n.meshHeight);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,o,e.STATIC_DRAW),n.indexCount=o.length}}))},B.prototype.computeMeshVertices_=function(t,e,n){for(var r=new Float32Array(2*t*e*5),o=n.getLeftEyeVisibleTanAngles(),l=n.getLeftEyeNoLensTanAngles(),d=n.getLeftEyeVisibleScreenRect(l),m=0,h=0;h<2;h++){for(var f=0;f<e;f++)for(var i=0;i<t;i++,m++){var u=i/(t-1),v=f/(e-1),s=u,x=v,y=c(o[0],o[2],u),w=c(o[3],o[1],v),A=Math.sqrt(y*y+w*w),E=n.distortion.distortInverse(A),q=w*E/A;u=(y*E/A-l[0])/(l[2]-l[0]),v=(q-l[3])/(l[1]-l[3]),u=2*(d.x+u*d.width-.5),v=2*(d.y+v*d.height-.5),r[5*m+0]=u,r[5*m+1]=v,r[5*m+2]=s,r[5*m+3]=x,r[5*m+4]=h}var M=o[2]-o[0];o[0]=-(M+o[0]),o[2]=M-o[2],M=l[2]-l[0],l[0]=-(M+l[0]),l[2]=M-l[2],d.x=1-(d.x+d.width)}return r},B.prototype.computeMeshIndices_=function(t,e){for(var n=new Uint16Array(2*(t-1)*(e-1)*6),r=t/2,o=e/2,l=0,c=0,d=0;d<2;d++)for(var m=0;m<e;m++)for(var i=0;i<t;i++,l++)0!=i&&0!=m&&(i<=r==m<=o?(n[c++]=l,n[c++]=l-t-1,n[c++]=l-t,n[c++]=l-t-1,n[c++]=l,n[c++]=l-1):(n[c++]=l-1,n[c++]=l-t,n[c++]=l,n[c++]=l-t,n[c++]=l-1,n[c++]=l-t-1));return n},B.prototype.getOwnPropertyDescriptor_=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(e)},n.set=function(t){this.setAttribute(e,t)}),n};var N=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),F=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),j=Math.PI/180;function H(t){this.gl=t,this.attribs={position:0},this.program=M(t,N,F,this.attribs),this.uniforms=T(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function U(t){this.coefficients=t}H.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},H.prototype.listen=function(t,e){var canvas=this.gl.canvas;this.listener=function(n){var r=canvas.clientWidth/2;n.clientX>r-42&&n.clientX<r+42&&n.clientY>canvas.clientHeight-42?t(n):n.clientX<42&&n.clientY<42&&e(n)},canvas.addEventListener("click",this.listener,!1)},H.prototype.onResize=function(){var t=this.gl,e=this,n=[t.ARRAY_BUFFER_BINDING];D(t,n,(function(t){var n=[],r=t.drawingBufferWidth/2,o=Math.max(screen.width,screen.height)*window.devicePixelRatio,l=t.drawingBufferWidth/o*window.devicePixelRatio,c=4*l/2,d=42*l,m=28*l/2,h=14*l;function f(t,e){var o=(90-t)*j,l=Math.cos(o),c=Math.sin(o);n.push(.3125*l*m+r,.3125*c*m+m),n.push(e*l*m+r,e*c*m+m)}n.push(r-c,d),n.push(r-c,t.drawingBufferHeight),n.push(r+c,d),n.push(r+c,t.drawingBufferHeight),e.gearOffset=n.length/2;for(var i=0;i<=6;i++){var v=60*i;f(v,1),f(v+12,1),f(v+20,.75),f(v+40,.75),f(v+48,1)}function x(e,r){n.push(h+e,t.drawingBufferHeight-h-r)}e.gearVertexCount=n.length/2-e.gearOffset,e.arrowOffset=n.length/2;var y=c/Math.sin(45*j);x(0,m),x(m,0),x(m+y,y),x(y,m+y),x(y,m-y),x(0,m),x(m,2*m),x(m+y,2*m-y),x(y,m-y),x(0,m),x(y,m-c),x(28*l,m-c),x(y,m+c),x(28*l,m+c),e.arrowVertexCount=n.length/2-e.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)}))},H.prototype.render=function(){var t=this.gl,e=this,n=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];D(t,n,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),e.renderNoState()}))},H.prototype.renderNoState=function(){var t,e,n,r,o,l,c,d,m,h,f=this.gl;f.useProgram(this.program),f.bindBuffer(f.ARRAY_BUFFER,this.vertexBuffer),f.enableVertexAttribArray(this.attribs.position),f.vertexAttribPointer(this.attribs.position,2,f.FLOAT,!1,8,0),f.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,e=0,n=f.drawingBufferWidth,r=0,o=f.drawingBufferHeight,d=1/(e-n),m=1/(r-o),h=1/((l=.1)-(c=1024)),t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*d,t[13]=(o+r)*m,t[14]=(c+l)*h,t[15]=1,f.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),f.drawArrays(f.TRIANGLE_STRIP,0,4),f.drawArrays(f.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),f.drawArrays(f.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},U.prototype.distortInverse=function(t){for(var e=0,n=1,r=t-this.distort(e);Math.abs(n-e)>1e-4;){var o=t-this.distort(n),l=n-o*((n-e)/(o-r));e=n,n=l,r=o}return n},U.prototype.distort=function(t){for(var e=t*t,n=0,i=0;i<this.coefficients.length;i++)n=e*(n+this.coefficients[i]);return(n+1)*t};var z=Math.PI/180,V=180/Math.PI,G=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0};G.prototype={constructor:G,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var e=1/t;this.multiplyScalar(e)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(q){var t=this.x,e=this.y,n=this.z,r=q.x,o=q.y,l=q.z,c=q.w,d=c*t+o*n-l*e,m=c*e+l*t-r*n,h=c*n+r*e-o*t,f=-r*t-o*e-l*n;return this.x=d*c+f*-r+m*-l-h*-o,this.y=m*c+f*-o+h*-r-d*-l,this.z=h*c+f*-l+d*-o-m*-r,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(a,b){var t=a.x,e=a.y,n=a.z,r=b.x,o=b.y,l=b.z;return this.x=e*l-n*o,this.y=n*r-t*l,this.z=t*o-e*r,this}};var W,X,Y=function(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1};function K(t){this.width=t.width||w(),this.height=t.height||A(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}Y.prototype={constructor:Y,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,e,n){var r=Math.cos(t/2),o=Math.cos(e/2),l=Math.cos(n/2),c=Math.sin(t/2),d=Math.sin(e/2),m=Math.sin(n/2);return this.x=c*o*l+r*d*m,this.y=r*d*l-c*o*m,this.z=r*o*m+c*d*l,this.w=r*o*l-c*d*m,this},setFromEulerYXZ:function(t,e,n){var r=Math.cos(t/2),o=Math.cos(e/2),l=Math.cos(n/2),c=Math.sin(t/2),d=Math.sin(e/2),m=Math.sin(n/2);return this.x=c*o*l+r*d*m,this.y=r*d*l-c*o*m,this.z=r*o*m-c*d*l,this.w=r*o*l+c*d*m,this},setFromAxisAngle:function(t,e){var n=e/2,s=Math.sin(n);return this.x=t.x*s,this.y=t.y*s,this.z=t.z*s,this.w=Math.cos(n),this},multiply:function(q){return this.multiplyQuaternions(this,q)},multiplyQuaternions:function(a,b){var t=a.x,e=a.y,n=a.z,r=a.w,o=b.x,l=b.y,c=b.z,d=b.w;return this.x=t*d+r*o+e*c-n*l,this.y=e*d+r*l+n*o-t*c,this.z=n*d+r*c+t*l-e*o,this.w=r*d-t*o-e*l-n*c,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this.x,r=this.y,o=this.z,l=this.w,c=l*t.w+n*t.x+r*t.y+o*t.z;if(c<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,c=-c):this.copy(t),c>=1)return this.w=l,this.x=n,this.y=r,this.z=o,this;var d=Math.acos(c),m=Math.sqrt(1-c*c);if(Math.abs(m)<.001)return this.w=.5*(l+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(o+this.z),this;var h=Math.sin((1-e)*d)/m,f=Math.sin(e*d)/m;return this.w=l*h+this.w*f,this.x=n*h+this.x*f,this.y=r*h+this.y*f,this.z=o*h+this.z*f,this},setFromUnitVectors:function(t,e){return void 0===W&&(W=new G),(X=t.dot(e)+1)<1e-6?(X=0,Math.abs(t.x)>Math.abs(t.z)?W.set(-t.y,t.x,0):W.set(0,-t.z,t.y)):W.crossVectors(t,e),this.x=W.x,this.y=W.y,this.z=W.z,this.w=X,this.normalize(),this}};var Q=new K({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Z=new K({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),J={CardboardV1:new tt({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new tt({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function $(t,e){this.viewer=J.CardboardV2,this.updateDeviceParams(t),this.distortion=new U(this.viewer.distortionCoefficients);for(var i=0;i<e.length;i++){var n=e[i];J[n.id]=new tt(n)}}function tt(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}$.prototype.updateDeviceParams=function(t){this.device=this.determineDevice_(t)||this.device},$.prototype.getDevice=function(){return this.device},$.prototype.setViewer=function(t){this.viewer=t,this.distortion=new U(this.viewer.distortionCoefficients)},$.prototype.determineDevice_=function(t){if(!t)return d()?(console.warn("Using fallback iOS device measurements."),Z):(console.warn("Using fallback Android device measurements."),Q);var e=.0254/t.xdpi,n=.0254/t.ydpi;return new K({widthMeters:e*w(),heightMeters:n*A(),bevelMeters:.001*t.bevelMm})},$.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,e=this.device,n=this.distortion,r=t.screenLensDistance,o=(e.widthMeters-t.interLensDistance)/2,l=t.interLensDistance/2,c=t.baselineLensDistance-e.bevelMeters,d=e.heightMeters-c,m=V*Math.atan(n.distort(o/r)),h=V*Math.atan(n.distort(l/r)),f=V*Math.atan(n.distort(c/r)),v=V*Math.atan(n.distort(d/r));return{leftDegrees:Math.min(m,t.fov),rightDegrees:Math.min(h,t.fov),downDegrees:Math.min(f,t.fov),upDegrees:Math.min(v,t.fov)}},$.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,e=this.device,n=this.distortion,r=Math.tan(-z*t.fov),o=Math.tan(z*t.fov),l=Math.tan(z*t.fov),c=Math.tan(-z*t.fov),d=e.widthMeters/4,m=e.heightMeters/2,h=t.baselineLensDistance-e.bevelMeters-m,f=t.interLensDistance/2-d,v=-h,x=t.screenLensDistance,y=n.distort((f-d)/x),w=n.distort((v+m)/x),A=n.distort((f+d)/x),E=n.distort((v-m)/x),M=new Float32Array(4);return M[0]=Math.max(r,y),M[1]=Math.min(o,w),M[2]=Math.min(l,A),M[3]=Math.max(c,E),M},$.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,e=this.device,n=this.distortion,r=new Float32Array(4),o=n.distortInverse(Math.tan(-z*t.fov)),l=n.distortInverse(Math.tan(z*t.fov)),c=n.distortInverse(Math.tan(z*t.fov)),d=n.distortInverse(Math.tan(-z*t.fov)),m=e.widthMeters/4,h=e.heightMeters/2,f=t.baselineLensDistance-e.bevelMeters-h,v=t.interLensDistance/2-m,x=-f,y=t.screenLensDistance,w=(v-m)/y,A=(x+h)/y,E=(v+m)/y,M=(x-h)/y;return r[0]=Math.max(o,w),r[1]=Math.min(l,A),r[2]=Math.min(c,E),r[3]=Math.max(d,M),r},$.prototype.getLeftEyeVisibleScreenRect=function(t){var e=this.viewer,n=this.device,r=e.screenLensDistance,o=(n.widthMeters-e.interLensDistance)/2,l=e.baselineLensDistance-n.bevelMeters,c=(t[0]*r+o)/n.widthMeters,d=(t[1]*r+l)/n.heightMeters,m=(t[2]*r+o)/n.widthMeters,h=(t[3]*r+l)/n.heightMeters;return{x:c,y:h,width:m-c,height:d-h}},$.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},$.prototype.getFieldOfViewRightEye=function(t){var e=this.getFieldOfViewLeftEye(t);return{leftDegrees:e.rightDegrees,rightDegrees:e.leftDegrees,upDegrees:e.upDegrees,downDegrees:e.downDegrees}},$.prototype.getUndistortedFieldOfViewLeftEye=function(){var p=this.getUndistortedParams_();return{leftDegrees:V*Math.atan(p.outerDist),rightDegrees:V*Math.atan(p.innerDist),downDegrees:V*Math.atan(p.bottomDist),upDegrees:V*Math.atan(p.topDist)}},$.prototype.getUndistortedViewportLeftEye=function(){var p=this.getUndistortedParams_(),t=this.viewer,e=this.device,n=t.screenLensDistance,r=e.widthMeters/n,o=e.heightMeters/n,l=e.width/r,c=e.height/o,d=Math.round((p.eyePosX-p.outerDist)*l),m=Math.round((p.eyePosY-p.bottomDist)*c);return{x:d,y:m,width:Math.round((p.eyePosX+p.innerDist)*l)-d,height:Math.round((p.eyePosY+p.topDist)*c)-m}},$.prototype.getUndistortedParams_=function(){var t=this.viewer,e=this.device,n=this.distortion,r=t.screenLensDistance,o=t.interLensDistance/2/r,l=e.widthMeters/r,c=e.heightMeters/r,d=l/2-o,m=(t.baselineLensDistance-e.bevelMeters)/r,h=t.fov,f=n.distortInverse(Math.tan(z*h)),v=Math.min(d,f),x=Math.min(o,f),y=Math.min(m,f);return{outerDist:v,innerDist:x,topDist:Math.min(c-m,f),bottomDist:y,eyePosX:d,eyePosY:m}},$.Viewers=J;var et={format:1,last_updated:"2018-12-10T17:01:42Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function it(t,e){if(this.dpdb=et,this.recalculateDeviceParams_(),t){this.onDeviceParamsUpdated=e;var n=new XMLHttpRequest,r=this;n.open("GET",t,!0),n.addEventListener("load",(function(){r.loading=!1,n.status>=200&&n.status<=299?(r.dpdb=JSON.parse(n.response),r.recalculateDeviceParams_()):console.error("Error loading online DPDB!")})),n.send()}}function nt(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function at(t,e){this.set(t,e)}function ot(t,e){this.kFilter=t,this.isDebug=e,this.currentAccelMeasurement=new at,this.currentGyroMeasurement=new at,this.previousGyroMeasurement=new at,d()?this.filterQ=new Y(-1,0,0,1):this.filterQ=new Y(1,0,0,1),this.previousFilterQ=new Y,this.previousFilterQ.copy(this.filterQ),this.accelQ=new Y,this.isOrientationInitialized=!1,this.estimatedGravity=new G,this.measuredGravity=new G,this.gyroIntegralQ=new Y}function st(t,e){this.predictionTimeS=t,this.isDebug=e,this.previousQ=new Y,this.previousTimestampS=null,this.deltaQ=new Y,this.outQ=new Y}function pt(t,e,n,r){this.yawOnly=n,this.accelerometer=new G,this.gyroscope=new G,this.filter=new ot(t,r),this.posePredictor=new st(e,r),this.isFirefoxAndroid=h(),this.isIOS=d();var o=f();this.isDeviceMotionInRadians=!this.isIOS&&o&&o<66,this.isWithoutDeviceMotion=v(),this.filterToWorldQ=new Y,d()?this.filterToWorldQ.setFromAxisAngle(new G(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new G(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new Y,this.worldToScreenQ=new Y,this.originalPoseAdjustQ=new Y,this.originalPoseAdjustQ.setFromAxisAngle(new G(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),y()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new Y,this.orientationOut_=new Float32Array(4),this.start()}it.prototype.getDeviceParams=function(){return this.deviceParams},it.prototype.recalculateDeviceParams_=function(){var t=this.calcDeviceParams_();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},it.prototype.calcDeviceParams_=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var e=navigator.userAgent||navigator.vendor||window.opera,n=w(),r=A();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var i=0;i<t.devices.length;i++){var o=t.devices[i];if(o.rules)if("ios"==o.type||"android"==o.type){if(d()==("ios"==o.type)){for(var l=!1,c=0;c<o.rules.length;c++){var m=o.rules[c];if(this.ruleMatches_(m,e,n,r)){l=!0;break}}if(l)return new nt({xdpi:o.dpi[0]||o.dpi,ydpi:o.dpi[1]||o.dpi,bevelMm:o.bw})}}else console.warn("Device["+i+"] has invalid type.");else console.warn("Device["+i+"] has no rules section.")}return console.warn("No DPDB device match."),null},it.prototype.ruleMatches_=function(t,e,n,r){if(!t.ua&&!t.res)return!1;if(t.ua&&"SM"===t.ua.substring(0,2)&&(t.ua=t.ua.substring(0,7)),t.ua&&e.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var o=t.res[0],l=t.res[1];if(Math.min(n,r)!=Math.min(o,l)||Math.max(n,r)!=Math.max(o,l))return!1}return!0},at.prototype.set=function(t,e){this.sample=t,this.timestampS=e},at.prototype.copy=function(t){this.set(t.sample,t.timestampS)},ot.prototype.addAccelMeasurement=function(t,e){this.currentAccelMeasurement.set(t,e)},ot.prototype.addGyroMeasurement=function(t,e){this.currentGyroMeasurement.set(t,e);var n,r=e-this.previousGyroMeasurement.timestampS;n=r,isNaN(n)||n<=.001||n>1||this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ot.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,e=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(e),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(e);var n=new Y;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r,o=new Y;o.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),o.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",V*((r=o).w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(r.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var l=new Y;l.copy(this.filterQ),l.multiply(o),this.filterQ.slerp(l,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ot.prototype.getOrientation=function(){return this.filterQ},ot.prototype.accelToQuaternion_=function(t){var e=new G;e.copy(t),e.normalize();var n=new Y;return n.setFromUnitVectors(new G(0,0,-1),e),n.inverse(),n},ot.prototype.gyroToQuaternionDelta_=function(t,dt){var e=new Y,n=new G;return n.copy(t),n.normalize(),e.setFromAxisAngle(n,t.length()*dt),e},st.prototype.getPrediction=function(t,e,n){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=n,t;var r=new G;r.copy(e),r.normalize();var o=e.length();if(o<20*z)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(V*o).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var l=o*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,l),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=n,this.outQ},pt.prototype.getPosition=function(){return null},pt.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(e=(new Y).setFromAxisAngle(new G(0,0,-1),0),n=new Y,-90===window.orientation?n.setFromAxisAngle(new G(0,1,0),Math.PI/-2):n.setFromAxisAngle(new G(0,1,0),Math.PI/2),e.multiply(n)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((q=new Y).setFromAxisAngle(new G(1,0,0),-Math.PI/2),q),t=this._deviceOrientationQ,(r=new Y).copy(t),r.multiply(this.deviceOrientationFilterToWorldQ),r.multiply(this.resetQ),r.multiply(this.worldToScreenQ),r.multiplyQuaternions(this.deviceOrientationFixQ,r),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.orientationOut_[0]=r.x,this.orientationOut_[1]=r.y,this.orientationOut_[2]=r.z,this.orientationOut_[3]=r.w,this.orientationOut_;var q,e,n,r,o=this.filter.getOrientation();return t=this.posePredictor.getPrediction(o,this.gyroscope,this.previousTimestampS),(r=new Y).copy(this.filterToWorldQ),r.multiply(this.resetQ),r.multiply(t),r.multiply(this.worldToScreenQ),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.orientationOut_[0]=r.x,this.orientationOut_[1]=r.y,this.orientationOut_[2]=r.z,this.orientationOut_[3]=r.w,this.orientationOut_},pt.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),y()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},pt.prototype.onDeviceOrientation_=function(t){this._deviceOrientationQ=this._deviceOrientationQ||new Y;var e=t.alpha,n=t.beta,r=t.gamma;e=(e||0)*Math.PI/180,n=(n||0)*Math.PI/180,r=(r||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(n,e,-r)},pt.prototype.onDeviceMotion_=function(t){this.updateDeviceMotion_(t)},pt.prototype.updateDeviceMotion_=function(t){var e=t.accelerationIncludingGravity,n=t.rotationRate,r=t.timeStamp/1e3,o=r-this.previousTimestampS;return o<0?(k("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):o<=.001||o>1?(k("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-e.x,-e.y,-e.z),x()?this.gyroscope.set(-n.beta,n.alpha,n.gamma):this.gyroscope.set(n.alpha,n.beta,n.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},pt.prototype.onOrientationChange_=function(t){this.setScreenTransform_()},pt.prototype.onMessage_=function(t){var e=t.data;e&&e.type&&"devicemotion"===e.type.toLowerCase()&&this.updateDeviceMotion_(e.deviceMotionEvent)},pt.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new G(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new G(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},pt.prototype.start=function(){var t,e,n;this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),d()&&(t=window.self!==window.top,e=R(document.referrer),n=R(window.location.href),t&&e!==n)&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},pt.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var lt=new G(1,0,0),ct=new G(0,0,1),mt=new Y;mt.setFromAxisAngle(lt,-Math.PI/2),mt.multiply((new Y).setFromAxisAngle(ct,Math.PI/2));var ht=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new Y,this._outQ=new Y,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return o(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new pt(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var q=this.sensor.quaternion;this._sensorQ.set(q[0],q[1],q[2],q[3]);var t=this._outQ;return t.copy(mt),t.multiply(this._sensorQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),t}();function ut(){this.loadIcon_();var t=document.createElement("div");(s=t.style).position="fixed",s.top=0,s.right=0,s.bottom=0,s.left=0,s.backgroundColor="gray",s.fontFamily="sans-serif",s.zIndex=1e6;var img=document.createElement("img");img.src=this.icon,(s=img.style).marginLeft="25%",s.marginTop="25%",s.width="50%",t.appendChild(img);var text=document.createElement("div");(s=text.style).textAlign="center",s.fontSize="16px",s.lineHeight="24px",s.margin="24px 25%",s.width="50%",text.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(text);var e=document.createElement("div");(s=e.style).backgroundColor="#CFD8DC",s.position="fixed",s.bottom=0,s.width="100%",s.height="48px",s.padding="14px 24px",s.boxSizing="border-box",s.color="#656A6B",t.appendChild(e);var n=document.createElement("div");n.style.float="left",n.innerHTML="No Cardboard viewer?";var s,r=document.createElement("a");r.href="https://www.google.com/get/cardboard/get-cardboard/",r.innerHTML="get one",r.target="_blank",(s=r.style).float="right",s.fontWeight=600,s.textTransform="uppercase",s.borderLeft="1px solid gray",s.paddingLeft="24px",s.textDecoration="none",s.color="#656A6B",e.appendChild(n),e.appendChild(r),this.overlay=t,this.text=text,this.hide()}function ft(t){try{this.selectedKey=localStorage.getItem("WEBVR_CARDBOARD_VIEWER")}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=t||"CardboardV1"),this.dialog=this.createDialog_($.Viewers),this.root=null,this.onChangeCallbacks_=[]}ut.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var s=this.overlay.querySelector("img").style;y()?(s.width="20%",s.marginLeft="40%",s.marginTop="3%"):(s.width="50%",s.marginLeft="25%",s.marginTop="25%")},ut.prototype.hide=function(){this.overlay.style.display="none"},ut.prototype.showTemporarily=function(t,e){this.show(e),this.timer=setTimeout(this.hide.bind(this),t)},ut.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},ut.prototype.update=function(){this.disableShowTemporarily(),!y()&&_()?this.show():this.hide()},ut.prototype.loadIcon_=function(){this.icon="data:image/svg+xml,"+encodeURIComponent("<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>")},ft.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},ft.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},ft.prototype.getCurrentViewer=function(){return $.Viewers[this.selectedKey]},ft.prototype.getSelectedKey_=function(){var input=this.dialog.querySelector("input[name=field]:checked");return input?input.id:null},ft.prototype.onChange=function(t){this.onChangeCallbacks_.push(t)},ft.prototype.fireOnChange_=function(t){for(var i=0;i<this.onChangeCallbacks_.length;i++)this.onChangeCallbacks_[i](t)},ft.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&$.Viewers[this.selectedKey]){this.fireOnChange_($.Viewers[this.selectedKey]);try{localStorage.setItem("WEBVR_CARDBOARD_VIEWER",this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},ft.prototype.createDialog_=function(t){var e=document.createElement("div");e.classList.add("webvr-polyfill-viewer-selector"),e.style.display="none";var n=document.createElement("div");(s=n.style).position="fixed",s.left=0,s.top=0,s.width="100%",s.height="100%",s.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var dialog=document.createElement("div"),s=dialog.style;for(var r in s.boxSizing="border-box",s.position="fixed",s.top="24px",s.left="50%",s.marginLeft="-140px",s.width="280px",s.padding="24px",s.overflow="hidden",s.background="#fafafa",s.fontFamily="'Roboto', sans-serif",s.boxShadow="0px 5px 20px #666",dialog.appendChild(this.createH1_("Select your viewer")),t)dialog.appendChild(this.createChoice_(r,t[r].label));return dialog.appendChild(this.createButton_("Save",this.onSave_.bind(this))),e.appendChild(n),e.appendChild(dialog),e},ft.prototype.createH1_=function(t){var h1=document.createElement("h1"),s=h1.style;return s.color="black",s.fontSize="20px",s.fontWeight="bold",s.marginTop=0,s.marginBottom="24px",h1.innerHTML=t,h1},ft.prototype.createChoice_=function(t,e){var div=document.createElement("div");div.style.marginTop="8px",div.style.color="black";var input=document.createElement("input");input.style.fontSize="30px",input.setAttribute("id",t),input.setAttribute("type","radio"),input.setAttribute("value",t),input.setAttribute("name","field");var label=document.createElement("label");return label.style.marginLeft="4px",label.setAttribute("for",t),label.innerHTML=e,div.appendChild(input),div.appendChild(label),div},ft.prototype.createButton_=function(label,t){var button=document.createElement("button");button.innerHTML=label;var s=button.style;return s.float="right",s.textTransform="uppercase",s.color="#1094f7",s.fontSize="14px",s.letterSpacing=0,s.border=0,s.background="none",s.marginTop="16px",button.addEventListener("click",t),button},"undefined"!=typeof window?window:void 0!==n||"undefined"!=typeof self&&self;var gt,vt=(gt=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){!function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s=0)}([function(t,e,n){var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),l="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",o),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return r(t,[{key:"enable",value:function(){l?(this.disable(),this.noSleepTimer=window.setInterval((function(){window.location.href="/",window.setTimeout(window.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){l?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=c},function(t,e,n){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])}))})))&&gt.__esModule&&Object.prototype.hasOwnProperty.call(gt,"default")?gt.default:gt,xt=1e3,yt=[0,0,.5,1],bt=[.5,0,.5,1],wt=window.requestAnimationFrame,At=window.cancelAnimationFrame;function Et(t){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return P("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function Mt(t){var e=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=xt++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return P("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Et({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,e&&_()&&(this.wakelock_=new vt)}Mt.prototype.getFrameData=function(t){return L(t,this._getPose(),this)},Mt.prototype.getPose=function(){return P("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Mt.prototype.resetPose=function(){return P("VRDisplay.prototype.resetPose"),this._resetPose()},Mt.prototype.getImmediatePose=function(){return P("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Mt.prototype.requestAnimationFrame=function(t){return wt(t)},Mt.prototype.cancelAnimationFrame=function(t){return At(t)},Mt.prototype.wrapForFullscreen=function(element){if(d())return element;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==element)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=element,this.originalParent_=element.parentElement,this.originalParent_||document.body.appendChild(element),!this.fullscreenWrapper_.parentElement){var e=this.fullscreenElement_.parentElement;e.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),e.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var n=this;return function(){if(n.fullscreenElement_){var t=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];n.fullscreenElement_.setAttribute("style",t.join("; ")+";")}}(),this.fullscreenWrapper_},Mt.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var element=this.fullscreenElement_;this.fullscreenElementCachedStyle_?element.setAttribute("style",this.fullscreenElementCachedStyle_):element.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(element),this.originalParent_===t?t.insertBefore(element,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(element),t.removeChild(this.fullscreenWrapper_),element}},Mt.prototype.requestPresent=function(t){var e=this.isPresenting,n=this;return t instanceof Array||(P("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new Promise((function(r,o){if(n.capabilities.canPresent)if(0==t.length||t.length>n.capabilities.maxLayers)o(new Error("Invalid number of layers."));else{var l=t[0];if(l.source){var c=l.leftBounds||yt,h=l.rightBounds||bt;if(e){var f=n.layer_;f.source!==l.source&&(f.source=l.source);for(var i=0;i<4;i++)f.leftBounds[i]=c[i],f.rightBounds[i]=h[i];return n.wrapForFullscreen(n.layer_.source),n.updatePresent_(),void r()}if(n.layer_={predistorted:l.predistorted,source:l.source,leftBounds:c.slice(0),rightBounds:h.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var v=n.wrapForFullscreen(n.layer_.source);n.addFullscreenListeners_(v,(function(){var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;n.isPresenting=v===t,n.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),n.waitingForPresent_=!1,n.beginPresent_(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.removeFullscreenWrapper(),n.disableWakeLock(),n.endPresent_(),n.removeFullscreenListeners_()),n.fireVRDisplayPresentChange_()}),(function(){n.waitingForPresent_&&(n.removeFullscreenWrapper(),n.removeFullscreenListeners_(),n.disableWakeLock(),n.waitingForPresent_=!1,n.isPresenting=!1,o(new Error("Unable to present.")))})),function(element){if(m())return!1;if(element.requestFullscreen)element.requestFullscreen();else if(element.webkitRequestFullscreen)element.webkitRequestFullscreen();else if(element.mozRequestFullScreen)element.mozRequestFullScreen();else{if(!element.msRequestFullscreen)return!1;element.msRequestFullscreen()}return!0}(v)?(n.enableWakeLock(),n.waitingForPresent_=!0):(d()||m())&&(n.enableWakeLock(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),r())}n.waitingForPresent_||d()||(E(),o(new Error("Unable to present.")))}else r()}else o(new Error("VRDisplay is not capable of presenting."))}))},Mt.prototype.exitPresent=function(){var t=this.isPresenting,e=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise((function(n,r){t?(!E()&&d()&&(e.endPresent_(),e.fireVRDisplayPresentChange_()),m()&&(e.removeFullscreenWrapper(),e.removeFullscreenListeners_(),e.endPresent_(),e.fireVRDisplayPresentChange_()),n()):r(new Error("Was not presenting to VRDisplay."))}))},Mt.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Mt.prototype.fireVRDisplayPresentChange_=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(t)},Mt.prototype.fireVRDisplayConnect_=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(t)},Mt.prototype.addFullscreenListeners_=function(element,t,e){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=element,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=e,t&&(document.fullscreenEnabled?element.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?element.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&element.addEventListener("msfullscreenchange",t,!1)),e&&(document.fullscreenEnabled?element.addEventListener("fullscreenerror",e,!1):document.webkitFullscreenEnabled?element.addEventListener("webkitfullscreenerror",e,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",e,!1):document.msFullscreenEnabled&&element.addEventListener("msfullscreenerror",e,!1))},Mt.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var element=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;element.removeEventListener("fullscreenchange",t,!1),element.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),element.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var e=this.fullscreenErrorHandler_;element.removeEventListener("fullscreenerror",e,!1),element.removeEventListener("webkitfullscreenerror",e,!1),document.removeEventListener("mozfullscreenerror",e,!1),element.removeEventListener("msfullscreenerror",e,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Mt.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Mt.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Mt.prototype.beginPresent_=function(){},Mt.prototype.endPresent_=function(){},Mt.prototype.submitFrame=function(t){},Mt.prototype.getEyeParameters=function(t){return null};var Tt={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},_t="left",St="right";function Ct(t){var e=S({},Tt);t=S(e,t||{}),Mt.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new Et({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new ht(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new it(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new $(this.dpdb_.getDeviceParams(),t.ADDITIONAL_VIEWERS),this.viewerSelector_=new ft(t.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new ut),d()&&window.addEventListener("resize",this.onResize_.bind(this))}return Ct.prototype=Object.create(Mt.prototype),Ct.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Ct.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Ct.prototype._getFieldOfView=function(t){var e;if(t==_t)e=this.deviceInfo_.getFieldOfViewLeftEye();else{if(t!=St)return console.error("Invalid eye provided: %s",t),null;e=this.deviceInfo_.getFieldOfViewRightEye()}return e},Ct.prototype._getEyeOffset=function(t){var e;if(t==_t)e=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(t!=St)return console.error("Invalid eye provided: %s",t),null;e=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return e},Ct.prototype.getEyeParameters=function(t){var e=this._getEyeOffset(t),n=this._getFieldOfView(t),r={offset:e,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return P("VRFieldOfView","VRFrameData's projection matrices"),n}}),r},Ct.prototype.onDeviceParamsUpdated_=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(t),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Ct.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Ct.prototype.beginPresent_=function(){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2")),t&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=w()*this.bufferScale_,t.canvas.height=A()*this.bufferScale_,this.cardboardUI_=new H(t)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new H(t)),this.distorter_=new B(t,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(t){this.viewerSelector_.show(this.layer_.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.rotateInstructions_&&(y()&&_()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Ct.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Ct.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Ct.prototype.submitFrame=function(t){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var canvas=this.layer_.source.getContext("webgl").canvas;canvas.width==this.lastWidth&&canvas.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=canvas.width,this.lastHeight=canvas.height,this.cardboardUI_.render()}},Ct.prototype.onOrientationChange_=function(t){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Ct.prototype.onResize_=function(t){if(this.layer_){var e=this.layer_.source.getContext("webgl");e.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),C(e.canvas)}},Ct.prototype.onViewerChanged_=function(t){this.deviceInfo_.setViewer(t),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Ct.prototype.fireVRDisplayDeviceParamsChange_=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(t)},Ct.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},Ct.VRDisplay=Mt,Ct}()})),d=(e=c)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,m={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function h(t){this.config=l(l({},m),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&r())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].fireVRDisplayConnect_&&t[0].fireVRDisplayConnect_()})))}h.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(r()){var t=new d({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},h.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,e=new this.native.VRFrameData,n=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(r){r instanceof t?n.call(this,r):(n.call(this,e),r.pose=e.pose,o(e.leftProjectionMatrix,r.leftProjectionMatrix),o(e.rightProjectionMatrix,r.rightProjectionMatrix),o(e.leftViewMatrix,r.leftViewMatrix),o(e.rightViewMatrix,r.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=d.VRDisplay,window.VRFrameData=d.VRFrameData},h.prototype.getVRDisplays=function(){var t=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then((function(e){return e.length>0?e:t.getPolyfillDisplays()})):Promise.resolve(this.getPolyfillDisplays())},h.version="0.10.10",h.VRFrameData=d.VRFrameData,h.VRDisplay=d.VRDisplay;var f=Object.freeze({default:h}),v=f&&h||f;return void 0!==n&&n.window&&(n.document||(n.document=n.window.document),n.navigator||(n.navigator=n.window.navigator)),v}))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(t,e,n){var r=/\n/,o=/\s/;function l(text,t,e,n){var r=text.indexOf(t,e);return-1===r||r>n?n:r}function c(t){return o.test(t)}function d(text,t,e,n){return{start:t,end:t+Math.min(n,e-t)}}e.exports=function(text,t){return e.exports.lines(text,t).map((function(line){return text.substring(line.start,line.end)})).join("\n")},e.exports.lines=function(text,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];text=text||"";var e="number"==typeof t.width?t.width:Number.MAX_VALUE,n=Math.max(0,t.start||0),o="number"==typeof t.end?t.end:text.length,m=t.mode,h=t.measure||d;return"pre"===m?function(t,text,e,n,o){for(var l=[],c=e,i=e;i<n&&i<text.length;i++){var d=text.charAt(i),m=r.test(d);if(m||i===n-1){var h=t(text,c,m?i:i+1,o);l.push(h),c=i+1}}return l}(h,text,n,o,e):function(t,text,e,n,r,o){var d=[],m=r;for("nowrap"===o&&(m=Number.MAX_VALUE);e<n&&e<text.length;){for(var h=l(text,"\n",e,n);e<h&&c(text.charAt(e));)e++;var f=t(text,e,h,m),v=e+(f.end-f.start),x=v+"\n".length;if(v<h){for(;v>e&&!c(text.charAt(v));)v--;if(v===e)x>e+"\n".length&&x--,v=x;else for(x=v;v>e&&c(text.charAt(v-"\n".length));)v--}if(v>=e){var y=t(text,e,v,m);d.push(y)}e=x}return d}(h,text,n,o,e,m)}},{}],69:[function(t,e,n){"use strict";var r=t("global/window"),o=t("is-function"),l=t("parse-headers"),c=t("xtend");function d(t,e,n){var r=t;return o(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=c(e,{uri:t}),r.callback=n,r}function m(t,e,n){return h(e=d(t,e,n))}function h(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,r,body){e||(e=!0,t.callback(n,r,body))};function r(){var body=void 0;if(body=f.response?f.response:f.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(f),E)try{body=JSON.parse(body)}catch(t){}return body}function o(t){return clearTimeout(v),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,M)}function c(){if(!h){var e;clearTimeout(v),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var o=M,c=null;return 0!==e?(o={body:r(),statusCode:e,method:y,headers:{},url:x,rawRequest:f},f.getAllResponseHeaders&&(o.headers=l(f.getAllResponseHeaders()))):c=new Error("Internal XMLHttpRequest Error"),n(c,o,o.body)}}var d,h,f=t.xhr||null;f||(f=t.cors||t.useXDR?new m.XDomainRequest:new m.XMLHttpRequest);var v,x=f.url=t.uri||t.url,y=f.method=t.method||"GET",body=t.body||t.data,w=f.headers=t.headers||{},A=!!t.sync,E=!1,M={body:void 0,headers:{},statusCode:0,method:y,url:x,rawRequest:f};if("json"in t&&!1!==t.json&&(E=!0,w.accept||w.Accept||(w.Accept="application/json"),"GET"!==y&&"HEAD"!==y&&(w["content-type"]||w["Content-Type"]||(w["Content-Type"]="application/json"),body=JSON.stringify(!0===t.json?body:t.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(c,0)},f.onload=c,f.onerror=o,f.onprogress=function(){},f.onabort=function(){h=!0},f.ontimeout=o,f.open(y,x,!A,t.username,t.password),A||(f.withCredentials=!!t.withCredentials),!A&&t.timeout>0&&(v=setTimeout((function(){if(!h){h=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),f.setRequestHeader)for(d in w)w.hasOwnProperty(d)&&f.setRequestHeader(d,w[d]);else if(t.headers&&!function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(body||null),f}e.exports=m,e.exports.default=m,m.XMLHttpRequest=r.XMLHttpRequest||function(){},m.XDomainRequest="withCredentials"in new m.XMLHttpRequest?m.XMLHttpRequest:r.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],(function(t){m["delete"===t?"del":t]=function(e,n,r){return(n=d(e,n,r)).method=t.toUpperCase(),h(n)}}))},{"global/window":27,"is-function":33,"parse-headers":47,xtend:71}],70:[function(t,e,n){e.exports=void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var div=document.createElement("div");return div.innerHTML=t,div}},{}],71:[function(t,e,n){e.exports=function(){for(var t={},i=0;i<arguments.length;i++){var source=arguments[i];for(var e in source)r.call(source,e)&&(t[e]=source[e])}return t};var r=Object.prototype.hasOwnProperty},{}],72:[function(t,e,n){e.exports={name:"aframe",version:"1.0.0",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"shx mkdir -p build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js",docs:"markserv --dir docs --port 9001",preghpages:"node ./scripts/preghpages.js",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy","lint:fix":"semistandard --fix",precommit:"npm run lint",prepush:"node scripts/testOnlyCheck.js",prerelease:"node scripts/release.js 0.9.2 1.0.0",start:"npm run dev","start:https":"cross-env SSL=true npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},repository:"aframevr/aframe",license:"MIT",files:["dist/*","docs/**/*","src/**/*","vendor/**/*"],dependencies:{"custom-event-polyfill":"^1.0.6",debug:"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7f3744be954574caf3072a5fd260ca90","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.111.4","three-bmfont-text":"dmarcos/three-bmfont-text#1babdf8507","webvr-polyfill":"^0.10.10"},devDependencies:{browserify:"^13.1.0","browserify-css":"^0.8.4","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^5.0.1",envify:"^3.4.1",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",jsdom:"^9.11.0",karma:"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.2.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4",lolex:"^1.5.1",markserv:"github:sukima/markserv#feature/fix-broken-websoketio-link",minifyify:"^7.3.3",mocha:"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3",semistandard:"^9.0.0",shelljs:"^0.7.7",shx:"^0.2.2",sinon:"^1.17.5","sinon-chai":"2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],73:[function(t,e,n){var r=t("super-animejs"),o=t("../core/component").components,l=t("../core/component").registerComponent,c=t("../lib/three"),d=t("../utils"),m=new c.Color,h=new c.Color,f=d.entity.getComponentProperty,v=d.entity.setComponentProperty,x={};function y(t){t.x=c.Math.degToRad(t.x),t.y=c.Math.degToRad(t.y),t.z=c.Math.degToRad(t.z)}function w(t,e,n){var i;for(i=0;i<e.length;i++)t.addEventListener(e[i],n)}function A(t,e,n){var i;for(i=0;i<e.length;i++)t.removeEventListener(e[i],n)}function E(t,path){var i,e,n;for(e=T(path),n=t,i=0;i<e.length;i++)n=n[e[i]];if(void 0===n)throw console.log(t),new Error("[animation] property ("+path+") could not be found");return n}function M(t,path,e,n){var i,r,o,l;for(path.startsWith("object3D.rotation")&&(e=c.Math.degToRad(e)),r=T(path),l=t,i=0;i<r.length-1;i++)l=l[r[i]];o=r[r.length-1],"color"!==n?l[o]=e:"r"in l[o]?(l[o].r=e.r,l[o].g=e.g,l[o].b=e.b):(l[o].x=e.r,l[o].y=e.g,l[o].z=e.b)}function T(path){return path in x||(x[path]=path.split(".")),x[path]}function _(data){return data.isRawProperty||data.property.startsWith("components")||data.property.startsWith("object3D")}e.exports.Component=l("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&parseInt(t,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit("animationcomplete",t.eventDetail,!1),t.id&&t.el.emit("animationcomplete__"+t.id,t.eventDetail,!1)}}},update:function(t){var e=this.config,data=this.data;this.animationIsPlaying=!1,this.data.enabled&&data.property&&(e.autoplay=!1,e.direction=data.dir,e.duration=data.dur,e.easing=data.easing,e.elasticity=data.elasticity,e.loop=data.loop,e.round=data.round,this.createAndStartAnimation())},tick:function(t,dt){this.animationIsPlaying&&(this.time+=dt,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var data=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=r(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!data.autoplay||data.startEvents&&data.startEvents.length||(data.delay?setTimeout(this.beginAnimation,data.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=r(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var t,e,n,r=this.config,data=this.data,o=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(e in t=""===data.from?E(o,data.property):data.from,n=data.to,this.setColorConfig(t,n),t=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(t),r.targets=this.targetsArray,n)r[e]=n[e];var l;r.update=(l={},function(t){var e;(e=t.animatables[0].target).r===l.r&&e.g===l.g&&e.b===l.b||M(o,data.property,e,data.type)})}},updateConfigForDefault:function(){var t,e,n,r,o=this.config,data=this.data,l=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(t=""===data.from?_(data)?E(l,data.property):f(l,data.property):data.from,n=data.to,isNaN(t||n)?(t=t?t.toString():t,n=n?n.toString():n):(t=parseFloat(t),n=parseFloat(n)),(e="true"===data.to||"false"===data.to||!0===data.to||!1===data.to)&&(t="true"===data.from||!0===data.from?1:0,n="true"===data.to||!0===data.to?1:0),this.targets.aframeProperty=t,o.targets=this.targets,o.aframeProperty=n,o.update=function(t){var n;(n=t.animatables[0].target.aframeProperty)!==r&&(r=n,e&&(n=n>=1),_(data)?M(l,data.property,n,data.type):v(l,data.property,n))})},updateConfigForVector:function(){var t,e,n,r,o=this.config,data=this.data,l=this.el;for(t in e=""!==data.from?d.coordinates.parse(data.from):f(l,data.property),n=d.coordinates.parse(data.to),"rotation"===data.property&&(y(e),y(n)),this.targetsArray.length=0,this.targetsArray.push(e),o.targets=this.targetsArray,n)o[t]=n[t];"position"!==data.property&&"rotation"!==data.property&&"scale"!==data.property?o.update=function(){var t={};return function(e){var n=e.animatables[0].target;n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,v(l,data.property,n))}}():o.update=(r={},function(t){var e=t.animatables[0].target;"scale"===data.property&&(e.x=Math.max(1e-4,e.x),e.y=Math.max(1e-4,e.y),e.z=Math.max(1e-4,e.z)),e.x===r.x&&e.y===r.y&&e.z===r.z||(r.x=e.x,r.y=e.y,r.z=e.z,l.object3D[data.property].set(e.x,e.y,e.z))})},updateConfig:function(){var t,e,n,component,r,l,c;e=this.el,n=this.data.property,l=n.split("."),r=l[0],c=l[1],t=(component=e.components[r]||o[r])?c&&!component.schema[c]?null:c?component.schema[c].type:component.schema.type:null,_(this.data)&&"color"===this.data.type?this.updateConfigForRawColor():"vec2"===t||"vec3"===t||"vec4"===t?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(t){var e,data=this.data,n=this.el,o=this;return""===data.from&&!!data.property.startsWith("components")&&(e=T(data.property)[1],!n.components[e]&&(n.addEventListener("componentinitialized",(function l(c){c.detail.name===e&&(t(),o.animation=r(o.config),n.removeEventListener("componentinitialized",l))})),!0))},stopRelatedAnimations:function(){var component,t;for(t in this.el.components)component=this.el.components[t],t!==this.attrName&&"animation"===component.name&&component.animationIsPlaying&&component.data.property===this.data.property&&(component.animationIsPlaying=!1)},addEventListeners:function(){var data=this.data,t=this.el;w(t,data.startEvents,this.onStartEvent),w(t,data.pauseEvents,this.pauseAnimation),w(t,data.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var data=this.data,t=this.el;A(t,data.startEvents,this.onStartEvent),A(t,data.pauseEvents,this.pauseAnimation),A(t,data.resumeEvents,this.resumeAnimation)},setColorConfig:function(t,e){m.set(t),h.set(e),t=this.fromColor,e=this.toColor,t.r=m.r,t.g=m.g,t.b=m.b,e.r=h.r,e.g=h.g,e.b=h.b}})},{"../core/component":125,"../lib/three":173,"../utils":198,"super-animejs":56}],74:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../lib/three");e.exports.Component=r("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var t,e=this.el;t=this.camera=new o.PerspectiveCamera,e.setObject3D("camera",t)},update:function(t){var data=this.data,e=this.camera;e.aspect=data.aspect||window.innerWidth/window.innerHeight,e.far=data.far,e.fov=data.fov,e.near=data.near,e.zoom=data.zoom,e.updateProjectionMatrix(),this.updateActiveCamera(t),this.updateSpectatorCamera(t)},updateActiveCamera:function(t){var data=this.data,e=this.el,n=this.system;t&&t.active===data.active||data.spectator||(data.active&&n.activeCameraEl!==e?n.setActiveCamera(e):data.active||n.activeCameraEl!==e||n.disableActiveCamera())},updateSpectatorCamera:function(t){var data=this.data,e=this.el,n=this.system;t&&t.spectator===data.spectator||(data.spectator&&n.spectatorCameraEl!==e?n.setSpectatorCamera(e):data.spectator||n.spectatorCameraEl!==e||n.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},{"../core/component":125,"../lib/three":173}],75:[function(t,e,n){var r,o,l,c,d=t("../core/component").registerComponent,m=t("../utils/"),h=m.bind,f="click",v="fusing",x="mouseenter",y="mousedown",w="mouseleave",A="mouseup",E="cursor-fusing",M="cursor-hovering",T="cursor-hovered",_={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]};e.exports.Component=d("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:m.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var t=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.updateCanvasBounds=m.debounce((function(){t.canvasBounds=t.el.sceneEl.canvas.getBoundingClientRect()}),500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=h(this.onCursorDown,this),this.onCursorUp=h(this.onCursorUp,this),this.onIntersection=h(this.onIntersection,this),this.onIntersectionCleared=h(this.onIntersectionCleared,this),this.onMouseMove=h(this.onMouseMove,this)},update:function(t){this.data.rayOrigin!==t.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var t=this.el;t.removeState(M),t.removeState(E),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(T),this.removeEventListeners()},addEventListeners:function(){var canvas,data=this.data,t=this.el,e=this;function n(){canvas=t.sceneEl.canvas,data.downEvents.length||data.upEvents.length||(_.DOWN.forEach((function(t){canvas.addEventListener(t,e.onCursorDown)})),_.UP.forEach((function(t){canvas.addEventListener(t,e.onCursorUp)})))}(canvas=t.sceneEl.canvas)?n():t.sceneEl.addEventListener("render-target-loaded",n),data.downEvents.forEach((function(n){t.addEventListener(n,e.onCursorDown)})),data.upEvents.forEach((function(n){t.addEventListener(n,e.onCursorUp)})),t.addEventListener("raycaster-intersection",this.onIntersection),t.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),t.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var canvas,data=this.data,t=this.el,e=this;!(canvas=t.sceneEl.canvas)||data.downEvents.length||data.upEvents.length||(_.DOWN.forEach((function(t){canvas.removeEventListener(t,e.onCursorDown)})),_.UP.forEach((function(t){canvas.removeEventListener(t,e.onCursorUp)}))),data.downEvents.forEach((function(n){t.removeEventListener(n,e.onCursorDown)})),data.upEvents.forEach((function(n){t.removeEventListener(n,e.onCursorUp)})),t.removeEventListener("raycaster-intersection",this.onIntersection),t.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),canvas.removeEventListener("mousemove",this.onMouseMove),canvas.removeEventListener("touchstart",this.onMouseMove),canvas.removeEventListener("touchmove",this.onMouseMove),t.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var canvas,t=this.el;(canvas=t.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),canvas.removeEventListener("touchmove",this.onMouseMove),t.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(canvas.addEventListener("mousemove",this.onMouseMove,!1),canvas.addEventListener("touchmove",this.onMouseMove,!1),t.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:(r=new THREE.Vector3,o=new THREE.Vector2,l=new THREE.Vector3,c={origin:l,direction:r},function(t){var e,n,d,m=this.canvasBounds,h=this.el.sceneEl.camera;h.parent.updateMatrixWorld(),e=(n="touchmove"===t.type||"touchstart"===t.type?t.touches.item(0):t).clientX-m.left,d=n.clientY-m.top,o.x=e/m.width*2-1,o.y=-d/m.height*2+1,l.setFromMatrixPosition(h.matrixWorld),r.set(o.x,o.y,.5).unproject(h).sub(l).normalize(),this.el.setAttribute("raycaster",c),"touchmove"===t.type&&t.preventDefault()}),onCursorDown:function(t){this.isCursorDown=!0,"mouse"===this.data.rayOrigin&&"touchstart"===t.type&&(this.onMouseMove(t),this.el.components.raycaster.checkIntersections(),t.preventDefault()),this.twoWayEmit(y),this.cursorDownEl=this.intersectedEl},onCursorUp:function(t){if(this.isCursorDown){this.isCursorDown=!1;var data=this.data;this.twoWayEmit(A),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(A,this.intersectedEventDetail)),data.fuse&&"mouse"!==data.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(f),this.cursorDownEl=null,"touchend"===t.type&&t.preventDefault()}},onIntersection:function(t){var e,n,r,o,l=this.el;n=t.detail.els[0]===l?1:0,o=t.detail.intersections[n],(r=t.detail.els[n])&&this.intersectedEl!==r&&(this.intersectedEl&&(e=this.el.components.raycaster.getIntersection(this.intersectedEl))&&e.distance<=o.distance||(this.clearCurrentIntersection(!0),this.setIntersection(r,o)))},onIntersectionCleared:function(t){-1!==t.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},setIntersection:function(t,e){var n=this.el,data=this.data,r=this;this.intersectedEl!==t&&(this.intersectedEl=t,n.addState(M),t.addState(T),this.twoWayEmit(x),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add("a-mouse-cursor-hover"),0!==data.fuseTimeout&&data.fuse&&(n.addState(E),this.twoWayEmit(v),this.fuseTimeout=setTimeout((function(){n.removeState(E),r.twoWayEmit(f)}),data.fuseTimeout)))},clearCurrentIntersection:function(t){var e,n,r=this.el;this.intersectedEl&&(this.intersectedEl.removeState(T),r.removeState(M),r.removeState(E),this.twoWayEmit(w),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove("a-mouse-cursor-hover"),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==t&&0!==(n=this.el.components.raycaster.intersections).length&&(e=n[n[0].object.el===r?1:0])&&this.setIntersection(e.object.el,e))},twoWayEmit:function(t){var e,n=this.el,r=this.intersectedEl;e=this.el.components.raycaster.getIntersection(r),this.eventDetail.intersectedEl=r,this.eventDetail.intersection=e,n.emit(t,this.eventDetail),r&&(this.intersectedEventDetail.intersection=e,r.emit(t,this.intersectedEventDetail))}})},{"../core/component":125,"../utils/":198}],76:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/bind"),l=t("../utils/tracked-controls"),c=l.checkControllerPresentAndSetup,d=l.emitIfAxesChanged,m=l.onButtonEvent,h=t("../utils/").device.isWebXRAvailable?"google-daydream":"Daydream Controller";e.exports.Component=r("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},bindMethods:function(){this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=o(this.removeControllersUpdateListener,this),this.onAxisMoved=o(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(e){m(e.detail.id,"down",t)},this.onButtonUp=function(e){m(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){m(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){m(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){c(this,h,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,data=this.data;t.setAttribute("tracked-controls",{armModel:data.armModel,hand:data.hand,idPrefix:h,orientationOffset:data.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.obj",mtl:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).menu=n.getObjectByName("AppButton_AppButton_Cylinder.004"),e.system=n.getObjectByName("HomeButton_HomeButton_Cylinder.005"),e.trackpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),n.position.set(0,0,-.04))},onAxisMoved:function(t){d(this,this.mapping.axes,t)},onButtonChanged:function(t){var button=this.mapping.buttons[t.detail.id];button&&this.el.emit(button+"changed",t.detail.state)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[t].material.color.set(r)}}})},{"../core/component":125,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],77:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/bind"),l=t("../utils/tracked-controls"),c=l.checkControllerPresentAndSetup,d=l.emitIfAxesChanged,m=l.onButtonEvent;e.exports.Component=r("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=o(this.removeControllersUpdateListener,this),this.onAxisMoved=o(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(e){m(e.detail.id,"down",t)},this.onButtonUp=function(e){m(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){m(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){m(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){c(this,"Gear VR",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,data=this.data;t.setAttribute("tracked-controls",{armModel:data.armModel,idPrefix:"Gear VR",orientationOffset:data.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.obj",mtl:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.children[2],e.trackpad=n.children[1])},onButtonChanged:function(t){var button=this.mapping.buttons[t.detail.id];button&&this.el.emit(button+"changed",t.detail.state)},onAxisMoved:function(t){d(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[t].material.color.set(r)}}})},{"../core/component":125,"../utils/bind":192,"../utils/tracked-controls":206}],78:[function(t,e,n){var r=t("../core/geometry").geometries,o=t("../core/geometry").geometryNames,l=t("../core/component").registerComponent,c=t("../lib/three"),d=new c.Geometry;e.exports.Component=l("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:o,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(t){var e,data=this.data,n=this.el,r=this.system;this.geometry&&(r.unuseGeometry(t),this.geometry=null),this.geometry=r.getOrCreateGeometry(data),(e=n.getObject3D("mesh"))?e.geometry=this.geometry:((e=new c.Mesh).geometry=this.geometry,n.setObject3D("mesh",e))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=d,this.geometry=null},updateSchema:function(data){var t=this.oldData&&this.oldData.primitive,e=data.primitive,n=r[e]&&r[e].schema;if(!n)throw new Error("Unknown geometry schema `"+e+"`");t&&t===e||this.extendSchema(n)}})},{"../core/component":125,"../core/geometry":126,"../lib/three":173}],79:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../lib/three"),l=t("../utils/").debug("components:gltf-model:warn");e.exports.Component=r("gltf-model",{schema:{type:"model"},init:function(){var t=this.system.getDRACOLoader();this.model=null,this.loader=new o.GLTFLoader,t&&this.loader.setDRACOLoader(t)},update:function(){var t=this,e=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,(function(n){t.model=n.scene||n.scenes[0],t.model.animations=n.animations,e.setObject3D("mesh",t.model),e.emit("model-loaded",{format:"gltf",model:t.model})}),void 0,(function(t){var r=t&&t.message?t.message:"Failed to load glTF model";l(r),e.emit("model-error",{format:"gltf",src:n})})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":125,"../lib/three":173,"../utils/":198}],80:[function(t,e,n){var r=t("../core/component").registerComponent,o={left:"https://cdn.aframe.io/controllers/hands/leftHand.glb",right:"https://cdn.aframe.io/controllers/hands/rightHand.glb"},l="Open",c="Point",d="Point + Thumb",m="Fist",h="Hold",f="Thumb Up",v={};function x(t,e){var n;if(t)return"grip"===(n=v[t])?n+(e?"close":"open"):"point"===n?n+(e?"up":"down"):"pointing"===n||"pistol"===n?n+(e?"start":"end"):void 0}v[m]="grip",v[f]="pistol",v[c]="pointing",e.exports.Component=r("hand-controls",{schema:{default:"left"},init:function(){var t=this,e=this.el;this.gesture=l,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){t.handleButton("grip","down")},this.onGripUp=function(){t.handleButton("grip","up")},this.onTrackpadDown=function(){t.handleButton("trackpad","down")},this.onTrackpadUp=function(){t.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){t.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){t.handleButton("trackpad","touchend")},this.onTriggerDown=function(){t.handleButton("trigger","down")},this.onTriggerUp=function(){t.handleButton("trigger","up")},this.onTriggerTouchStart=function(){t.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){t.handleButton("trigger","touchend")},this.onGripTouchStart=function(){t.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){t.handleButton("grip","touchend")},this.onThumbstickDown=function(){t.handleButton("thumbstick","down")},this.onThumbstickUp=function(){t.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){t.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){t.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){t.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){t.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){t.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){t.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected),e.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(time,t){var e=this.el.getObject3D("mesh");e&&e.mixer&&e.mixer.update(t/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var t=this.el;t.addEventListener("gripdown",this.onGripDown),t.addEventListener("gripup",this.onGripUp),t.addEventListener("trackpaddown",this.onTrackpadDown),t.addEventListener("trackpadup",this.onTrackpadUp),t.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.addEventListener("triggerdown",this.onTriggerDown),t.addEventListener("triggerup",this.onTriggerUp),t.addEventListener("triggertouchstart",this.onTriggerTouchStart),t.addEventListener("triggertouchend",this.onTriggerTouchEnd),t.addEventListener("griptouchstart",this.onGripTouchStart),t.addEventListener("griptouchend",this.onGripTouchEnd),t.addEventListener("thumbstickdown",this.onThumbstickDown),t.addEventListener("thumbstickup",this.onThumbstickUp),t.addEventListener("abuttontouchstart",this.onAorXTouchStart),t.addEventListener("abuttontouchend",this.onAorXTouchEnd),t.addEventListener("bbuttontouchstart",this.onBorYTouchStart),t.addEventListener("bbuttontouchend",this.onBorYTouchEnd),t.addEventListener("xbuttontouchstart",this.onAorXTouchStart),t.addEventListener("xbuttontouchend",this.onAorXTouchEnd),t.addEventListener("ybuttontouchstart",this.onBorYTouchStart),t.addEventListener("ybuttontouchend",this.onBorYTouchEnd),t.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var t=this.el;t.removeEventListener("gripdown",this.onGripDown),t.removeEventListener("gripup",this.onGripUp),t.removeEventListener("trackpaddown",this.onTrackpadDown),t.removeEventListener("trackpadup",this.onTrackpadUp),t.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.removeEventListener("triggerdown",this.onTriggerDown),t.removeEventListener("triggerup",this.onTriggerUp),t.removeEventListener("triggertouchstart",this.onTriggerTouchStart),t.removeEventListener("triggertouchend",this.onTriggerTouchEnd),t.removeEventListener("griptouchstart",this.onGripTouchStart),t.removeEventListener("griptouchend",this.onGripTouchEnd),t.removeEventListener("thumbstickdown",this.onThumbstickDown),t.removeEventListener("thumbstickup",this.onThumbstickUp),t.removeEventListener("abuttontouchstart",this.onAorXTouchStart),t.removeEventListener("abuttontouchend",this.onAorXTouchEnd),t.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),t.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),t.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),t.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),t.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),t.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),t.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(t){var e,n=this.el,r=this.data,l=this;e={hand:r,model:!1,orientationOffset:{x:0,y:0,z:"left"===r?90:-90}},r!==t&&this.loader.load(o[r],(function(t){var r=t.scene.children[0];r.mixer=new THREE.AnimationMixer(r),l.clips=t.animations,n.setObject3D("mesh",r),r.position.set(0,0,0),r.rotation.set(0,0,0),n.setAttribute("vive-controls",e),n.setAttribute("oculus-touch-controls",e),n.setAttribute("windows-motion-controls",e)}))},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(button,t){var e,n="down"===t,r="touchstart"===t;if(0===t.indexOf("touch")){if(r===this.touchedButtons[button])return;this.touchedButtons[button]=r}else{if(n===this.pressedButtons[button])return;this.pressedButtons[button]=n}e=this.gesture,this.gesture=this.determineGesture(),this.gesture!==e&&(this.animateGesture(this.gesture,e),this.emitGestureEvents(this.gesture,e))},determineGesture:function(){var t,e,n,r=this.pressedButtons.grip,o=this.pressedButtons.surface||this.touchedButtons.surface,l=this.pressedButtons.trackpad||this.touchedButtons.trackpad,v=this.pressedButtons.trigger||this.touchedButtons.trigger,x=this.touchedButtons.AorX||this.touchedButtons.BorY;return e=this.el.components["tracked-controls"],(n=e&&e.controller)&&(n.id&&0===n.id.indexOf("OpenVR ")||n.profiles&&n.profiles[0]&&"htc-vive-controller-mv"===n.profiles[0])?r||v?t=m:l&&(t=c):r?t=o||x||l?v?m:c:v?f:d:v&&(t=h),t},getClip:function(t){var e,i;for(i=0;i<this.clips.length;i++)if((e=this.clips[i]).name===t)return e},animateGesture:function(t,e){t?this.playAnimation(t||l,e,!1):this.playAnimation(e,e,!0)},emitGestureEvents:function(t,e){var n,r=this.el;e!==t&&((n=x(e,!1))&&r.emit(n),(n=x(t,!0))&&r.emit(n))},playAnimation:function(t,e,n){var r,o,l,c=this.el.getObject3D("mesh");if(c){if(c.mixer.stopAllAction(),r=this.getClip(t),(l=c.mixer.clipAction(r)).clampWhenFinished=!0,l.loop=THREE.LoopRepeat,l.repetitions=0,l.timeScale=n?-1:1,l.time=n?r.duration:0,l.weight=1,!e||t===e)return c.mixer.stopAllAction(),void l.play();r=this.getClip(e),(o=c.mixer.clipAction(r)).weight=.15,o.play(),l.play(),o.crossFadeTo(l,.15,!0)}}})},{"../core/component":125}],81:[function(t,e,n){t("./animation"),t("./camera"),t("./cursor"),t("./daydream-controls"),t("./gearvr-controls"),t("./geometry"),t("./gltf-model"),t("./hand-controls"),t("./laser-controls"),t("./light"),t("./line"),t("./link"),t("./look-controls"),t("./material"),t("./obj-model"),t("./oculus-go-controls"),t("./oculus-touch-controls"),t("./position"),t("./raycaster"),t("./rotation"),t("./scale"),t("./shadow"),t("./sound"),t("./text"),t("./tracked-controls"),t("./tracked-controls-webvr"),t("./tracked-controls-webxr"),t("./visible"),t("./vive-controls"),t("./vive-focus-controls"),t("./wasd-controls"),t("./windows-motion-controls"),t("./scene/background"),t("./scene/debug"),t("./scene/device-orientation-permission-ui"),t("./scene/embedded"),t("./scene/inspector"),t("./scene/fog"),t("./scene/keyboard-shortcuts"),t("./scene/pool"),t("./scene/screenshot"),t("./scene/stats"),t("./scene/vr-mode-ui")},{"./animation":73,"./camera":74,"./cursor":75,"./daydream-controls":76,"./gearvr-controls":77,"./geometry":78,"./gltf-model":79,"./hand-controls":80,"./laser-controls":82,"./light":83,"./line":84,"./link":85,"./look-controls":86,"./material":87,"./obj-model":88,"./oculus-go-controls":89,"./oculus-touch-controls":90,"./position":91,"./raycaster":92,"./rotation":93,"./scale":94,"./scene/background":95,"./scene/debug":96,"./scene/device-orientation-permission-ui":97,"./scene/embedded":98,"./scene/fog":99,"./scene/inspector":100,"./scene/keyboard-shortcuts":101,"./scene/pool":102,"./scene/screenshot":103,"./scene/stats":104,"./scene/vr-mode-ui":105,"./shadow":106,"./sound":107,"./text":108,"./tracked-controls":111,"./tracked-controls-webvr":109,"./tracked-controls-webxr":110,"./visible":112,"./vive-controls":113,"./vive-focus-controls":114,"./wasd-controls":115,"./windows-motion-controls":116}],82:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/");r("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var t=this.config,data=this.data,e=this.el,n=this,r={hand:data.hand,model:!0};function l(r){var l=t[r.detail.name];if(l){var c=o.extend({showLine:!0},l.raycaster||{});r.detail.rayOrigin&&(c.origin=r.detail.rayOrigin.origin,c.direction=r.detail.rayOrigin.direction,c.showLine=!0),r.detail.rayOrigin||!n.modelReady?e.setAttribute("raycaster",c):e.setAttribute("raycaster","showLine",!0),e.setAttribute("cursor",o.extend({fuse:!1},l.cursor))}}e.setAttribute("daydream-controls",r),e.setAttribute("gearvr-controls",r),e.setAttribute("oculus-go-controls",r),e.setAttribute("oculus-touch-controls",r),e.setAttribute("vive-controls",r),e.setAttribute("vive-focus-controls",r),e.setAttribute("windows-motion-controls",r),e.addEventListener("controllerconnected",l),e.addEventListener("controllerdisconnected",(function(){e.setAttribute("raycaster","showLine",!1)})),e.addEventListener("controllermodelready",(function(t){l(t),n.modelReady=!0}))},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},{"../core/component":125,"../utils/":198}],83:[function(t,e,n){var r=t("../utils/bind"),o=t("../utils").diff,l=t("../utils/debug"),c=t("../core/component").registerComponent,d=t("../lib/three"),m=d.Math.degToRad,h=l("components:light:warn");e.exports.Component=c("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var t=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(t)},update:function(t){var data=this.data,e=o(data,t),n=this.light,l=this.rendererSystem,c=this;if(!n||"type"in e)this.setLight(this.data),this.updateShadow();else{var d=!1;Object.keys(e).forEach((function(t){var e=data[t];switch(t){case"color":n.color.set(e),l.applyColorCorrection(n.color);break;case"groundColor":n.groundColor.set(e),l.applyColorCorrection(n.groundColor);break;case"angle":n.angle=m(e);break;case"target":null===e?"spot"!==data.type&&"directional"!==data.type||(n.target=c.defaultTarget):e.hasLoaded?c.onSetTarget(e,n):e.addEventListener("loaded",r(c.onSetTarget,c,e,n));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":d||(c.updateShadow(),d=!0);break;default:n[t]=e}}))}},setLight:function(data){var t=this.el,e=this.getLight(data);e&&(this.light&&t.removeObject3D("light"),this.light=e,this.light.el=t,t.setObject3D("light",this.light),"spot"!==data.type&&"directional"!==data.type&&"hemisphere"!==data.type||t.getObject3D("light").translateY(-1),"spot"===data.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var t=this.el,data=this.data,e=this.light;e.castShadow=data.castShadow;var n=t.getObject3D("cameraHelper");if(data.shadowCameraVisible&&!n?t.setObject3D("cameraHelper",new d.CameraHelper(e.shadow.camera)):!data.shadowCameraVisible&&n&&t.removeObject3D("cameraHelper"),!data.castShadow)return e;e.shadow.bias=data.shadowBias,e.shadow.radius=data.shadowRadius,e.shadow.mapSize.height=data.shadowMapHeight,e.shadow.mapSize.width=data.shadowMapWidth,e.shadow.camera.near=data.shadowCameraNear,e.shadow.camera.far=data.shadowCameraFar,e.shadow.camera instanceof d.OrthographicCamera?(e.shadow.camera.top=data.shadowCameraTop,e.shadow.camera.right=data.shadowCameraRight,e.shadow.camera.bottom=data.shadowCameraBottom,e.shadow.camera.left=data.shadowCameraLeft):e.shadow.camera.fov=data.shadowCameraFov,e.shadow.camera.updateProjectionMatrix(),n&&n.update()},getLight:function(data){var t=data.angle,e=new d.Color(data.color);this.rendererSystem.applyColorCorrection(e),e=e.getHex();var n=data.decay,o=data.distance,l=new d.Color(data.groundColor);this.rendererSystem.applyColorCorrection(l),l=l.getHex();var c=data.intensity,f=data.type,v=data.target,x=null;switch(f.toLowerCase()){case"ambient":return new d.AmbientLight(e,c);case"directional":return x=new d.DirectionalLight(e,c),this.defaultTarget=x.target,v&&(v.hasLoaded?this.onSetTarget(v,x):v.addEventListener("loaded",r(this.onSetTarget,this,v,x))),x;case"hemisphere":return new d.HemisphereLight(e,l,c);case"point":return new d.PointLight(e,c,o,n);case"spot":return x=new d.SpotLight(e,c,o,m(t),data.penumbra,n),this.defaultTarget=x.target,v&&(v.hasLoaded?this.onSetTarget(v,x):v.addEventListener("loaded",r(this.onSetTarget,this,v,x))),x;default:h("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",f)}},onSetTarget:function(t,e){e.target=t.object3D},remove:function(){var t=this.el;t.removeObject3D("light"),t.getObject3D("cameraHelper")&&t.removeObject3D("cameraHelper")}})},{"../core/component":125,"../lib/three":173,"../utils":198,"../utils/bind":192,"../utils/debug":194}],84:[function(t,e,n){var r=t("../core/component").registerComponent;function o(a,b){return!(!a||!b)&&a.x===b.x&&a.y===b.y&&a.z===b.z}e.exports.Component=r("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var t,e,data=this.data;this.rendererSystem=this.el.sceneEl.systems.renderer,e=this.material=new THREE.LineBasicMaterial({color:data.color,opacity:data.opacity,transparent:data.opacity<1,visible:data.visible}),(t=this.geometry=new THREE.BufferGeometry).addAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(e.color),this.line=new THREE.Line(t,e),this.el.setObject3D(this.attrName,this.line)},update:function(t){var data=this.data,e=this.geometry,n=!1,r=this.material,l=e.attributes.position.array;o(data.start,t.start)||(l[0]=data.start.x,l[1]=data.start.y,l[2]=data.start.z,n=!0),o(data.end,t.end)||(l[3]=data.end.x,l[4]=data.end.y,l[5]=data.end.z,n=!0),n&&(e.attributes.position.needsUpdate=!0,e.computeBoundingSphere()),r.color.setStyle(data.color),this.rendererSystem.applyColorCorrection(r.color),r.opacity=data.opacity,r.transparent=data.opacity<1,r.visible=data.visible},remove:function(){this.el.removeObject3D("line",this.line)}})},{"../core/component":125}],85:[function(t,e,n){var r,o,l,c,d,m,h,f,v=t("../core/component").registerComponent,x=t("../core/shader").registerShader,y=t("../lib/three");e.exports.Component=v("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new y.Quaternion,this.hiddenEls=[]},update:function(t){var e,n,data=this.data,r=this.el;data.visualAspectEnabled&&(this.initVisualAspect(),e=data.highlighted?data.highlightedColor:data.backgroundColor,n=data.highlighted?data.highlightedColor:data.borderColor,r.setAttribute("material","backgroundColor",e),r.setAttribute("material","strokeColor",n),data.on!==t.on&&this.updateEventListener(),void 0!==t.peekMode&&data.peekMode!==t.peekMode&&this.updatePeekMode(),data.image&&t.image!==data.image&&r.setAttribute("material","pano","string"==typeof data.image?data.image:data.image.src))},updatePeekMode:function(){var t=this.el,e=this.sphereEl;this.data.peekMode?(this.hideAll(),t.getObject3D("mesh").visible=!1,e.setAttribute("visible",!0)):(this.showAll(),t.getObject3D("mesh").visible=!0,e.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var t=this.el;t.isPlaying&&(this.removeEventListener(),t.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var t=this.data.on;t&&this.el.removeEventListener(t,this.navigate)},initVisualAspect:function(){var t,e,n,r=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(n=this.textEl=this.textEl||document.createElement("a-entity"),e=this.sphereEl=this.sphereEl||document.createElement("a-entity"),t=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),r.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),r.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),r.appendChild(n),t.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("rotation","0 180 0"),t.setAttribute("position","0 0 0"),t.setAttribute("visible",!1),r.appendChild(t),e.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("visible",!1),r.appendChild(e),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:(d=new y.Vector3,m=new y.Vector3,h=new y.Quaternion,f=new y.Vector3,function(){var t,e,n=this.el,r=n.object3D,o=n.sceneEl.camera,l=this.textEl;if(this.data.visualAspectEnabled)if(r.updateMatrixWorld(),o.parent.updateMatrixWorld(),o.updateMatrixWorld(),r.matrix.decompose(m,h,f),m.setFromMatrixPosition(r.matrixWorld),d.setFromMatrixPosition(o.matrixWorld),(e=m.distanceTo(d))>20)this.previousQuaternion||(this.quaternionClone.copy(h),this.previousQuaternion=this.quaternionClone),r.lookAt(d);else{if(t=this.calculateCameraPortalOrientation(),e<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;l.setAttribute("text","width",1.5),t<=0?(l.setAttribute("position","0 0 0.75"),l.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(l.setAttribute("position","0 0 -0.75"),l.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),n.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=t}else t<=0?l.setAttribute("rotation","0 180 0"):l.setAttribute("rotation","0 0 0"),l.setAttribute("text","width",5),l.setAttribute("position","0 1.5 0"),n.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(r.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}),hideAll:function(){var t=this.el,e=this.hiddenEls,n=this;e.length>0||t.sceneEl.object3D.traverse((function(object){object&&object.el&&object.el.hasAttribute("link-controls")||object.el&&object!==t.sceneEl.object3D&&object.el!==t&&object.el!==n.sphereEl&&object.el!==t.sceneEl.cameraEl&&!1!==object.el.getAttribute("visible")&&object.el!==n.textEl&&object.el!==n.semiSphereEl&&(object.el.setAttribute("visible",!1),e.push(object.el))}))},showAll:function(){this.hiddenEls.forEach((function(t){t.setAttribute("visible",!0)})),this.hiddenEls=[]},calculateCameraPortalOrientation:(r=new y.Matrix4,o=new y.Vector3,l=new y.Vector3(0,0,1),c=new y.Vector3(0,0,0),function(){var t=this.el,e=t.sceneEl.camera;return o.set(0,0,0),l.set(0,0,1),c.set(0,0,0),t.object3D.matrixWorld.extractRotation(r),l.applyMatrix4(r),t.object3D.updateMatrixWorld(),t.object3D.localToWorld(c),e.parent.parent.updateMatrixWorld(),e.parent.updateMatrixWorld(),e.updateMatrixWorld(),e.localToWorld(o),o.sub(c).normalize(),l.normalize(),Math.sign(l.dot(o))}),remove:function(){this.removeEventListener()}}),x("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = saturate(direction.y * 0.5  + 0.5);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},{"../core/component":125,"../core/shader":135,"../lib/three":173}],86:[function(t,e,n){var r,o=t("../core/component").registerComponent,l=t("../lib/three"),c=t("../utils/").bind,d=t("../utils").device.PolyfillControls,m=Math.PI/2;e.exports.Component=o("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.previousHMDPosition=new l.Vector3,this.hmdQuaternion=new l.Quaternion,this.hmdEuler=new l.Euler,this.position=new l.Vector3,this.savedRotation=new l.Vector3,this.savedPosition=new l.Vector3,this.polyfillObject=new l.Object3D,this.polyfillControls=new d(this.polyfillObject),this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix(),this.savedPose={position:new l.Vector3,rotation:new l.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},update:function(t){var data=this.data;data.enabled!==t.enabled&&this.updateGrabCursor(data.enabled),!t||data.hmdEnabled||t.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),t&&!data.pointerLockEnabled!==t.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(t){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=c(this.onMouseDown,this),this.onMouseMove=c(this.onMouseMove,this),this.onMouseUp=c(this.onMouseUp,this),this.onTouchStart=c(this.onTouchStart,this),this.onTouchMove=c(this.onTouchMove,this),this.onTouchEnd=c(this.onTouchEnd,this),this.onEnterVR=c(this.onEnterVR,this),this.onExitVR=c(this.onExitVR,this),this.onPointerLockChange=c(this.onPointerLockChange,this),this.onPointerLockError=c(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new l.Object3D,this.yawObject=new l.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var t=this.el.sceneEl,e=t.canvas;e?(e.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),e.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("enter-vr",this.onEnterVR),t.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):t.addEventListener("render-target-loaded",c(this.addEventListeners,this))},removeEventListeners:function(){var t=this.el.sceneEl,e=t&&t.canvas;e&&(e.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("enter-vr",this.onEnterVR),t.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:(r=new l.Matrix4,function(){var t,e=this.hmdEuler,n=this.el.object3D,o=this.pitchObject,l=this.yawObject,c=this.el.sceneEl;c.is("vr-mode")&&c.hasWebXR?(t=c.renderer.xr.getCameraPose())&&(r.elements=t.transform.matrix,r.decompose(n.position,n.rotation,n.scale)):n.updateMatrix(),c.is("vr-mode")&&c.checkHeadsetConnected()||(this.polyfillControls.update(),e.setFromQuaternion(this.polyfillObject.quaternion,"YXZ"),n.rotation.x=e.x+o.rotation.x,n.rotation.y=e.y+l.rotation.y)}),onMouseMove:function(t){var e,n,r,o=this.pitchObject,l=this.previousMouseEvent,c=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0):(n=t.screenX-l.screenX,r=t.screenY-l.screenY),this.previousMouseEvent=t,e=this.data.reverseMouseDrag?1:-1,c.rotation.y+=.002*n*e,o.rotation.x+=.002*r*e,o.rotation.x=Math.max(-m,Math.min(m,o.rotation.x)))},onMouseDown:function(t){if(this.data.enabled&&0===t.button){var e=this.el.sceneEl,n=e&&e.canvas;this.mouseDown=!0,this.previousMouseEvent=t,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(n.requestPointerLock?n.requestPointerLock():n.mozRequestPointerLock&&n.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(t){1===t.touches.length&&this.data.touchEnabled&&(this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(t){var e,n,canvas=this.el.sceneEl.canvas,r=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(n=2*Math.PI*(t.touches[0].pageX-this.touchStart.x)/canvas.clientWidth,e=this.data.reverseTouchDrag?1:-1,r.rotation.y-=.5*n*e,this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.updateMatrix())},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0))},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(t){var e=this.el.sceneEl;function n(){e.canvas.classList.add("a-grab-cursor")}function r(){e.canvas.classList.remove("a-grab-cursor")}e.canvas?t?n():r():t?e.addEventListener("render-target-loaded",n):e.addEventListener("render-target-loaded",r)},saveCameraPose:function(){var t=this.el;this.savedPose.position.copy(t.object3D.position),this.savedPose.rotation.copy(t.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var t=this.el,e=this.savedPose;this.hasSavedPose&&(t.object3D.position.copy(e.position),t.object3D.rotation.copy(e.rotation),this.hasSavedPose=!1)}})},{"../core/component":125,"../lib/three":173,"../utils":198,"../utils/":198}],87:[function(t,e,n){var r=t("../utils/"),component=t("../core/component"),o=t("../lib/three"),l=t("../core/shader"),c=r.debug("components:material:error"),d=component.registerComponent,m=l.shaders,h=l.shaderNames;function f(t,e){t.dispose(),e.unregisterMaterial(t)}e.exports.Component=d("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:h,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]}},init:function(){this.material=null},update:function(t){var data=this.data;this.shader&&data.shader===t.shader||this.updateShader(data.shader),this.shader.update(this.data),this.updateMaterial(t)},updateSchema:function(data){var t,e,n,r;e=data&&data.shader,t=this.oldData&&this.oldData.shader,(n=m[r=e||t]&&m[r].schema)||c("Unknown shader schema "+r),t&&e===t||(this.extendSchema(n),this.updateBehavior())},updateBehavior:function(){var t,e,n=this.el.sceneEl,r=this.schema,o=this;function l(time,t){var n;for(n in e)e[n]=time;o.shader.update(e)}for(t in this.tick=void 0,e={},r)"time"===r[t].type&&(this.tick=l,e[t]=!0);n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(t){var e,data=this.data,n=m[t]&&m[t].Shader;if(!n)throw new Error("Unknown shader "+t);(e=this.shader=new n).el=this.el,e.init(data),this.setMaterial(e.material),this.updateSchema(data)},updateMaterial:function(t){var e,data=this.data,n=this.material;for(e in n.alphaTest=data.alphaTest,n.depthTest=!1!==data.depthTest,n.depthWrite=!1!==data.depthWrite,n.opacity=data.opacity,n.flatShading=data.flatShading,n.side=function(t){switch(t){case"back":return o.BackSide;case"double":return o.DoubleSide;default:return o.FrontSide}}(data.side),n.transparent=!1!==data.transparent||data.opacity<1,n.vertexColors=function(t){switch(t){case"face":return o.FaceColors;case"vertex":return o.VertexColors;default:return o.NoColors}}(data.vertexColors),n.visible=data.visible,n.blending=function(t){switch(t){case"none":return o.NoBlending;case"additive":return o.AdditiveBlending;case"subtractive":return o.SubtractiveBlending;case"multiply":return o.MultiplyBlending;default:return o.NormalBlending}}(data.blending),t)break;!e||t.alphaTest===data.alphaTest&&t.side===data.side&&t.vertexColors===data.vertexColors||(n.needsUpdate=!0)},remove:function(){var t=new o.MeshBasicMaterial,e=this.material,n=this.el.getObject3D("mesh");n&&(n.material=t),f(e,this.system)},setMaterial:function(t){var e,n=this.el,r=this.system;this.material&&f(this.material,r),this.material=t,r.registerMaterial(t),(e=n.getObject3D("mesh"))?e.material=t:n.addEventListener("object3dset",(function e(r){"mesh"===r.detail.type&&r.target===n&&(n.getObject3D("mesh").material=t,n.removeEventListener("object3dset",e))}))}})},{"../core/component":125,"../core/shader":135,"../lib/three":173,"../utils/":198}],88:[function(t,e,n){var r=t("../utils/debug"),o=t("../core/component").registerComponent,l=t("../lib/three"),c=r("components:obj-model:warn");e.exports.Component=o("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var t=this;this.model=null,this.objLoader=new l.OBJLoader,this.mtlLoader=new l.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",(function(e){t.model&&"material"===e.detail.name&&t.applyMaterial()}))},update:function(){var data=this.data;data.obj&&(this.resetMesh(),this.loadObj(data.obj,data.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(t,e){var n=this,r=this.el,o=this.mtlLoader,l=this.objLoader,d=this.el.sceneEl.systems.renderer,m=e.substr(0,e.lastIndexOf("/")+1);if(e)return r.hasAttribute("material")&&c("Material component properties are ignored when a .MTL is provided"),o.setResourcePath(m),void o.load(e,(function(e){e.preload(),l.setMaterials(e),l.load(t,(function(t){n.model=t,n.model.traverse((function(object){if(object.isMesh){var t=object.material;t.color&&d.applyColorCorrection(t.color),t.map&&d.applyColorCorrection(t.map),t.emissive&&d.applyColorCorrection(t.emissive),t.emissiveMap&&d.applyColorCorrection(t.emissiveMap)}})),r.setObject3D("mesh",t),r.emit("model-loaded",{format:"obj",model:t})}))}));l.load(t,(function(t){n.model=t,n.applyMaterial(),r.setObject3D("mesh",t),r.emit("model-loaded",{format:"obj",model:t})}))},applyMaterial:function(){var t=this.el.components.material;t&&this.model.traverse((function(e){e instanceof l.Mesh&&(e.material=t.material)}))}})},{"../core/component":125,"../lib/three":173,"../utils/debug":194}],89:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/bind"),l=t("../utils/tracked-controls"),c=l.checkControllerPresentAndSetup,d=l.emitIfAxesChanged,m=l.onButtonEvent;e.exports.Component=r("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=o(this.removeControllersUpdateListener,this),this.onAxisMoved=o(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(e){m(e.detail.id,"down",t)},this.onButtonUp=function(e){m(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){m(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){m(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){c(this,"Oculus Go",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,data=this.data;t.setAttribute("tracked-controls",{armModel:data.armModel,hand:data.hand,idPrefix:"Oculus Go",orientationOffset:data.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.getObjectByName("oculus_go_button_trigger"),e.trackpad=n.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(t){var button=this.mapping.buttons[t.detail.id];button&&this.el.emit(button+"changed",t.detail.state)},onAxisMoved:function(t){d(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var r,button;switch(e){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}(button=n[t]).material.color.set(r),this.rendererSystem.applyColorCorrection(button.material.color)}}})},{"../core/component":125,"../utils/bind":192,"../utils/tracked-controls":206}],90:[function(t,e,n){var r=t("../utils/bind"),o=t("../core/component").registerComponent,l=t("../lib/three"),c=t("../utils/tracked-controls"),d=c.checkControllerPresentAndSetup,m=c.emitIfAxesChanged,h=c.onButtonEvent,f=t("../utils/").device.isOculusBrowser(),v=t("../utils/").device.isWebXRAvailable,x=v?"oculus-touch":"Oculus Touch",y="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",w={left:{modelUrl:y+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new l.Vector3(-.005,.003,-.055),modelPivotRotation:new l.Euler(0,0,0)},right:{modelUrl:y+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new l.Vector3(.005,.003,-.055),modelPivotRotation:new l.Euler(0,0,0)}},A={left:{modelUrl:y+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new l.Vector3(-.005,.036,-.037),modelPivotRotation:new l.Euler(Math.PI/4.5,0,0)},right:{modelUrl:y+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new l.Vector3(.005,.036,-.037),modelPivotRotation:new l.Euler(Math.PI/4.5,0,0)}},E={"oculus-touch":v?A:w,"oculus-touch-v2":{left:{modelUrl:"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-gen2-left.gltf",rayOrigin:{origin:{x:-.01,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new l.Vector3(0,0,0),modelPivotRotation:new l.Euler(-Math.PI/4,0,0)},right:{modelUrl:"https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-gen2-right.gltf",rayOrigin:{origin:{x:.01,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new l.Vector3(0,0,0),modelPivotRotation:new l.Euler(-Math.PI/4,0,0)}}},M=v?{left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}}:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}};e.exports.Component=o("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:M,bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){h(e.detail.id,"down",t,t.data.hand)},this.onButtonUp=function(e){h(e.detail.id,"up",t,t.data.hand)},this.onButtonTouchStart=function(e){h(e.detail.id,"touchstart",t,t.data.hand)},this.onButtonTouchEnd=function(e){h(e.detail.id,"touchend",t,t.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){d(this,x,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(){var data=this.data;if(data.model){if(this.displayModel=E[data.controllerType]||E["oculus-touch"],"auto"===data.controllerType){var t=this.el.sceneEl.systems["tracked-controls-webvr"];if(t&&t.vrDisplay){var e=t.vrDisplay.displayName;/^Oculus Quest$/.test(e)&&(this.displayModel=E["oculus-touch-v2"])}f&&(this.displayModel=E["oculus-touch-v2"])}var n=this.displayModel[data.hand].modelUrl;this.el.setAttribute("gltf-model",n)}},injectTrackedControls:function(){var data=this.data,t="right"===data.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",e=v?"oculus-touch":t;this.el.setAttribute("tracked-controls",{id:e,hand:data.hand,orientationOffset:data.orientationOffset}),this.loadModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,button=this.mapping[this.data.hand].buttons[t.detail.id],n=this.buttonMeshes;button&&("trigger"!==button&&"grip"!==button||(e=t.detail.state.value),n&&("trigger"===button&&n.trigger&&(n.trigger.rotation.x=this.originalXRotationTrigger-e*(Math.PI/26)),"grip"===button&&n.grip&&(n.grip.position.x=this.originalXPositionGrip+("left"===this.data.hand?-1:1)*e*.004)),this.el.emit(button+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).grip=n.getObjectByName("buttonHand"),this.originalXPositionGrip=e.grip.position.x,e.thumbstick=n.getObjectByName("stick"),e.trigger=n.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=e.trigger.rotation.x,e.xbutton=n.getObjectByName("buttonX"),e.abutton=n.getObjectByName("buttonA"),e.ybutton=n.getObjectByName("buttonY"),e.bbutton=n.getObjectByName("buttonB"),n.position.copy(this.displayModel[this.data.hand].modelPivotOffset),n.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin}))},onAxisMoved:function(t){m(this,this.mapping[this.data.hand].axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var button,n="up"===e||"touchend"===e?this.data.buttonColor:"touchstart"===e?this.data.buttonTouchColor:this.data.buttonHighlightColor,r=this.buttonMeshes;this.data.model&&r&&r[t]&&((button=r[t]).material.color.set(n),this.rendererSystem.applyColorCorrection(button.material.color))}})},{"../core/component":125,"../lib/three":173,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],91:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("position",{schema:{type:"vec3"},update:function(){var t=this.el.object3D,data=this.data;t.position.set(data.x,data.y,data.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},{"../core/component":125}],92:[function(t,e,n){var r,o,l=t("../core/component").registerComponent,c=t("../lib/three"),d=t("../utils/").debug("components:raycaster:warn"),m=/^[\w\s-.,[\]#]*$/,h={childList:!0,attributes:!0,subtree:!0},f="raycaster-intersected",v="raycaster-intersection",x="raycaster-intersected-cleared",y="raycaster-intersection-cleared";function w(a,b){var i;for(a.length=b.length,i=0;i<b.length;i++)a[i]=b[i]}e.exports.Component=l("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new c.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new c.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new c.Vector3,this.otherLineEndVec3=new c.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(t){var data=this.data,e=this.el,n=this.raycaster;n.far=data.far,n.near=data.near,!data.showLine||data.far===t.far&&data.origin===t.origin&&data.direction===t.direction&&t.showLine||(this.unitLineEndVec3.copy(data.origin).add(data.direction).normalize(),this.drawLine()),!data.showLine&&t.showLine&&e.removeAttribute("line"),data.objects===t.objects||m.test(data.objects)||d('[raycaster] Selector "'+data.objects+'" may not update automatically with DOM changes.'),data.objects||d('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),data.autoRefresh!==t.autoRefresh&&e.isPlaying&&(data.autoRefresh?this.addEventListeners():this.removeEventListeners()),t.enabled&&!data.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,h),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var t,data=this.data;t=data.objects?this.el.sceneEl.querySelectorAll(data.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(t),this.dirty=!1},tick:function(time){var data=this.data,t=this.prevCheckTime;data.enabled&&(t&&time-t<data.interval||(this.prevCheckTime=time,this.checkIntersections()))},checkIntersections:function(){var i,t,e=this.clearedIntersectedEls,n=this.el,data=this.data,r=this.intersectedEls,o=this.intersections,l=this.newIntersectedEls,c=this.newIntersections,d=this.prevIntersectedEls,m=this.rawIntersections;for(this.dirty&&this.refreshObjects(),w(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),m.length=0,this.raycaster.intersectObjects(this.objects,!0,m),o.length=0,r.length=0,i=0;i<m.length;i++)t=m[i],data.showLine&&t.object===n.getObject3D("line")||t.object.el&&(o.push(t),r.push(t.object.el));for(c.length=0,l.length=0,i=0;i<o.length;i++)-1===d.indexOf(o[i].object.el)&&(c.push(o[i]),l.push(o[i].object.el));for(e.length=0,i=0;i<d.length;i++)-1===r.indexOf(d[i])&&(d[i].emit(x,this.intersectedClearedDetail),e.push(d[i]));for(e.length&&n.emit(y,this.intersectionClearedDetail),i=0;i<l.length;i++)l[i].emit(f,this.intersectedDetail);c.length&&(this.intersectionDetail.els=l,this.intersectionDetail.intersections=c,n.emit(v,this.intersectionDetail)),data.showLine&&setTimeout(this.updateLine)},updateLine:function(){var t,e=this.el,n=this.intersections;n.length&&(t=n[0].object.el===e&&n[1]?n[1].distance:n[0].distance),this.drawLine(t)},getIntersection:function(t){var i,e;for(i=0;i<this.intersections.length;i++)if((e=this.intersections[i]).object.el===t)return e;return null},updateOriginDirection:(r=new c.Vector3,o=new c.Vector3,function(){var t=this.el,data=this.data;data.useWorldCoordinates?this.raycaster.set(data.origin,data.direction):(t.object3D.getWorldPosition(o),0===data.origin.x&&0===data.origin.y&&0===data.origin.z||(o=t.object3D.localToWorld(o.copy(data.origin))),r.copy(data.direction).transformDirection(t.object3D.matrixWorld).normalize(),this.raycaster.set(o,r))}),drawLine:function(t){var e,data=this.data,n=this.el;e=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===t&&(t=data.far===1/0?1e3:data.far),this.lineData.start=data.origin,this.lineData.end=e.copy(this.unitLineEndVec3).multiplyScalar(t),n.setAttribute("line",this.lineData)},flattenObject3DMaps:function(t){var e,i,n=this.objects;for(n.length=0,i=0;i<t.length;i++)if(t[i].isEntity&&t[i].object3D)for(e in t[i].object3DMap)n.push(t[i].getObject3D(e));return n},clearAllIntersections:function(){var i;for(i=0;i<this.intersectedEls.length;i++)this.intersectedEls[i].emit(x,this.intersectedClearedDetail);w(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(y,this.intersectionClearedDetail)}})},{"../core/component":125,"../lib/three":173,"../utils/":198}],93:[function(t,e,n){var r=t("../lib/three").Math.degToRad,o=t("../core/component").registerComponent;e.exports.Component=o("rotation",{schema:{type:"vec3"},update:function(){var data=this.data,t=this.el.object3D;t.rotation.set(r(data.x),r(data.y),r(data.z)),t.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},{"../core/component":125,"../lib/three":173}],94:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var data=this.data,t=this.el.object3D,e=0===data.x?1e-5:data.x,n=0===data.y?1e-5:data.y,r=0===data.z?1e-5:data.z;t.scale.set(e,n,r)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},{"../core/component":125}],95:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var data=this.data,t=this.el.object3D;data.transparent?t.background=null:t.background=new THREE.Color(data.color)}})},{"../../core/component":125}],96:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("debug",{schema:{default:!0}})},{"../../core/component":125}],97:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../utils/"),l=o.bind,c=t("../../constants/");function d(text,t){var e,dialog,n,r;return(e=document.createElement("div")).classList.add("a-modal"),e.setAttribute(c.AFRAME_INJECTED,""),(dialog=document.createElement("div")).className="a-dialog",dialog.setAttribute(c.AFRAME_INJECTED,""),e.appendChild(dialog),(n=document.createElement("div")).classList.add("a-dialog-text-container"),dialog.appendChild(n),(r=document.createElement("div")).classList.add("a-dialog-text"),r.innerHTML=text,n.appendChild(r),dialog.appendChild(t),e}e.exports.Component=r("device-orientation-permission-ui",{schema:{enabled:{default:!0}},init:function(){var t=this;this.data.enabled&&(o.device.isMobileDeviceRequestingDesktopSite()&&this.showMobileDesktopModeAlert(),"undefined"!=typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&(this.onDeviceMotionDialogAllowClicked=l(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=l(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().catch((function(){var text,e,n,r,o,l;t.devicePermissionDialogEl=(text="This immersive website requires access to your device motion sensors",e=t.onDeviceMotionDialogAllowClicked,n=t.onDeviceMotionDialogDenyClicked,(r=document.createElement("div")).classList.add("a-dialog-buttons-container"),(o=document.createElement("button")).classList.add("a-dialog-button","a-dialog-deny-button"),o.setAttribute(c.AFRAME_INJECTED,""),o.innerHTML="Deny",r.appendChild(o),(l=document.createElement("button")).classList.add("a-dialog-button","a-dialog-allow-button"),l.setAttribute(c.AFRAME_INJECTED,""),l.innerHTML="Allow",r.appendChild(l),l.addEventListener("click",(function(t){t.stopPropagation(),e()})),o.addEventListener("click",(function(t){t.stopPropagation(),n()})),d(text,r)),t.el.appendChild(t.devicePermissionDialogEl)})).then((function(){t.el.emit("deviceorientationpermissiongranted")}))))},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showMobileDesktopModeAlert:function(){var text,t,e,n,r=this,o=(text="Request the mobile version of this site to enjoy it in immersive mode",t=function(){r.el.removeChild(o)},(e=document.createElement("div")).classList.add("a-dialog-buttons-container"),(n=document.createElement("button")).classList.add("a-dialog-button","a-dialog-ok-button"),n.setAttribute(c.AFRAME_INJECTED,""),n.innerHTML="Ok",e.appendChild(n),n.addEventListener("click",(function(e){e.stopPropagation(),t()})),d(text,e));this.el.appendChild(o)},onDeviceMotionDialogAllowClicked:function(){var t=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e?t.el.emit("deviceorientationpermissiongranted"):t.el.emit("deviceorientationpermissionrejected"),t.remove()})).catch(console.error)}})},{"../../constants/":117,"../../core/component":125,"../../utils/":198}],98:[function(t,e,n){var r=t("../../core/component").registerComponent;e.exports.Component=r("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var t=this.el,e=t.querySelector(".a-enter-vr");!0===this.data?(e&&e.classList.add("embedded"),t.removeFullScreenStyles()):(e&&e.classList.remove("embedded"),t.addFullScreenStyles())}})},{"../../core/component":125}],99:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../lib/three"),l=t("../../utils/debug")("components:fog:warn");e.exports.Component=r("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var data=this.data,t=this.el,e=this.el.object3D.fog;if(t.isScene)return e&&data.type===e.name?void Object.keys(this.schema).forEach((function(t){var n=data[t];"color"===t&&(n=new o.Color(n)),e[t]=n})):(t.object3D.fog=function(data){var t;return(t="exponential"===data.type?new o.FogExp2(data.color,data.density):new o.Fog(data.color,data.near,data.far)).name=data.type,t}(data),void t.systems.material.updateMaterials());l("Fog component can only be applied to <a-scene>")},remove:function(){var t=this.el.object3D.fog;t&&(t.far=0,t.near=.1)}})},{"../../core/component":125,"../../lib/three":173,"../../utils/debug":194}],100:[function(t,e,n){(function(n){var r,o,l=t("../../constants").AFRAME_INJECTED,c=t("../../../package"),d=t("../../core/component").registerComponent,m=t("../../utils/"),h="https://unpkg.com/aframe-inspector@"+(r=c.version,(o=r.split("."))[2]="x",o.join(".")+"/dist/aframe-inspector.min.js"),f="dev"===n.env.INSPECTOR_VERSION?"https://aframe.io/aframe-inspector/dist/aframe-inspector.js":h;e.exports.Component=d("inspector",{schema:{url:{default:f}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var t;this.firstPlay&&"false"!==(t=m.getUrlParameter("inspector"))&&t&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(t){73===t.keyCode&&t.ctrlKey&&t.altKey&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(t){"INJECT_AFRAME_INSPECTOR"===t.data&&this.openInspector()},openInspector:function(t){var script,e=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected?AFRAME.INSPECTOR.open(t):(this.showLoader(),(script=document.createElement("script")).src=this.data.url,script.setAttribute("data-name","aframe-inspector"),script.setAttribute(l,""),script.onload=function(){AFRAME.INSPECTOR.open(t),e.hideLoader(),e.removeEventListeners()},script.onerror=function(){e.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(script),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,t("_process"))},{"../../../package":72,"../../constants":117,"../../core/component":125,"../../utils/":198,_process:49}],101:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../utils/").shouldCaptureKeyEvent;e.exports.Component=r("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(t){var data=this.data;this.enterVREnabled=data.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(t){var e=this.el;o(t)&&(this.enterVREnabled&&70===t.keyCode&&e.enterVR(),this.enterVREnabled&&27===t.keyCode&&e.exitVR())}})},{"../../core/component":125,"../../utils/":198}],102:[function(t,e,n){var r=t("../../utils/debug"),o=t("../../core/component").registerComponent,l=r("components:pool:warn");e.exports.Component=o("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var i;for(this.availableEls=[],this.usedEls=[],this.data.mixin||l("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||l("Container "+this.data.container+" not found.")),this.container=this.container||this.el,i=0;i<this.data.size;++i)this.createEntity()},update:function(t){var data=this.data;t.mixin===data.mixin&&t.size===data.size||this.initPool()},createEntity:function(){var t;(t=document.createElement("a-entity")).play=this.wrapPlay(t.play),t.setAttribute("mixin",this.data.mixin),t.object3D.visible=!1,t.pause(),this.container.appendChild(t),this.availableEls.push(t)},wrapPlay:function(t){var e=this.usedEls;return function(){-1!==e.indexOf(this)&&t.call(this)}},requestEntity:function(){var t;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void l("Requested entity from empty pool: "+this.attrName);l("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return t=this.availableEls.shift(),this.usedEls.push(t),t.object3D.visible=!0,t},returnEntity:function(t){var e=this.usedEls.indexOf(t);if(-1!==e)return this.usedEls.splice(e,1),this.availableEls.push(t),t.object3D.visible=!1,t.pause(),t;l("The returned entity was not previously pooled from "+this.attrName)}})},{"../../core/component":125,"../../utils/debug":194}],103:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../lib/three"),l=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),c=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");e.exports.Component=r("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var t=this.el,e=this;function n(){var n=t.renderer.getContext();n&&(e.cubeMapSize=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),e.material=new o.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:l,fragmentShader:c,side:o.DoubleSide}),e.quad=new o.Mesh(new o.PlaneBufferGeometry(1,1),e.material),e.quad.visible=!1,e.camera=new o.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),e.canvas=document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),t.object3D.add(e.quad),e.onKeyDown=e.onKeyDown.bind(e))}t.renderer?n():t.addEventListener("render-target-loaded",n)},getRenderTarget:function(t,e){return new o.WebGLRenderTarget(t,e,{minFilter:o.LinearFilter,magFilter:o.LinearFilter,wrapS:o.ClampToEdgeWrapping,wrapT:o.ClampToEdgeWrapping,format:o.RGBAFormat,type:o.UnsignedByteType})},resize:function(t,e){this.quad.scale.set(t,e,1),this.camera.left=-1*t/2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=-1*e/2,this.camera.updateProjectionMatrix(),this.canvas.width=t,this.canvas.height=e},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(t){var e=83===t.keyCode&&t.ctrlKey&&t.altKey;if(this.data&&e){var n=t.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(t){var e,n,r,l=this.el;return"perspective"===t?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||l.camera,e={width:this.data.width,height:this.data.height}):(n=this.camera,r=new o.CubeCamera(l.camera.near,l.camera.far,Math.min(this.cubeMapSize,2048)),l.camera.getWorldPosition(r.position),l.camera.getWorldQuaternion(r.quaternion),r.update(l.renderer,l.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,e={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:e,projection:t}},capture:function(t){var e,n=this.el.renderer.xr.enabled,r=this.el.renderer;r.xr.enabled=!1,e=this.setCapture(t),this.renderCapture(e.camera,e.size,e.projection),this.saveCapture(),r.xr.enabled=n},getCanvas:function(t){var e=this.el.renderer.xr.enabled,n=this.el.renderer,r=this.setCapture(t);return n.xr.enabled=!1,this.renderCapture(r.camera,r.size,r.projection),n.xr.enabled=e,this.canvas},renderCapture:function(t,e,n){var r,output,o,l=this.el.renderer.autoClear,c=this.el,d=c.renderer;output=this.getRenderTarget(e.width,e.height),o=new Uint8Array(4*e.width*e.height),this.resize(e.width,e.height),d.autoClear=!0,d.clear(),d.setRenderTarget(output),d.render(c.object3D,t),d.autoClear=l,d.readRenderTargetPixels(output,0,0,e.width,e.height,o),d.setRenderTarget(null),"perspective"===n&&(o=this.flipPixelsVertically(o,e.width,e.height)),r=new ImageData(new Uint8ClampedArray(o),e.width,e.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(t,e,n){for(var r=t.slice(0),o=0;o<e;++o)for(var l=0;l<n;++l)r[4*o+l*e*4]=t[4*o+(n-l)*e*4],r[4*o+1+l*e*4]=t[4*o+1+(n-l)*e*4],r[4*o+2+l*e*4]=t[4*o+2+(n-l)*e*4],r[4*o+3+l*e*4]=t[4*o+3+(n-l)*e*4];return r},saveCapture:function(){this.canvas.toBlob((function(t){var e="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.setAttribute("download",e),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout((function(){n.click(),document.body.removeChild(n)}),1)}),"image/png")}})},{"../../core/component":125,"../../lib/three":173}],104:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../../vendor/rStats"),l=t("../../utils");t("../../../vendor/rStats.extras"),t("../../lib/rStatsAframe");var c=window.aframeStats,d=l.bind,m=window.threeStats;e.exports.Component=r("stats",{schema:{default:!0},init:function(){var t=this.el;"false"!==l.getUrlParameter("stats")&&(this.stats=function(t){var e=new m(t.renderer),n=new c(t),r=t.isMobile?[]:[e,n];return new o({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}(t),this.statsEl=document.querySelector(".rs-base"),this.hideBound=d(this.hide,this),this.showBound=d(this.show,this),t.addEventListener("enter-vr",this.hideBound),t.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var t=this.stats;t&&(t("rAF").tick(),t("FPS").frame(),t().update())},hide:function(){this.statsEl.classList.add("a-hidden")},show:function(){this.statsEl.classList.remove("a-hidden")}})},{"../../../vendor/rStats":208,"../../../vendor/rStats.extras":207,"../../core/component":125,"../../lib/rStatsAframe":172,"../../utils":198}],105:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../constants/"),l=t("../../utils/"),c=l.bind;e.exports.Component=r("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var t=this,e=this.el;"false"!==l.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),e.addEventListener("enter-vr",this.updateEnterInterfaces),e.addEventListener("exit-vr",this.updateEnterInterfaces),e.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",(function(e){"loaderReady"===e.data.type&&(t.insideLoader=!0,t.remove())})),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=c(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=c(this.onEnterARButtonClick,this),this.onModalClick=c(this.onModalClick,this),this.toggleOrientationModalIfNeeded=c(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=c(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var t,e,n,data=this.data,r=this.el;if(!data.enabled||this.insideLoader||"false"===l.getUrlParameter("ui"))return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(data.enterVRButton?(this.enterVREl=document.querySelector(data.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=(t=this.onEnterVRButtonClick,(n=document.createElement("div")).classList.add("a-enter-vr"),n.setAttribute(o.AFRAME_INJECTED,""),(e=document.createElement("button")).className="a-enter-vr-button",e.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(e),e.addEventListener("click",(function(e){t(),e.stopPropagation()})),n),r.appendChild(this.enterVREl)),data.enterARButton?(this.enterAREl=document.querySelector(data.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=function(t){var e,n;return(n=document.createElement("div")).classList.add("a-enter-ar"),n.setAttribute(o.AFRAME_INJECTED,""),(e=document.createElement("button")).className="a-enter-ar-button",e.setAttribute("title","Enter AR mode with a headset or handheld device. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(e),e.addEventListener("click",(function(e){t(),e.stopPropagation()})),n}(this.onEnterARButtonClick),r.appendChild(this.enterAREl)),this.orientationModalEl=function(t){var e=document.createElement("div");e.className="a-orientation-modal",e.classList.add("a-hidden"),e.setAttribute(o.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(o.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",t),e.appendChild(n),e}(this.onModalClick),r.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach((function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}))},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var t=this.el;this.enterVREl&&(t.is("vr-mode")?this.enterVREl.classList.add("a-hidden"):this.enterVREl.classList.remove("a-hidden"))},toggleEnterARButtonIfNeeded:function(){var t=this.el;this.enterAREl&&(t.is("vr-mode")||!l.device.checkARSupport()?this.enterAREl.classList.add("a-hidden"):this.enterAREl.classList.remove("a-hidden"))},toggleOrientationModalIfNeeded:function(){var t=this.el,e=this.orientationModalEl;e&&t.isMobile&&(!l.device.isLandscape()&&t.is("vr-mode")?e.classList.remove("a-hidden"):e.classList.add("a-hidden"))}})},{"../../constants/":117,"../../core/component":125,"../../utils/":198}],106:[function(t,e,n){var component=t("../core/component"),r=t("../lib/three"),o=t("../utils/bind"),l=component.registerComponent;e.exports.Component=l("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=o(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var data=this.data;this.updateDescendants(data.cast,data.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(t,e){var n=this.el.sceneEl;this.el.object3D.traverse((function(o){if(o instanceof r.Mesh&&(o.castShadow=t,o.receiveShadow=e,n.hasLoaded&&o.material))for(var l=Array.isArray(o.material)?o.material:[o.material],i=0;i<l.length;i++)l[i].needsUpdate=!0}))}})},{"../core/component":125,"../lib/three":173,"../utils/bind":192}],107:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/debug"),l=t("../lib/three"),c=o("components:sound:warn");e.exports.Component=r("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var t=this;this.listener=null,this.audioLoader=new l.AudioLoader,this.pool=new l.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){t.playSound()}},update:function(t){var i,e,data=this.data,n=data.src!==t.src;if(n){if(!data.src)return;this.setupSound()}for(i=0;i<this.pool.children.length;i++)e=this.pool.children[i],data.positional&&(e.setDistanceModel(data.distanceModel),e.setMaxDistance(data.maxDistance),e.setRefDistance(data.refDistance),e.setRolloffFactor(data.rolloffFactor)),e.setLoop(data.loop),e.setVolume(data.volume),e.isPaused=!1;if(data.on!==t.on&&this.updateEventListener(t.on),n){var r=this;this.loaded=!1,this.audioLoader.load(data.src,(function(t){for(i=0;i<r.pool.children.length;i++)(e=r.pool.children[i]).setBuffer(t);r.loaded=!0,l.Cache.remove(data.src),(r.data.autoplay||r.mustPlay)&&r.playSound(),r.el.emit("sound-loaded",r.evtDetail,!1)}))}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var i;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(i=0;i<this.pool.children.length;i++)this.pool.children[i].disconnect()}catch(t){c("Audio source not properly disconnected")}},updateEventListener:function(t){var e=this.el;t&&e.removeEventListener(t,this.playSoundBound),e.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var i,t,e=this.el,n=e.sceneEl,r=this;this.pool.children.length>0&&(this.stopSound(),e.removeObject3D("sound"));var o=this.listener=n.audioListener||new l.AudioListener;for(n.audioListener=o,n.camera&&n.camera.add(o),n.addEventListener("camera-set-active",(function(t){t.detail.cameraEl.getObject3D("camera").add(o)})),this.pool=new l.Group,i=0;i<this.data.poolSize;i++)t=this.data.positional?new l.PositionalAudio(o):new l.Audio(o),this.pool.add(t);for(e.setObject3D(this.attrName,this.pool),i=0;i<this.pool.children.length;i++)(t=this.pool.children[i]).onEnded=function(){this.isPlaying=!1,r.el.emit("sound-ended",r.evtDetail,!1)}},pauseSound:function(){var i,t;for(this.isPlaying=!1,i=0;i<this.pool.children.length;i++)(t=this.pool.children[i]).source&&t.source.buffer&&t.isPlaying&&!t.isPaused&&(t.isPaused=!0,t.pause())},playSound:function(t){var e,i,n;if(!this.loaded)return c("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);for(e=!1,this.isPlaying=!0,i=0;i<this.pool.children.length;i++)(n=this.pool.children[i]).isPlaying||!n.buffer||e||(t&&t(n),n.play(),n.isPaused=!1,e=!0);e?this.mustPlay=!1:c("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){var i,t;for(this.isPlaying=!1,i=0;i<this.pool.children.length;i++){if(!(t=this.pool.children[i]).source||!t.source.buffer)return;t.stop()}}})},{"../core/component":125,"../lib/three":173,"../utils/debug":194}],108:[function(t,e,n){var r=t("three-bmfont-text"),o=t("load-bmfont"),l=t("../core/component").registerComponent,c=t("../core/shader"),d=t("../lib/three"),m=t("../utils/"),h=m.debug("components:text:error"),f=c.shaders,v=m.debug("components:text:warn"),x="https://cdn.aframe.io/fonts/",y={aileronsemibold:x+"Aileron-Semibold.fnt",dejavu:x+"DejaVu-sdf.fnt",exo2bold:x+"Exo2Bold.fnt",exo2semibold:x+"Exo2SemiBold.fnt",kelsonsans:x+"KelsonSans.fnt",monoid:x+"Monoid.fnt",mozillavr:x+"mozillavr.fnt",roboto:x+"Roboto-msdf.json",sourcecodepro:x+"SourceCodePro.fnt"},w=["roboto"];e.exports.FONTS=y;var A,E,M,T,_=new function(){var t=this.cache={};this.get=function(e,n){return e in t||(t[e]=n()),t[e]}},S={},C={},L=/^\w+:/;function R(t,e,n){return t||(.5+e)*n}e.exports.Component=l("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:"roboto"},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:f},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=r(),this.createOrUpdateMaterial(),this.mesh=new d.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(t){var data=this.data,e=this.currentFont;C[data.font]?this.texture=C[data.font]:(this.texture=C[data.font]=new d.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),t.font===data.font?e&&(this.updateGeometry(this.geometry,e),this.updateLayout()):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var t,e,n,data=this.data,r=this.material,o=this.shaderData;if(n=data.shader,-1!==w.indexOf(data.font)||data.font.indexOf("-msdf.")>=0?n="msdf":data.font in y&&-1===w.indexOf(data.font)&&(n="sdf"),t=(this.shaderObject&&this.shaderObject.name)!==n,o.alphaTest=data.alphaTest,o.color=data.color,o.map=this.texture,o.opacity=data.opacity,o.side=function(t){switch(t){case"back":return d.FrontSide;case"double":return d.DoubleSide;default:return d.BackSide}}(data.side),o.transparent=data.transparent,o.negate=data.negate,!t)return this.shaderObject.update(o),r.transparent=o.transparent,void(r.side=o.side);e=function(t,e,data){var n,r;return(r=new f[e].Shader).el=t,r.init(data),r.update(data),(n=r.material).transparent=data.transparent,{material:n,shader:r}}(this.el,n,o),this.material=e.material,this.shaderObject=e.shader,this.material.side=o.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var t,data=this.data,e=this.el,n=this.geometry,r=this;data.font||v("No font specified. Using the default font."),this.mesh.visible=!1,t=this.lookupFont(data.font||"roboto")||data.font,_.get(t,(function(){return e=t,n=data.yOffset,new Promise((function(t,r){o(e,(function(o,l){if(o)return h("Error loading font",e),void r(o);e.indexOf("/Roboto-msdf.json")>=0&&(n=30),n&&l.chars.map((function(t){t.yoffset+=n})),t(l)}))}));var e,n})).then((function(o){var l;if(1!==o.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");S[t]||(o.widthFactor=S[o]=function(t){var e=0,n=0,r=0;return t.chars.map((function(t){e+=t.xadvance,t.id>=48&&t.id<=57&&(r++,n+=t.xadvance)})),r?n/r:e/t.chars.length}(o)),r.updateGeometry(n,o),r.currentFont=o,r.updateLayout(),l=r.getFontImageSrc(),_.get(l,(function(){return t=l,new Promise((function(e,n){(new d.ImageLoader).load(t,(function(image){e(image)}),void 0,(function(){h("Error loading font image",t),n(null)}))}));var t})).then((function(image){var t=r.texture;t.image=image,t.needsUpdate=!0,C[data.font]=t,r.texture=t,r.mesh.visible=!0,e.emit("textfontset",{font:data.font,fontObj:o})})).catch((function(t){h(t.message),h(t.stack)}))})).catch((function(t){h(t.message),h(t.stack)}))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var t=this.lookupFont(this.data.font||"roboto")||this.data.font,e=this.currentFont.pages[0];return e.match(L)&&0!==e.indexOf("http")?t.replace(/(\.fnt)|(\.json)/,".png"):d.LoaderUtils.extractUrlBase(t)+e},updateLayout:function(){var t,e,n,r,o,l,c,d,m,h=this.el,data=this.data,f=this.geometry,v=this.mesh;if(f.layout){if(n=h.getAttribute("geometry"),r=(l=(c=data.width||n&&n.width||1)/R(data.wrapPixels,data.wrapCount,this.currentFont.widthFactor))*((o=f.layout).height+o.descender),n&&"plane"===n.primitive&&(n.width||h.setAttribute("geometry","width",c),n.height||h.setAttribute("geometry","height",r)),"left"===(t="align"===data.anchor?data.align:data.anchor))d=0;else if("right"===t)d=-1*o.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);d=-1*o.width/2}if("bottom"===(e=data.baseline))m=0;else if("top"===e)m=-1*o.height+o.ascender;else{if("center"!==e)throw new TypeError("Invalid text.baseline property value",e);m=-1*o.height/2}v.position.x=d*l+data.xOffset,v.position.y=m*l,v.position.z=data.zOffset,v.scale.set(l,-1*l,l)}},lookupFont:function(t){return y[t]},updateGeometry:(A={},E={},M=/\\n/g,T=/\\t/g,function(t,e){var data=this.data;E.font=e,E.lineHeight=data.lineHeight&&isFinite(data.lineHeight)?data.lineHeight:e.common.lineHeight,E.text=data.value.toString().replace(M,"\n").replace(T,"\t"),E.width=R(data.wrapPixels,data.wrapCount,e.widthFactor),t.update(m.extend(A,data,E))})})},{"../core/component":125,"../core/shader":135,"../lib/three":173,"../utils/":198,"load-bmfont":37,"three-bmfont-text":62}],109:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/tracked-controls"),l=t("../constants").DEFAULT_CAMERA_HEIGHT,c=t("../lib/three"),d=t("../constants").DEFAULT_HANDEDNESS,m=.175,h=-.3,f=-.03,v=0,x=0,y=-.175,w={touches:[]},A="axismove",E="buttonchanged",M="buttondown",T="buttonup",_="touchstart",S="touchend";e.exports.Component=r("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new c.Vector3,this.controllerQuaternion=new c.Quaternion,this.controllerEuler=new c.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(time,t){var e=this.el.getObject3D("mesh");e&&e.update&&e.update(t/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return l},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var data=this.data,t=o.findMatchingControllerWebVR(this.system.controllers,data.id,data.idPrefix,data.hand,data.controller);this.controller=t,this.el.components["tracked-controls"].controller=t,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(t){var e,n,r,o,l=this.controller,c=this.controllerEuler,w=this.controllerQuaternion,A=this.deltaControllerPosition;n=this.getHeadElement().object3D,o=this.defaultUserHeight(),r=l.pose,e=(l?l.hand:void 0)||d,t.copy(n.position),A.set(m*("left"===e?-1:"right"===e?1:0),h,f),A.multiplyScalar(o),A.applyAxisAngle(n.up,n.rotation.y),t.add(A),A.set(v,x,y),A.multiplyScalar(o),r.orientation?w.fromArray(r.orientation):w.copy(n.quaternion),c.setFromQuaternion(w),c.set(c.x,c.y,0),A.applyEuler(c),t.add(A)},updatePose:function(){var t,e,n=this.controller,data=this.data,r=this.el.object3D,o=this.system.vrDisplay;n&&((t=n.pose).position?r.position.fromArray(t.position):data.armModel&&this.applyArmModel(r.position),t.orientation&&r.quaternion.fromArray(t.orientation),o&&t.position&&(e=this.el.sceneEl.renderer.xr.getStandingMatrix(),r.matrix.compose(r.position,r.quaternion,r.scale),r.matrix.multiplyMatrices(e,r.matrix),r.matrix.decompose(r.position,r.quaternion,r.scale)),r.rotateX(this.data.orientationOffset.x*c.Math.DEG2RAD),r.rotateY(this.data.orientationOffset.y*c.Math.DEG2RAD),r.rotateZ(this.data.orientationOffset.z*c.Math.DEG2RAD))},updateButtons:function(){var t,e,n=this.controller;if(n){for(e=0;e<n.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=n.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(E,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var i,t=!1,e=this.controller.axes,n=this.axis,r=this.changedAxes;for(this.changedAxes.length=0,i=0;i<e.length;++i)r.push(n[i]!==e[i]),r[i]&&(t=!0);if(!t)return!1;for(this.axis.length=0,i=0;i<e.length;i++)this.axis.push(e[i]);return this.el.emit(A,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var n,r=this.buttonStates[t];return e.pressed!==r.pressed&&(n=e.pressed?M:T,this.el.emit(n,this.buttonEventDetails[t],!1),r.pressed=e.pressed,!0)},handleTouch:function(t,e){var n,r=this.buttonStates[t];return e.touched!==r.touched&&(n=e.touched?_:S,this.el.emit(n,this.buttonEventDetails[t],!1,w),r.touched=e.touched,!0)},handleValue:function(t,e){var n=this.buttonStates[t];return e.value!==n.value&&(n.value=e.value,!0)}})},{"../constants":117,"../core/component":125,"../lib/three":173,"../utils/tracked-controls":206}],110:[function(t,e,n){var r=t("../utils/tracked-controls"),o=t("../core/component").registerComponent,l="axismove",c="buttonchanged",d="buttondown",m="buttonup",h="touchstart",f="touchend";e.exports.Component=o("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},index:{type:"int",default:-1}},init:function(){this.addSessionEventListeners=this.addSessionEventListeners.bind(this),this.updateController=this.updateController.bind(this),this.emitButtonUpEvent=this.emitButtonUpEvent.bind(this),this.emitButtonDownEvent=this.emitButtonDownEvent.bind(this),this.selectEventDetails={id:"trigger",state:{pressed:!1}},this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},play:function(){var t=this.el.sceneEl;this.updateController(),this.addSessionEventListeners(),t.addEventListener("enter-vr",this.addSessionEventListeners),t.addEventListener("controllersupdated",this.updateController)},pause:function(){var t=this.el.sceneEl;this.removeSessionEventListeners(),t.removeEventListener("enter-vr",this.addSessionEventListeners),t.removeEventListener("controllersupdated",this.updateController)},addSessionEventListeners:function(){var t=this.el.sceneEl;t.xrSession&&(t.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),t.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},removeSessionEventListeners:function(){var t=this.el.sceneEl;t.xrSession&&(t.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),t.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},emitButtonDownEvent:function(t){this.controller&&t.inputSource.handedness===this.data.hand&&(this.controller.gamepad||(this.selectEventDetails.state.pressed=!0,this.el.emit("buttondown",this.selectEventDetails),this.el.emit("buttonchanged",this.selectEventDetails),this.el.emit("triggerdown")))},emitButtonUpEvent:function(t){this.controller&&t.inputSource.handedness===this.data.hand&&(this.controller.gamepad||(this.selectEventDetails.state.pressed=!1,this.el.emit("buttonup",this.selectEventDetails),this.el.emit("buttonchanged",this.selectEventDetails),this.el.emit("triggerup")))},updateController:function(){this.controller=r.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var t=this.el.sceneEl;this.controller&&t.frame&&(this.pose=t.frame.getPose(this.controller.targetRaySpace,this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var t=this.el.object3D,e=this.pose;e&&(t.matrix.elements=e.transform.matrix,t.matrix.decompose(t.position,t.rotation,t.scale))},updateButtons:function(){var t,e,n,r=this.controller;if(r&&r.gamepad){for(n=r.gamepad,e=0;e<n.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=n.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(c,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var i,t=!1,e=this.controller.gamepad.axes,n=this.axis,r=this.changedAxes;for(this.changedAxes.length=0,i=0;i<e.length;++i)r.push(n[i]!==e[i]),r[i]&&(t=!0);if(!t)return!1;for(this.axis.length=0,i=0;i<e.length;i++)this.axis.push(e[i]);return this.el.emit(l,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var n,r=this.buttonStates[t];return e.pressed!==r.pressed&&(n=e.pressed?d:m,this.el.emit(n,this.buttonEventDetails[t],!1),r.pressed=e.pressed,!0)},handleTouch:function(t,e){var n,r=this.buttonStates[t];return e.touched!==r.touched&&(n=e.touched?h:f,this.el.emit(n,this.buttonEventDetails[t],!1),r.touched=e.touched,!0)},handleValue:function(t,e){var n=this.buttonStates[t];return e.value!==n.value&&(n.value=e.value,!0)}})},{"../core/component":125,"../utils/tracked-controls":206}],111:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},update:function(){var data=this.data,t=this.el;t.sceneEl.hasWebXR?t.setAttribute("tracked-controls-webxr",{id:data.id,hand:data.hand,index:data.controller}):t.setAttribute("tracked-controls-webvr",data)}})},{"../core/component":125}],112:[function(t,e,n){var r=t("../core/component").registerComponent;e.exports.Component=r("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":125}],113:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/bind"),l=t("../utils/tracked-controls"),c=l.checkControllerPresentAndSetup,d=l.emitIfAxesChanged,m=l.onButtonEvent,h=t("../utils/").device.isWebXRAvailable,f=h?"htc-vive-controller-mv":"OpenVR ",v=h?{axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]};e.exports.Component=r("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:v,init:function(){var t=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(e){m(e.detail.id,"down",t)},this.onButtonUp=function(e){m(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){m(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){m(e.detail.id,"touchstart",t)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var data=this.data;this.controllerIndex="right"===data.hand?0:"left"===data.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=o(this.removeControllersUpdateListener,this),this.onAxisMoved=o(this.onAxisMoved,this)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var data=this.data;c(this,f,{index:this.controllerIndex,hand:data.hand})},injectTrackedControls:function(){var t=this.el,data=this.data;t.setAttribute("tracked-controls",{idPrefix:f,hand:data.hand,controller:this.controllerIndex,orientationOffset:data.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,button=this.mapping.buttons[t.detail.id],n=this.buttonMeshes;button&&("trigger"===button&&(e=t.detail.state.value,n&&n.trigger&&(n.trigger.rotation.x=-e*(Math.PI/12))),this.el.emit(button+"changed",t.detail.state))},onModelLoaded:function(t){var e,n=t.detail.model,r=this;this.data.model&&((e=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},e.menu=n.getObjectByName("menubutton"),e.system=n.getObjectByName("systembutton"),e.trackpad=n.getObjectByName("touchpad"),e.trigger=n.getObjectByName("trigger"),Object.keys(e).forEach((function(t){r.setButtonColor(t,r.data.buttonColor)})),n.position.set(0,-.015,.04))},onAxisMoved:function(t){d(this,this.mapping.axes,t)},updateModel:function(t,e){var n;this.data.model&&(-1!==e.indexOf("touch")||(n="up"===e?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(t,n)))},setButtonColor:function(t,e){var n=this.buttonMeshes,r=this.rendererSystem;if(n){if("grip"===t)return n.grip.left.material.color.set(e),n.grip.right.material.color.set(e),r.applyColorCorrection(n.grip.left.material.color),void r.applyColorCorrection(n.grip.right.material.color);n[t].material.color.set(e),r.applyColorCorrection(n[t].material.color)}}})},{"../core/component":125,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],114:[function(t,e,n){var r=t("../core/component").registerComponent,o=t("../utils/bind"),l=t("../utils/tracked-controls"),c=l.checkControllerPresentAndSetup,d=l.emitIfAxesChanged,m=l.onButtonEvent;e.exports.Component=r("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=o(this.removeControllersUpdateListener,this),this.onAxisMoved=o(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(e){m(e.detail.id,"down",t)},this.onButtonUp=function(e){m(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){m(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){m(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){c(this,"HTC Vive Focus",this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,data=this.data;t.setAttribute("tracked-controls",{armModel:data.armModel,idPrefix:"HTC Vive Focus",orientationOffset:data.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=n.getObjectByName("BumperKey"),e.triggerPressed=n.getObjectByName("BumperKey_Press"),e.triggerPressed&&(e.triggerPressed.visible=!1),e.trackpad=n.getObjectByName("TouchPad"),e.trackpadPressed=n.getObjectByName("TouchPad_Press"),e.trackpadPressed&&(e.trackpadPressed.visible=!1))},onButtonChanged:function(t){var button=this.mapping.buttons[t.detail.id];button&&this.el.emit(button+"changed",t.detail.state)},onAxisMoved:function(t){d(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes,r=t+"Pressed";if(n&&n[t]&&n[r]){var o;switch(e){case"down":o=this.data.buttonHighlightColor;break;case"touchstart":o=this.data.buttonTouchedColor}o&&n[r].material.color.set(o),n[r].visible=!!o,n[t].visible=!o}}})},{"../core/component":125,"../utils/bind":192,"../utils/tracked-controls":206}],115:[function(t,e,n){var r,o,l=t("../constants").keyboardevent.KEYCODE_TO_CODE,c=t("../core/component").registerComponent,d=t("../lib/three"),m=t("../utils/"),h=m.bind,f=m.shouldCaptureKeyEvent,v=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];e.exports.Component=c("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new d.Vector3,this.onBlur=h(this.onBlur,this),this.onFocus=h(this.onFocus,this),this.onKeyDown=h(this.onKeyDown,this),this.onKeyUp=h(this.onKeyUp,this),this.onVisibilityChange=h(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(time,t){var data=this.data,e=this.el,n=this.velocity;(n[data.adAxis]||n[data.wsAxis]||!function(t){var e;for(e in t)return!1;return!0}(this.keys))&&(t/=1e3,this.updateVelocity(t),(n[data.adAxis]||n[data.wsAxis])&&e.object3D.position.add(this.getMovementVector(t)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(t){var e,n,r,o,l,data=this.data,c=this.keys,d=this.velocity;if(n=data.adAxis,o=data.wsAxis,t>.2)return d[n]=0,void(d[o]=0);var m=Math.pow(1/this.easing,60*t);0!==d[n]&&(d[n]-=d[n]*m),0!==d[o]&&(d[o]-=d[o]*m),Math.abs(d[n])<1e-5&&(d[n]=0),Math.abs(d[o])<1e-5&&(d[o]=0),data.enabled&&(e=data.acceleration,data.adEnabled&&(r=data.adInverted?-1:1,(c.KeyA||c.ArrowLeft)&&(d[n]-=r*e*t),(c.KeyD||c.ArrowRight)&&(d[n]+=r*e*t)),data.wsEnabled&&(l=data.wsInverted?-1:1,(c.KeyW||c.ArrowUp)&&(d[o]-=l*e*t),(c.KeyS||c.ArrowDown)&&(d[o]+=l*e*t)))},getMovementVector:(r=new d.Vector3(0,0,0),o=new d.Euler(0,0,0,"YXZ"),function(t){var e,n=this.el.getAttribute("rotation"),l=this.velocity;return r.copy(l),r.multiplyScalar(t),n?(e=this.data.fly?n.x:0,o.set(d.Math.degToRad(e),d.Math.degToRad(n.y),0),r.applyEuler(o),r):r}),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(t){var code;f(t)&&(code=t.code||l[t.keyCode],-1!==v.indexOf(code)&&(this.keys[code]=!0))},onKeyUp:function(t){var code;code=t.code||l[t.keyCode],delete this.keys[code]}})},{"../constants":117,"../core/component":125,"../lib/three":173,"../utils/":198}],116:[function(t,e,n){var r,o=t("../core/component").registerComponent,l=t("../utils/bind"),c=t("../utils/tracked-controls"),d=c.checkControllerPresentAndSetup,m=c.emitIfAxesChanged,h=c.onButtonEvent,f=t("../utils/"),v=f.debug("components:windows-motion-controls:debug"),x=f.debug("components:windows-motion-controls:warn"),y=t("../constants").DEFAULT_HANDEDNESS,w={left:"left.glb",right:"right.glb",default:"universal.glb"},A=t("../utils/").device.isWebXRAvailable,E=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,M=A?"windows-mixed-reality":"Spatial Controller (Spatial Interaction Source) ",T=A?{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"}:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"};e.exports.Component=o("windows-motion-controls",{schema:{hand:{default:y},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:T,bindMethods:function(){this.onModelError=l(this.onModelError,this),this.onModelLoaded=l(this.onModelLoaded,this),this.onControllersUpdate=l(this.onControllersUpdate,this),this.checkIfControllerPresent=l(this.checkIfControllerPresent,this),this.onAxisMoved=l(this.onAxisMoved,this)},init:function(){var t=this,e=this.el;this.onButtonChanged=l(this.onButtonChanged,this),this.onButtonDown=function(e){h(e.detail.id,"down",t)},this.onButtonUp=function(e){h(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){h(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){h(e.detail.id,"touchend",t)},this.onControllerConnected=function(){t.setModelVisibility(!0)},this.onControllerDisconnected=function(){t.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-error",this.onModelError),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-error",this.onModelError),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){d(this,M,{hand:this.data.hand,index:this.data.pair})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var t=this.createControllerModelUrl();this.loadModel(t)}else this.modelReady()},createControllerModelUrl:function(t){var e=this.el.components["tracked-controls"],n=e?e.controller:null,r="default",o=this.data.hand;if(n&&!window.hasNativeWebXRImplementation&&(o=n.hand,!t)){var l=n.id.match(E);r=l&&l[0]||r}return"https://cdn.aframe.io/controllers/microsoft/"+r+"/"+(w[o]||w.default)},injectTrackedControls:function(){var data=this.data;this.el.setAttribute("tracked-controls",{idPrefix:M,controller:data.pair,hand:data.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(t){var e=this.createControllerModelUrl(!0);t.detail.src!==e?(x("Failed to load controller model for device, attempting to load default."),this.loadModel(e)):x("Failed to load default controller model.")},loadModel:function(t){this.el.setAttribute("gltf-model","url("+t+")")},onModelLoaded:function(t){var i,e,n,r,o=this.controllerModel=t.detail.model,l=this.loadedMeshInfo;if(v("Processing model"),l.buttonMeshes={},l.axisMeshes={},o){for(i=0;i<this.mapping.buttons.length;i++)(e=this.mapping.buttonMeshNames[this.mapping.buttons[i]])?(n=o.getObjectByName(e))?(r={index:i,value:c(n,"VALUE"),pressed:c(n,"PRESSED"),unpressed:c(n,"UNPRESSED")}).value&&r.pressed&&r.unpressed?l.buttonMeshes[this.mapping.buttons[i]]=r:x("Missing button submesh under mesh with name: "+e+"(VALUE: "+!!r.value+", PRESSED: "+!!r.pressed+", UNPRESSED:"+!!r.unpressed+")"):x("Missing button mesh with name: "+e):v("Skipping unknown button at index: "+i+" with mapped name: "+this.mapping.buttons[i]);for(i=0;i<this.mapping.axisMeshNames.length;i++)(e=this.mapping.axisMeshNames[i])?(n=o.getObjectByName(e))?(r={index:i,value:c(n,"VALUE"),min:c(n,"MIN"),max:c(n,"MAX")}).value&&r.min&&r.max?l.axisMeshes[i]=r:x("Missing axis submesh under mesh with name: "+e+"(VALUE: "+!!r.value+", MIN: "+!!r.min+", MAX:"+!!r.max+")"):x("Missing axis mesh with name: "+e):v("Skipping unknown axis at index: "+i);this.calculateRayOriginFromMesh(o),this.setModelVisibility()}function c(t,e){for(var i=0,n=t.children.length;i<n;i++){var r=t.children[i];if(r&&r.name===e)return r}}v("Model load complete.")},calculateRayOriginFromMesh:(r=new THREE.Quaternion,function(t){var e;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,e=t.getObjectByName(this.mapping.pointingPoseMeshName)){var n=t.parent;n&&(t.parent=null,t.updateMatrixWorld(!0),t.parent=n),e.getWorldPosition(this.rayOrigin.origin),e.getWorldQuaternion(r),this.rayOrigin.direction.applyQuaternion(r),n&&t.updateMatrixWorld(!0)}else v("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}),lerpAxisTransform:function(){var t=new THREE.Quaternion;return function(e,n){var r=this.loadedMeshInfo.axisMeshes[e];if(r){var o=r.min,l=r.max,c=r.value,d=.5*n+.5;c.setRotationFromQuaternion(t.copy(o.quaternion).slerp(l.quaternion,d)),c.position.lerpVectors(o.position,l.position,d)}}}(),lerpButtonTransform:function(){var t=new THREE.Quaternion;return function(e,n){var r=this.loadedMeshInfo.buttonMeshes[e];if(r){var o=r.unpressed,l=r.pressed,c=r.value;c.setRotationFromQuaternion(t.copy(o.quaternion).slerp(l.quaternion,n)),c.position.lerpVectors(o.position,l.position,n)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(e,t.detail.state.value),this.el.emit(e+"changed",t.detail.state))},onAxisMoved:function(t){var e=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<e;n++)this.lerpAxisTransform(n,t.detail.axis[n]||0);m(this,this.mapping.axes,t)},setModelVisibility:function(t){var e=this.el.getObject3D("mesh");t=void 0!==t?t:this.modelVisible,this.modelVisible=t,e&&(e.visible=t)}})},{"../constants":117,"../core/component":125,"../utils/":198,"../utils/bind":192,"../utils/tracked-controls":206}],117:[function(t,e,n){e.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:t("./keyboardevent")}},{"./keyboardevent":118}],118:[function(t,e,n){e.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],119:[function(t,e,n){var r=t("./a-node"),o=t("../utils/bind"),l=t("../utils/debug"),c=t("./a-register-element").registerElement,d=t("../lib/three"),m=new d.FileLoader,h=l("core:a-assets:warn");function f(t){if(t.hasAttribute("autoplay")||"auto"===t.getAttribute("preload"))return new Promise((function(e,n){if(4===t.readyState)return e();if(t.error)return n();function r(){for(var n=0,i=0;i<t.buffered.length;i++)n+=t.buffered.end(i)-t.buffered.start(i);n>=t.duration&&("VIDEO"===t.tagName&&(d.Cache.files[t.getAttribute("src")]=t),e())}t.addEventListener("loadeddata",r,!1),t.addEventListener("progress",r,!1),t.addEventListener("error",n,!1)}))}function v(t){var e=function(t){var e,n,r;if(t.hasAttribute("crossorigin"))return t;if(null!==(e=t.getAttribute("src"))){if(-1===e.indexOf("://"))return t;if((r=(n=e).indexOf("://")>-1?n.split("/")[2]:n.split("/")[0]).substring(0,r.indexOf(":"))===window.location.host)return t}return h('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',e),t.crossOrigin="anonymous",t.cloneNode(!0)}(t);return e.tagName&&"video"===e.tagName.toLowerCase()&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")),e!==t&&(t.parentNode.appendChild(e),t.parentNode.removeChild(t)),e}function x(t){for(var e=new ArrayBuffer(2*t.length),view=new Uint16Array(e),i=0,n=t.length;i<n;i++)view[i]=t.charCodeAt(i);return e}e.exports=c("a-assets",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=m,this.timeout=null}},attachedCallback:{value:function(){var i,t,e,n,r,l,c=this,m=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(r=this.querySelectorAll("img"),i=0;i<r.length;i++)n=v(r[i]),m.push(new Promise((function(t,e){d.Cache.files[r[i].getAttribute("src")]=n,n.onload=t,n.onerror=e})));for(e=this.querySelectorAll("audio, video"),i=0;i<e.length;i++)(t=v(e[i])).src||t.srcObject||h("Audio/video asset has neither `src` nor `srcObject` attributes."),m.push(f(t));Promise.all(m).then(o(this.load,this)),l=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout((function(){c.hasLoaded||(h("Asset loading timed out in ",l,"ms"),c.emit("timeout"),c.load())}),l)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){r.prototype.load.call(this,null,(function(t){return t.isAssetItem&&t.hasAttribute("src")}))}}})}),c("a-asset-item",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var t=this,e=this.getAttribute("src"),n=this.getAttribute("response-type");m.setResponseType(n||"text"),m.load(e,(function(e){n||0!==e.indexOf("glTF")?t.data=e:t.data=x(e),setTimeout((function(){r.prototype.load.call(t)}))}),(function(e){t.emit("progress",{loadedBytes:e.loaded,totalBytes:e.total,xhr:e})}),(function(e){t.emit("error",{xhr:e})}))}}})}),e.exports.getArrayBuffer=x},{"../lib/three":173,"../utils/bind":192,"../utils/debug":194,"./a-node":123,"./a-register-element":124}],120:[function(t,e,n){var r=t("../utils/debug"),o=t("./a-register-element").registerElement,l=r("core:cubemap:warn");e.exports=o("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var i,t=this.querySelectorAll("[src]"),e=[];if(6===t.length){for(i=0;i<t.length;i++)e.push(t[i].getAttribute("src"));return e}l("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":194,"./a-register-element":124}],121:[function(t,e,n){var r,o,l,c=t("./a-node"),d=t("./component").components,m=t("./a-register-element").registerElement,h=t("../lib/three"),f=t("../utils/"),v=f.debug("core:a-entity:debug"),x=f.debug("core:a-entity:warn"),y=["position","rotation","scale","visible"],w={once:!0},A=Object.create(c.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new h.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(t,e,n){var component=this.components[t];component&&component.justInitialized&&""===n?delete component.justInitialized:(component||null!==n)&&this.setEntityAttribute(t,e,n)}},attachedCallback:{value:function(){var t,e=this.sceneEl,n=this;this.addToParent(),this.isScene||(e?!(t=e.querySelector("a-assets"))||t.hasLoaded?this.load():t.addEventListener("loaded",(function(){n.load()})):this.load())}},detachedCallback:{value:function(){var t;if(this.parentEl){for(t in this.components)this.removeComponent(t,!1);this.isScene||(this.removeFromParent(),c.prototype.detachedCallback.call(this),this.object3D.el=null)}}},getObject3D:{value:function(t){return this.object3DMap[t]}},setObject3D:{value:function(t,e){var n,r=this;if(!(e instanceof h.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(t))&&this.object3D.remove(n),e.el=this,e.children.length&&e.traverse((function(t){t.el=r})),this.object3D.add(e),this.object3DMap[t]=e,this.emit("object3dset",{object:e,type:t})}},removeObject3D:{value:function(t){var e=this.getObject3D(t);e?(this.object3D.remove(e),delete this.object3DMap[t],this.emit("object3dremove",{type:t})):x("Tried to remove `Object3D` of type:",t,"which was not defined.")}},getOrCreateObject3D:{value:function(t,e){var n=this.getObject3D(t);return!n&&e&&(n=new e,this.setObject3D(t,n)),x("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}},add:{value:function(t){if(!t.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(t.object3D),this.emit("child-attached",{el:t})}},addToParent:{value:function(){var t=this.parentEl=this.parentNode;t&&t.add&&!this.attachedToParent&&(t.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var t=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,t.emit("child-detached",{el:this})}},load:{value:function(){var t=this;!this.hasLoaded&&this.parentEl&&c.prototype.load.call(this,(function(){t.parentEl&&(t.updateComponents(),(t.isScene||t.parentEl.isPlaying)&&t.play())}))},writable:window.debug},remove:{value:function(t){t?this.object3D.remove(t.object3D):this.parentNode.removeChild(this)}},getChildEntities:{value:function(){for(var t=this.children,e=[],i=0;i<t.length;i++){var n=t[i];n instanceof r&&e.push(n)}return e}},initComponent:{value:function(t,data,e){var component,n,r,o;if(o=(r=f.split(t,"__"))[0],n=r.length>2?r.slice(1).join("__"):r[1],d[o]&&(E(this,t)||void 0!==data||e)&&!(t in this.components)){if(this.initComponentDependencies(o),n&&!d[o].multiple)throw new Error("Trying to initialize multiple components of type `"+o+"`. There can only be one component of this type per entity.");component=new d[o].Component(this,data,n),this.isPlaying&&component.play(),this.hasAttribute(t)||(component.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,t,"")),v("Component initialized: %s",t)}},writable:window.debug},initComponentDependencies:{value:function(t){var e,i;if(d[t]&&(e=d[t].dependencies))for(i=0;i<e.length;i++)this.initComponent(e[i],window.HTMLElement.prototype.getAttribute.call(this,e[i])||void 0,!0)}},removeComponent:{value:function(t,e){var component;(component=this.components[t])&&(component.initialized?(component.pause(),component.remove(),e&&(component.destroy(),delete this.components[t]),this.emit("componentremoved",component.evtDetail,!1)):this.addEventListener("componentinitialized",(function n(r){r.detail.name===t&&(this.removeComponent(t,e),this.removeEventListener("componentinitialized",n))})))},writable:window.debug},updateComponents:{value:function(){var data,t,i,e,n,r,o=this.componentsToUpdate;if(this.hasLoaded){for(i=0;i<this.mixinEls.length;i++)for(e in this.mixinEls[i].componentCache)M(e)&&(o[e]=!0);if(this.getExtraComponents)for(e in t=this.getExtraComponents())M(e)&&(o[e]=!0);for(i=0;i<this.attributes.length;++i)e=this.attributes[i].name,-1===y.indexOf(e)&&M(e)&&(o[e]=!0);for(i=0;i<y.length;i++)e=y[i],this.hasAttribute(e)&&this.updateComponent(e,this.getDOMAttribute(e));for(e in o)n=this.getDOMAttribute(e),r=t&&t[e],data=r?r.constructor===Object?f.extend(r,f.styleParser.parse(n||{})):n||r:n,this.updateComponent(e,data),delete o[e]}},writable:window.debug},updateComponent:{value:function(t,e,n){var component=this.components[t];if(component)return null!==e||E(this,t)?void component.updateProperties(e,n):void this.removeComponent(t,!0);this.initComponent(t,e,!1)}},removeAttribute:{value:function(t,e){var component=this.components[t];component&&void 0===e&&this.removeComponent(t,!0),component&&void 0!==e?component.resetProperty(e):("mixin"===t&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,t))}},play:{value:function(){var t,i,e;if(!this.isPlaying&&this.hasLoaded){for(e in this.isPlaying=!0,this.components)this.components[e].play();for(t=this.getChildEntities(),i=0;i<t.length;i++)t[i].play();this.emit("play")}},writable:!0},pause:{value:function(){var t,i,e;if(this.isPlaying){for(e in this.isPlaying=!1,this.components)this.components[e].pause();for(t=this.getChildEntities(),i=0;i<t.length;i++)t[i].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(t,e,n){if(d[t]||this.components[t])this.updateComponent(t,n);else if("mixin"===t){if(n===this.computedMixinStr)return;this.mixinUpdate(n,e)}}},mixinUpdate:{value:(l=[],function(t,e){var component,n,r,i,o=this;if(this.hasLoaded){for(e=e||this.getAttribute("mixin"),r=this.updateMixins(t,e),l.length=0,i=0;i<this.mixinEls.length;i++)for(component in this.mixinEls[i].componentCache)-1===l.indexOf(component)&&(this.components[component]?this.components[component].handleMixinUpdate():this.initComponent(component,null),l.push(component));for(i=0;i<r.oldMixinIds.length;i++)if(n=document.getElementById(r.oldMixinIds[i]))for(component in n.componentCache)-1===l.indexOf(component)&&this.components[component]&&(this.getDOMAttribute(component)?this.components[component].handleMixinUpdate():this.removeComponent(component,!0))}else this.addEventListener("loaded",(function(){o.mixinUpdate(t,e)}),w)})},setAttribute:{value:(o={},function(t,e,n){var r,l,m,h,v;if(m=(h=t.indexOf("__"))>0?t.substring(0,h):t,!d[m])return"mixin"===t&&this.mixinUpdate(e),void c.prototype.setAttribute.call(this,t,e);if(!this.components[t]&&this.hasAttribute(t)&&this.updateComponent(t,window.HTMLElement.prototype.getAttribute.call(this,t)),void 0!==n&&"string"==typeof e&&e.length>0&&"string"==typeof f.styleParser.parse(e)){for(v in o)delete o[v];(r=o)[e]=n,l=!1}else r=e,l=!0===n;this.updateComponent(t,r,l),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[t].flushToDOM()}),writable:window.debug},flushToDOM:{value:function(t){var e,i,n,r=this.components,o=this.children;for(n in r)r[n].flushToDOM();if(t)for(i=0;i<o.length;++i)(e=o[i]).flushToDOM&&e.flushToDOM(t)}},getAttribute:{value:function(t){var component,e,n,r,o;return"position"===t?this.object3D.position:"rotation"===t?(e=this,n=h.Math.radToDeg,r=e.object3D.rotation,(o=e.rotationObj).x=n(r.x),o.y=n(r.y),o.z=n(r.z),o):"scale"===t?this.object3D.scale:"visible"===t?this.object3D.visible:(component=this.components[t])?component.data:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},getDOMAttribute:{value:function(t){var component=this.components[t];return component?component.attrValue:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},addState:{value:function(t){this.is(t)||(this.states.push(t),this.emit("stateadded",t))}},removeState:{value:function(t){var e=this.states.indexOf(t);-1!==e&&(this.states.splice(e,1),this.emit("stateremoved",t))}},is:{value:function(t){return-1!==this.states.indexOf(t)}},inspect:{value:function(){this.sceneEl.components.inspector.openInspector(this)}},destroy:{value:function(){var t;if(this.parentNode)x("Entity can only be destroyed if detached from scenegraph.");else for(t in this.components)this.components[t].destroy()}}});function E(t,e){return!(!t.components[e]||!t.components[e].attrValue)||function(t,e){var i,n=!1;for(i=0;i<e.length&&!(n=e[i].hasAttribute(t));++i);return n}(e,t.mixinEls)}function M(t){return-1!==t.indexOf("__")&&(t=f.split(t,"__")[0]),!!d[t]}r=m("a-entity",{prototype:A}),e.exports=r},{"../lib/three":173,"../utils/":198,"./a-node":123,"./a-register-element":124,"./component":125}],122:[function(t,e,n){var r=t("./a-node"),o=t("./a-register-element").registerElement,l=t("./component").components,c=t("../utils");e.exports=o("a-mixin",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:function(t,e,n){this.cacheAttribute(t,n),this.updateEntities()}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(t,e){window.HTMLElement.prototype.setAttribute.call(this,t,e),this.cacheAttribute(t,e)}},cacheAttribute:{value:function(t,e){var component,n;n=c.split(t,"__")[0],(component=l[n])&&(void 0===e&&(e=window.HTMLElement.prototype.getAttribute.call(this,t)),this.componentCache[t]=component.parseAttrValueForCache(e))}},getAttribute:{value:function(t){return this.componentCache[t]||window.HTMLElement.prototype.getAttribute.call(this,t)}},cacheAttributes:{value:function(){var t,i,e=this.attributes;for(i=0;i<e.length;i++)t=e[i].name,this.cacheAttribute(t)}},updateEntities:{value:function(){var t,e,i;if(this.sceneEl)for(e=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),i=0;i<e.length;i++)(t=e[i]).hasLoaded&&!t.isMixin&&t.mixinUpdate(this.id)}}})})},{"../utils":198,"./a-node":123,"./a-register-element":124,"./component":125}],123:[function(t,e,n){var data,r,o,l,c=t("./a-register-element").registerElement,d=t("./a-register-element").isNode,m=t("../utils/"),h=m.debug("core:a-node:warn"),f=m.debug("core:a-node:error");e.exports=c("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:function(){this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]},writable:window.debug},attachedCallback:{value:function(){var t;this.sceneEl=this.closestScene(),this.sceneEl||h("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(t=this.getAttribute("mixin"))&&this.updateMixins(t)},writable:window.debug},attributeChangedCallback:{value:function(t,e,n){n!==this.computedMixinStr&&("mixin"!==t||this.isMixin||this.updateMixins(n,e))}},closestScene:{value:function(){for(var element=this;element&&!element.isScene;)element=element.parentElement;return element}},closest:{value:function(t){for(var e=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,element=this;element&&!e.call(element,t);)element=element.parentElement;return element}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(t,e){var n,r=this;this.hasLoaded||(e=e||d,n=this.getChildren().filter(e).map((function(t){return new Promise((function(e){if(t.hasLoaded)return e();t.addEventListener("loaded",e)}))})),Promise.all(n).then((function(){r.hasLoaded=!0,t&&t(),r.emit("loaded",void 0,!1)})).catch((function(t){f("Failure loading node: ",t)})))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:(r=[],o=[],l={},function(t,e){var i,n,c;for(r.length=0,o.length=0,n=t?m.split(t.trim(),/\s+/):r,c=e?m.split(e.trim(),/\s+/):o,l.newMixinIds=n,l.oldMixinIds=c,i=0;i<c.length;i++)-1===n.indexOf(c[i])&&this.unregisterMixin(c[i]);for(this.computedMixinStr="",this.mixinEls.length=0,i=0;i<n.length;i++)this.registerMixin(document.getElementById(n[i]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),l})},registerMixin:{value:function(t){var e,i,n;if(t){if(n=t.getAttribute("mixin"))for(e=m.split(n.trim(),/\s+/),i=0;i<e.length;i++)this.registerMixin(document.getElementById(e[i]));this.computedMixinStr=this.computedMixinStr+" "+t.id,this.mixinEls.push(t)}}},setAttribute:{value:function(t,e){"mixin"===t&&this.updateMixins(e),window.HTMLElement.prototype.setAttribute.call(this,t,e)}},unregisterMixin:{value:function(t){var i,e=this.mixinEls;for(i=0;i<e.length;++i)if(t===e[i].id){e.splice(i,1);break}}},emit:{value:(data={},function(t,e,n,r){void 0===n&&(n=!0),data.bubbles=!!n,data.detail=e,r&&(data=m.extend({},r,data)),this.dispatchEvent(new CustomEvent(t,data))}),writable:window.debug}})})},{"../utils/":198,"./a-register-element":124}],124:[function(t,e,n){var r,o;t("document-register-element");var l=e.exports.knownTags={};function c(t,e,n,r){e.forEach((function(e){!function(t,e,n,r){var o=n[e],l=r[e];o&&l&&o!==l&&(t[e]={value:function(){return l.apply(this,arguments),o.apply(this,arguments)},writable:window.debug})}(t,e,n,r)}))}function d(source,t){Object.getOwnPropertyNames(source).forEach((function(e){var desc;t[e]||(desc=Object.getOwnPropertyDescriptor(source,e),t[e]={value:source[e],writable:desc.writable})}))}e.exports.isNode=function(t){return t.tagName.toLowerCase()in l||t.isNode},e.exports.registerElement=function(t,e){var n=Object.getPrototypeOf(e.prototype),m=e,h=r&&n===r.prototype,f=o&&n===o.prototype;return(h||f)&&function(t){l[t.toLowerCase()]=!0}(t),h&&(m=function(t){var e={};return c(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,r.prototype),d(t,e),e}(e.prototype),m={prototype:Object.create(n,m)}),f&&(m=function(t){var e={};return c(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,r.prototype),c(e,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],t,o.prototype),d(t,e),e}(e.prototype),m={prototype:Object.create(n,m)}),Object.getOwnPropertyNames(m.prototype).forEach((function(t){var e=m.prototype[t];"function"==typeof e&&(e.displayName=t)})),document.registerElement(t,m)},e.exports.wrapMethods=c,r=t("./a-node"),o=t("./a-entity")},{"./a-entity":121,"./a-node":123,"document-register-element":12}],125:[function(t,e,n){var r=t("./schema"),o=t("./scene/scenes"),l=t("./system"),c=t("../utils/"),d=e.exports.components={},m=r.parseProperties,h=r.parseProperty,f=r.process,v=r.isSingleProperty,x=r.stringifyProperties,y=r.stringifyProperty,w=c.styleParser,A=c.debug("core:component:warn"),E=document.currentScript,M=new RegExp("[A-Z]+"),T={},_=e.exports.Component=function(t,e,n){var r=this;this.el=t,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.isSingleProperty=v(this.schema),this.isSinglePropertyObject=this.isSingleProperty&&k(h(void 0,this.schema))&&!(this.schema.default instanceof window.HTMLElement),this.isObjectBased=!this.isSingleProperty||this.isSinglePropertyObject,this.el.components[this.attrName]=this,this.objectPool=T[this.name];const o=this.events;this.events={},function(component,t){var e;for(e in t)component.events[e]=t[e].bind(component)}(this,o),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),c.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),c.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),c.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),c.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=c.throttle((function(){t.emit("componentchanged",r.evtDetail,!1)}),200),this.updateProperties(e)};if(_.prototype={schema:{},init:function(){},events:{},update:function(t){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(t,e){var n=this.schema;return this.isSingleProperty?h(t,n):m(w.parse(t),n,!0,this.name,e)},stringify:function(data){var t=this.schema;return"string"==typeof data?data:this.isSingleProperty?y(data,t):(data=x(data,t),w.stringify(data))},updateCachedAttrValue:function(t,e){var n,r,o;if(void 0!==t){if(null===t)return this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),void(this.attrValue=void 0);if(t instanceof Object&&!(t instanceof window.HTMLElement)?(r=this.objectPool.use(),n=c.extend(r,t)):n=this.parseAttrValueForCache(t),this.isObjectBased&&!e&&this.attrValue)for(o in this.attrValue)void 0===n[o]&&(n[o]=this.attrValue[o]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),c.objectPool.clearObject(this.attrValue),this.attrValue=L(this.attrValue,n,this.isObjectBased),c.objectPool.clearObject(r)}},parseAttrValueForCache:function(t){var e;return"string"!=typeof t?t:(this.isSingleProperty?"string"==typeof(e=this.schema.parse(t))&&(e=t):(c.objectPool.clearObject(this.parsingAttrValue),e=w.parse(t,this.parsingAttrValue)),e)},flushToDOM:function(t){var e=t?this.data:this.attrValue;null!=e&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(e))},updateProperties:function(t,e){this.el.hasLoaded?(null!==t&&(t=this.parseAttrValueForCache(t)),this.updateCachedAttrValue(t,e),this.initialized?(this.updateComponent(t,e),this.callUpdateHandler()):this.initComponent()):this.updateCachedAttrValue(t)},initComponent:function(){var t,e=this.el;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),e.initializingComponents[this.name]||(e.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete e.initializingComponents[this.name],this.oldData=L(this.oldData,this.data,this.isObjectBased),t=this.isObjectBased?this.objectPool.use():void 0,this.update(t),this.isObjectBased&&this.objectPool.recycle(t),e.isPlaying&&this.play(),e.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(t,e){var n,r;if(e)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));if(this.isSingleProperty)return this.isObjectBased&&h(t,this.schema),void(this.data=t);if(m(t,this.schema,!0,this.name),this.schemaChangeKeys.length)for(n in t)if(this.schema[n].schemaChange){r=!0;break}if(r)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));for(n in t)void 0!==t[n]&&(this.data[n]=t[n])},callUpdateHandler:function(){var t;this.previousOldData instanceof Object&&c.objectPool.clearObject(this.previousOldData),this.isObjectBased?C(this.previousOldData,this.oldData):this.previousOldData=this.oldData,t=!c.deepEqual(this.oldData,this.data),(this.isPositionRotationScale||t)&&(this.oldData instanceof Object&&c.objectPool.clearObject(this.oldData),this.oldData=L(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(t){if(this.isObjectBased){if(!(t in this.attrValue))return;delete this.attrValue[t],this.data[t]=this.schema[t].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(t){var e;e=c.extend({},d[this.name].schema),c.extend(e,t),this.schema=f(e),this.el.emit("schemachanged",this.evtDetail)},buildData:function(t,e,n){var r,data,o,l,d,i,f,v=this.nextData,x=this.schema,y=this.el.mixinEls;if(r=t&&t.constructor===Array?t.length:null!=t,this.isObjectBased&&c.objectPool.clearObject(v),this.isSingleProperty)data=this.isObjectBased?C(v,x.default):P(x.default)?c.clone(x.default):x.default;else for(l in data=(f=!e&&this.attrValue)instanceof Object?C(v,f):v,x)o=x[l].default,void 0===data[l]&&(data[l]=P(o)?c.clone(o):o);for(i=0;i<y.length;i++)(d=y[i].getAttribute(this.attrName))&&(data=L(data,d,this.isObjectBased));if(r){if(this.isSingleProperty)return k(t)?(C(this.parsingAttrValue,t),h(this.parsingAttrValue,x)):h(t,x);data=L(data,t,this.isObjectBased)}else if(this.isSingleProperty)return h(data,x);return m(data,x,void 0,this.name,n)},eventsAttach:function(){var t;for(t in this.eventsDetach(),this.events)this.el.addEventListener(t,this.events[t])},eventsDetach:function(){var t;for(t in this.events)this.el.removeEventListener(t,this.events[t])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}},window.debug)var S=e.exports.registrationOrderWarnings={};function C(t,e){var n,r;for(r in e)void 0!==e[r]&&(n=e[r],t[r]=P(n)?c.clone(n):n);return t}function L(t,source,e){var n;if(e&&source.constructor===Object){for(n in source)void 0!==source[n]&&(source[n]&&source[n].constructor===Object?t[n]=c.clone(source[n]):t[n]=source[n]);return t}return source}function R(component){return component.tick||component.tock}function k(t){return t&&t.constructor===Object&&!(t instanceof window.HTMLElement)}function P(t){return t&&(t.constructor===Object||t.constructor===Array)&&!(t instanceof window.HTMLElement)}e.exports.registerComponent=function(t,e){var n,r,m,h,x,y,w={};if(document.currentScript&&document.currentScript!==E&&o.forEach((function(e){e.hasLoaded||document.currentScript.compareDocumentPosition(e)!==Node.DOCUMENT_POSITION_FOLLOWING&&(A("The component `"+t+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(S[t]=!0))})),!0===M.test(t)&&A("The component name `"+t+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+t.toLowerCase()+"`"),-1!==t.indexOf("__"))throw new Error("The component name `"+t+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(e).forEach((function(t){w[t]={value:e[t],writable:!0}})),d[t])throw new Error("The component `"+t+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(((n=function(t,e,n){_.call(this,t,e,n)}).prototype=Object.create(_.prototype,w)).name=t,n.prototype.isPositionRotationScale="position"===t||"rotation"===t||"scale"===t,n.prototype.constructor=n,n.prototype.system=l&&l.systems[t],n.prototype.play=(x=n.prototype.play,function(){var t=this.el.sceneEl,e=this.el.isPlaying&&!this.isPlaying;this.initialized&&e&&(x.call(this),this.isPlaying=!0,this.eventsAttach(),R(this)&&t.addBehavior(this))}),n.prototype.pause=(y=n.prototype.pause,function(){var t=this.el.sceneEl;this.isPlaying&&(y.call(this),this.isPlaying=!1,this.eventsDetach(),R(this)&&t.removeBehavior(this))}),m=c.extend(f(n.prototype.schema,n.prototype.name)),!(h=v(n.prototype.schema)))for(r in n.prototype.schemaChangeKeys=[],m)m[r].schemaChange&&n.prototype.schemaChangeKeys.push(r);return T[t]=c.objectPool.createPool(),d[t]={Component:n,dependencies:n.prototype.dependencies,isSingleProp:h,multiple:n.prototype.multiple,name:t,parse:n.prototype.parse,parseAttrValueForCache:n.prototype.parseAttrValueForCache,schema:m,stringify:n.prototype.stringify,type:n.prototype.type},n}},{"../utils/":198,"./scene/scenes":132,"./schema":134,"./system":136}],126:[function(t,e,n){var r=t("./schema").process,o=e.exports.geometries={},l=e.exports.geometryNames=[],c=t("../lib/three"),d=e.exports.Geometry=function(){};d.prototype={schema:{},init:function(data){return this.geometry=new c.Geometry,this.geometry},update:function(data){}},e.exports.registerGeometry=function(t,e){var n,c={};if(Object.keys(e).forEach((function(t){c[t]={value:e[t],writable:!0}})),o[t])throw new Error("The geometry `"+t+"` has been already registered");return((n=function(){d.call(this)}).prototype=Object.create(d.prototype,c)).name=t,n.prototype.constructor=n,o[t]={Geometry:n,schema:r(n.prototype.schema)},l.push(t),n}},{"../lib/three":173,"./schema":134}],127:[function(t,e,n){var r=t("../utils/coordinates"),o=t("debug"),l=o("core:propertyTypes:warn"),c=o("core:propertyTypes:warn"),d=e.exports.propertyTypes={},m=/[,> .[\]:]/,h=/\url\((.+)\)/;function f(t,e,n,r){"type"in d?l("Property type "+t+" is already registered."):d[t]={default:e,parse:n||x,stringify:r||y}}function v(t){var e,n;return"string"!=typeof t?t:(n=t.match(h))?n[1]:"#"===t.charAt(0)?(e=document.getElementById(t.substring(1)))?"CANVAS"===e.tagName||"VIDEO"===e.tagName||"IMG"===e.tagName?e:e.getAttribute("src"):void c('"'+t+'" asset not found.'):t}function x(t){return t}function y(t){return null===t?"null":t.toString()}function w(t){return parseInt(t,10)}function A(t){return r.parse(t,this.default)}function E(t,e){if(null===t)return!0;if("object"!=typeof t)return!1;if(Object.keys(t).length!==e)return!1;var n=t.x,r=t.y,o=t.z,l=t.w;return!("number"!=typeof n||"number"!=typeof r||e>2&&"number"!=typeof o||e>3&&"number"!=typeof l)}f("audio","",v),f("array",[],(function(t){return Array.isArray(t)?t:t&&"string"==typeof t?t.split(",").map((function(t){return t.trim()})):[]}),(function(t){return t.join(", ")})),f("asset","",v),f("boolean",!1,(function(t){return"false"!==t&&!1!==t})),f("color","#FFF",x,y),f("int",0,w),f("number",0,(function(t){return parseFloat(t,10)})),f("map","",v),f("model","",v),f("selector",null,(function(t){return t?"string"!=typeof t?t:"#"!==t[0]||m.test(t)?document.querySelector(t):document.getElementById(t.substring(1)):null}),(function(t){return t.getAttribute?"#"+t.getAttribute("id"):y(t)})),f("selectorAll",null,(function(t){return t?"string"!=typeof t?t:Array.prototype.slice.call(document.querySelectorAll(t),0):null}),(function(t){return t instanceof Array?t.map((function(element){return"#"+element.getAttribute("id")})).join(", "):y(t)})),f("src","",(function(t){return c("`src` property type is deprecated. Use `asset` instead."),v(t)})),f("string","",x,y),f("time",0,w),f("vec2",{x:0,y:0},A,r.stringify),f("vec3",{x:0,y:0,z:0},A,r.stringify),f("vec4",{x:0,y:0,z:0,w:1},A,r.stringify),e.exports.registerPropertyType=f,e.exports.isValidDefaultValue=function(t,e){return("audio"!==t||"string"==typeof e)&&!("array"===t&&!Array.isArray(e))&&("asset"!==t||"string"==typeof e)&&("boolean"!==t||"boolean"==typeof e)&&("color"!==t||"string"==typeof e)&&("int"!==t||"number"==typeof e)&&("number"!==t||"number"==typeof e)&&("map"!==t||"string"==typeof e)&&("model"!==t||"string"==typeof e)&&("selector"!==t||"string"==typeof e||null===e)&&("selectorAll"!==t||"string"==typeof e||null===e)&&("src"!==t||"string"==typeof e)&&("string"!==t||"string"==typeof e)&&("time"!==t||"number"==typeof e)&&("vec2"===t?E(e,2):"vec3"===t?E(e,3):"vec4"!==t||E(e,4))},e.exports.isValidDefaultCoordinate=E},{"../utils/coordinates":193,debug:8}],128:[function(t,e,n){var r=t("./metaTags").inject,o=t("./wakelock"),l=t("./loadingScreen"),c=t("../a-register-element"),d=t("./scenes"),m=t("../system").systems,h=t("../../lib/three"),f=t("../../utils/"),v=t("../a-entity"),x=t("../a-node"),y=t("./postMessage"),w=f.bind,A=f.device.isIOS(),E=f.device.isMobile(),M=f.device.isWebXRAvailable,T=c.registerElement,_=f.debug("core:a-scene:warn");function S(t,e,n,r){return e?{height:t.parentElement.offsetHeight,width:t.parentElement.offsetWidth}:function(t,e){var n,r,o=window.devicePixelRatio;return r={height:document.body.offsetHeight,width:document.body.offsetWidth},!t||e||-1===t.width&&-1===t.height||r.width*o<t.width&&r.height*o<t.height||(n=r.width/r.height,r.width*o>t.width&&-1!==t.width&&(r.width=Math.round(t.width/o),r.height=Math.round(t.width/n/o)),r.height*o>t.height&&-1!==t.height&&(r.height=Math.round(t.height/o),r.width=Math.round(t.height*n/o))),r}(n,r)}function C(t){var e;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||t.exitVR(),document.activeElement.blur(),document.body.focus()}(e=document.createElement("canvas")).classList.add("a-canvas"),e.dataset.aframeCanvas=!0,t.appendChild(e),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),e.addEventListener("touchmove",(function(t){t.preventDefault()})),t.canvas=e,t.emit("render-target-loaded",{target:e}),setTimeout(w(t.resize,t),0)}e.exports.AScene=T("a-scene",{prototype:Object.create(v.prototype,{createdCallback:{value:function(){this.clock=new h.Clock,this.isIOS=A,this.isMobile=E,this.hasWebXR=M,this.isAR=!1,this.isScene=!0,this.object3D=new h.Scene;var t=this;this.object3D.onAfterRender=function(e,n,r){t.isPlaying&&t.tock(t.time,t.delta,r)},this.render=w(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui","")}},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-fullscreen")}},attachedCallback:{value:function(){var t=this,e=this.hasAttribute("embedded");C(this),this.setupRenderer(),this.resize(),e||this.addFullScreenStyles(),y(this),r(this),o(this),this.onVRPresentChangeBound=w(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){t.enterVR()},this.exitVRBound=function(){t.exitVR()},this.exitVRTrueBound=function(){t.exitVR(!0)},this.pointerRestrictedBound=function(){t.pointerRestricted()},this.pointerUnrestrictedBound=function(){t.pointerUnrestricted()},M||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),this.addEventListener("cameraready",(function(){t.attachedCallbackPostCamera()})),this.initSystems()}},attachedCallbackPostCamera:{value:function(){var t,e=this;t=w(this.resize,this),window.addEventListener("load",t),window.addEventListener("resize",(function(){e.isIOS?setTimeout(t,100):t()})),this.play(),d.push(this)},writable:window.debug},initSystems:{value:function(){var t;for(t in this.initSystem("camera"),m)"camera"!==t&&this.initSystem(t)}},initSystem:{value:function(t){this.systems[t]||(this.systems[t]=new m[t](this),this.systemNames.push(t))}},detachedCallback:{value:function(){var t=d.indexOf(this);d.splice(t,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)}},addBehavior:{value:function(t){var e,n,r=this.behaviors;for(n in r)t[n]&&-1===(e=this.behaviors[n]).indexOf(t)&&e.push(t)}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:f.device.checkHeadsetConnected,writable:window.debug},enterAR:{value:function(){if(!this.hasWebXR)throw new Error("Failed to enter AR mode, WebXR not supported.");this.enterVR(!0)}},enterVR:{value:function(t){var e,n=this,r=n.renderer.xr;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(e=f.device.getVRDisplay(),r.enabled=!0,r.setDevice(e),!this.hasWebXR){if(e=f.device.getVRDisplay(),r.setDevice(e),e.isPresenting&&!window.hasNativeWebVRImplementation)return c(),Promise.resolve();var o=this.getAttribute("renderer"),l={highRefreshRate:o.highRefreshRate,foveationLevel:o.foveationLevel};return e.requestPresent([{source:this.canvas,attributes:l}]).then(c,(function(t){throw t&&t.message?new Error("Failed to enter VR mode (`requestPresent`): "+t.message):new Error("Failed to enter VR mode (`requestPresent`).")}))}return this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound),navigator.xr.requestSession(t?"immersive-ar":"immersive-vr",{requiredFeatures:["local-floor"],optionalFeatures:["bounded-floor"]}).then((function(e){n.xrSession=e,r.setSession(e),e.addEventListener("end",n.exitVRBound),t&&n.addState("ar-mode"),c()})),Promise.resolve()}return c(),Promise.resolve();function c(){var t,canvas;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(t=new CustomEvent("vrdisplaypresentchange",{detail:{display:f.device.getVRDisplay()}}),window.dispatchEvent(t)),n.addState("vr-mode"),n.emit("enter-vr",{target:n}),!M&&n.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),n.addFullScreenStyles(),n.isMobile||n.checkHeadsetConnected()||((canvas=n.canvas).requestFullscreen||canvas.webkitRequestFullscreen||canvas.mozRequestFullScreen||canvas.msRequestFullscreen).apply(canvas,[{navigationUI:"hide"}]),n.renderer.setAnimationLoop(n.render),n.resize()}},writable:!0},exitVR:{value:function(){var t,e=this,n=this.renderer.xr;if(!this.is("vr-mode"))return Promise.resolve("Not in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(n.enabled=!1,t=f.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then((function(){}),(function(){})),this.xrSession=void 0,n.setSession(null);else if(t.isPresenting)return t.exitPresent().then(r,(function(t){throw t&&t.message?new Error("Failed to exit VR mode (`exitPresent`): "+t.message):new Error("Failed to exit VR mode (`exitPresent`).")}))}else(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen());return r(),Promise.resolve();function r(){e.removeState("vr-mode"),e.removeState("ar-mode"),e.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.hasAttribute("embedded")&&e.removeFullScreenStyles(),e.resize(),e.isIOS&&f.forceCanvasResizeSafariMobile(e.canvas),e.renderer.setPixelRatio(window.devicePixelRatio),e.emit("exit-vr",{target:e})}},writable:!0},pointerRestricted:{value:function(){if(this.canvas){var t=this.getPointerLockElement();t&&t!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},pointerUnrestricted:{value:function(){var t=this.getPointerLockElement();t&&t===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(t){var e=t.display||t.detail.display;e&&e.isPresenting?this.enterVR():this.exitVR()}},getAttribute:{value:function(t){var e=this.systems[t];return e?e.data:v.prototype.getAttribute.call(this,t)}},getComputedAttribute:{value:function(t){_("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(t)}},getDOMAttribute:{value:function(t){var e=this.systems[t];return e?e.data:v.prototype.getDOMAttribute.call(this,t)}},setAttribute:{value:function(t,e,n){var r=this.systems[t];if(r)return x.prototype.setAttribute.call(this,t,e),void r.updateProperties(e);v.prototype.setAttribute.call(this,t,e,n)}},removeBehavior:{value:function(t){var e,n,r,o=this.behaviors;for(n in o)t[n]&&-1!==(r=(e=this.behaviors[n]).indexOf(t))&&e.splice(r,1)}},resize:{value:function(){var t,e,n=this.camera,canvas=this.canvas,r=this.renderer.xr.isPresenting();t=this.renderer.xr.enabled&&r,!n||!canvas||this.is("vr-mode")&&(this.isMobile||t)||(e=S(canvas,this.getAttribute("embedded")&&!this.is("vr-mode"),this.maxCanvasSize,this.is("vr-mode")),n.aspect=e.width/e.height,n.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height,!1),this.emit("rendererresize",null,!1))},writable:!0},setupRenderer:{value:function(){var t,e,n,r,o=this;r={alpha:!0,antialias:!E,canvas:this.canvas,logarithmicDepthBuffer:!1},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(n=this.getAttribute("renderer"),(e=f.styleParser.parse(n)).precision&&(r.precision=e.precision+"p"),e.antialias&&"auto"!==e.antialias&&(r.antialias="true"===e.antialias),e.logarithmicDepthBuffer&&"auto"!==e.logarithmicDepthBuffer&&(r.logarithmicDepthBuffer="true"===e.logarithmicDepthBuffer),e.alpha&&(r.alpha="true"===e.alpha),this.maxCanvasSize={width:e.maxCanvasWidth?parseInt(e.maxCanvasWidth):this.maxCanvasSize.width,height:e.maxCanvasHeight?parseInt(e.maxCanvasHeight):this.maxCanvasSize.height}),(t=this.renderer=new h.WebGLRenderer(r)).setPixelRatio(window.devicePixelRatio),t.sortObjects=!1,this.camera&&t.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",(function(){t.xr.setPoseTarget(o.camera.el.object3D)})),l.setup(this,S)},writable:window.debug},play:{value:function(){var t=this,e=this;this.renderStarted?v.prototype.play.call(this):(this.addEventListener("loaded",(function(){var t,n=this.renderer,r=this.renderer.xr;v.prototype.play.call(this),e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),l.remove(),(t=f.device.getVRDisplay())&&t.isPresenting&&(r.setDevice(t),r.enabled=!0,e.enterVR()),n.setAnimationLoop(this.render),e.renderStarted=!0,e.emit("renderstart")))})),setTimeout((function(){v.prototype.load.call(t)})))}},updateComponent:{value:function(t){t in m||v.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(time,t){var i,e=this.systems;for(i=0;i<this.behaviors.tick.length;i++)this.behaviors.tick[i].el.isPlaying&&this.behaviors.tick[i].tick(time,t);for(i=0;i<this.systemNames.length;i++)e[this.systemNames[i]].tick&&e[this.systemNames[i]].tick(time,t)}},tock:{value:function(time,t,e){var i,n=this.systems;for(i=0;i<this.behaviors.tock.length;i++)this.behaviors.tock[i].el.isPlaying&&this.behaviors.tock[i].tock(time,t,e);for(i=0;i<this.systemNames.length;i++)n[this.systemNames[i]].tock&&n[this.systemNames[i]].tock(time,t,e)}},render:{value:function(time,t){var e=this.renderer;this.frame=t,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta);var n=null;this.is("ar-mode")&&(n=this.object3D.background,this.object3D.background=null),e.render(this.object3D,this.camera),n&&(this.object3D.background=n)},writable:!0}})}),e.exports.setupCanvas=C},{"../../lib/three":173,"../../utils/":198,"../a-entity":121,"../a-node":123,"../a-register-element":124,"../system":136,"./loadingScreen":129,"./metaTags":130,"./postMessage":131,"./scenes":132,"./wakelock":133}],129:[function(t,e,n){var r,o,l,c=t("../../utils/").styleParser;function d(t){var e=r.hasAttribute("embedded"),n=l(r.canvas,e,r.maxCanvasSize,r.is("vr-mode"));t.aspect=n.width/n.height,t.updateProjectionMatrix(),r.renderer.setSize(n.width,n.height,!1)}e.exports.setup=function(t,e){l=e;var n,m,h,f,v,x,y,w,time,A,E=(r=t).hasAttribute("loading-screen")?c.parse(r.getAttribute("loading-screen")):void 0,M=E&&E.dotsColor||"white",T=E&&E.backgroundColor||"#24CAFF";(void 0===E||"true"===E.enabled||void 0===E.enabled)&&(n=new THREE.Scene,m=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),h=new THREE.MeshBasicMaterial({color:M}),f=new THREE.Mesh(m,h),v=f.clone(),x=f.clone(),y=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),w=new THREE.Clock,time=0,A=function(){r.renderer.render(n,y),time=w.getElapsedTime()%4,f.visible=time>=1,v.visible=time>=2,x.visible=time>=3},n.background=new THREE.Color(T),n.add(y),f.position.set(-1,0,-15),v.position.set(0,0,-15),x.position.set(1,0,-15),y.add(f),y.add(v),y.add(x),(o=document.createElement("div")).className="a-loader-title",o.innerHTML=document.title,o.style.display="none",r.appendChild(o),setTimeout((function(){r.hasLoaded||(d(y),o.style.display="block",window.addEventListener("resize",(function(){d(y)})),r.renderer.setAnimationLoop(A))}),200))},e.exports.remove=function(){window.removeEventListener("resize",d),o&&(o.style.display="none")}},{"../../utils/":198}],130:[function(t,e,n){var r,o=t("../../constants/"),l=t("../../utils").extend,c=e.exports.MOBILE_HEAD_TAGS=[m({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),m({name:"mobile-web-app-capable",content:"yes"}),m({name:"theme-color",content:"black"})],d=[m({name:"apple-mobile-web-app-capable",content:"yes"}),m({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(r={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:r,exists:function(){return document.querySelector('link[rel="'+r.rel+'"]')}})];function m(t){return{tagName:"meta",attributes:t,exists:function(){return document.querySelector('meta[name="'+t.name+'"]')}}}e.exports.inject=function(t){var e,n=document.head,r=n.querySelector("script"),m=[];return c.forEach(h),t.isIOS&&d.forEach(h),m;function h(t){t&&!t.exists()&&(e=function(t){if(t&&t.tagName){var meta=document.createElement(t.tagName);return meta.setAttribute(o.AFRAME_INJECTED,""),l(meta,t.attributes)}}(t))&&(r?r.parentNode.insertBefore(e,r):n.appendChild(e),m.push(e))}}},{"../../constants/":117,"../../utils":198}],131:[function(t,e,n){var r=t("../../utils/bind"),o=t("../../utils/").isIframed;function l(t){if(t.data)switch(t.data.type){case"vr":switch(t.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}}e.exports=function(t){o()&&window.addEventListener("message",r(l,t))}},{"../../utils/":198,"../../utils/bind":192}],132:[function(t,e,n){e.exports=[]},{}],133:[function(t,e,n){var r=t("../../../vendor/wakelock/wakelock");e.exports=function(t){if(t.isMobile){var e=t.wakelock=new r;t.addEventListener("enter-vr",(function(){e.request()})),t.addEventListener("exit-vr",(function(){e.release()}))}}},{"../../../vendor/wakelock/wakelock":211}],134:[function(t,e,n){var r,o=t("../utils/"),l=t("./propertyTypes"),c=o.debug,d=l.isValidDefaultValue,m=l.propertyTypes,h=c("core:schema:warn");function f(t){return"type"in t?"string"==typeof t.type:"default"in t}function v(t,e){var n,r,o=t.default,l=t.type;return t.type?"bool"===t.type?l="boolean":"float"===t.type&&(l="number"):l=void 0===o||"boolean"!=typeof o&&"number"!=typeof o?Array.isArray(o)?"array":"string":typeof o,(r=m[l])||h("Unknown property type for component `"+e+"`: "+l),n=!!t.parse,t.parse=t.parse||r.parse,t.stringify=t.stringify||r.stringify,t.type=l,"default"in t?n||d(l,o)||h("Default value `"+o+"` does not match type `"+l+"` in component `"+e+"`"):t.default=r.default,t}function x(t,e){return null!=t&&""!==t||(t=e.default,Array.isArray(t)&&(t=t.slice())),e.parse(t,e.default)}function y(t,e){return"object"!=typeof t?t:e&&null!==t?e.stringify(t):JSON.stringify(t)}e.exports.isSingleProperty=f,e.exports.process=function(t,e){var n;if(f(t))return v(t,e);for(n in t)t[n]=v(t[n],e);return t},e.exports.processPropertyDefinition=v,e.exports.parseProperties=(r=[],function(t,e,n,o,l){var i,c,d,m;for(c in r.length=0,n?t:e)n&&void 0===t[c]||r.push(c);if(null===t||"object"!=typeof t)return t;for(c in t)void 0===t[c]||e[c]||l||h("Unknown property `"+c+"` for component/system `"+o+"`.");for(i=0;i<r.length;i++){if(d=e[c=r[i]],m=t[c],!e[c])return;t[c]=x(m,d)}return t}),e.exports.parseProperty=x,e.exports.stringifyProperties=function(t,e){var n,r,o,l,c={};for(n in t)r=e[n],"object"==typeof(l=o=t[n])&&(l=y(o,r),r||h("Unknown component property: "+n)),c[n]=l;return c},e.exports.stringifyProperty=y},{"../utils/":198,"./propertyTypes":127}],135:[function(t,e,n){var r=t("./schema").process,o=e.exports.shaders={},l=e.exports.shaderNames=[],c=t("../lib/three"),d=t("../utils"),m={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},h=e.exports.Shader=function(){};h.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(data){return this.attributes=this.initVariables(data,"attribute"),this.uniforms=this.initVariables(data,"uniform"),this.material=new(this.raw?c.RawShaderMaterial:c.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(data,t){var e,n,r=this.schema,o={};for(e in r)r[e].is===t&&(n=m[r[e].type],o[e]={type:n,value:void 0});return o},update:function(data){this.updateVariables(data,"attribute"),this.updateVariables(data,"uniform")},updateVariables:function(data,t){var e,n,r,o=this.schema;for(e in r="uniform"===t?this.uniforms:this.attributes,data)if(o[e]&&o[e].is===t)if("map"!==o[e].type)r[e].value=this.parseValue(o[e].type,data[e]),r[e].needsUpdate=!0;else{if(!r[e]||r[e].value===data[e])continue;n="_texture_"+e,this.setMapOnTextureLoad(r,e,n),d.material.updateMapMaterialFromData(n,e,this,data)}},parseValue:function(t,e){var n;switch(t){case"vec2":return new c.Vector2(e.x,e.y);case"vec3":return new c.Vector3(e.x,e.y,e.z);case"vec4":return new c.Vector4(e.x,e.y,e.z,e.w);case"color":return n=new c.Color(e),new c.Vector3(n.r,n.g,n.b);case"map":return c.ImageUtils.loadTexture(e);default:return e}},setMapOnTextureLoad:function(t,e,n){var r=this;this.el.addEventListener("materialtextureloaded",(function(){t[e].value=r.material[n],t[e].needsUpdate=!0}))}},e.exports.registerShader=function(t,e){var n,c={};if(Object.keys(e).forEach((function(t){c[t]={value:e[t],writable:!0}})),o[t])throw new Error("The shader "+t+" has been already registered");return((n=function(){h.call(this)}).prototype=Object.create(h.prototype,c)).name=t,n.prototype.constructor=n,o[t]={Shader:n,schema:r(n.prototype.schema)},l.push(t),n}},{"../lib/three":173,"../utils":198,"./schema":134}],136:[function(t,e,n){var r=t("./component"),o=t("./schema"),l=t("../utils/"),c=o.parseProperties,d=o.parseProperty,m=o.process,h=o.isSingleProperty,f=l.styleParser,v=e.exports.systems={},x=e.exports.System=function(t){var component=r&&r.components[this.name];this.el=t,this.sceneEl=t,component&&(component.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};x.prototype={schema:{},init:function(){},update:function(t){},updateProperties:function(t){var e=this.data;Object.keys(o).length&&(this.buildData(t),this.update(e))},buildData:function(t){var e=this.schema;Object.keys(e).length&&(t=t||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),h(e)?this.data=d(t,e):this.data=c(f.parse(t)||{},e))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},e.exports.registerSystem=function(t,e){var i,n,r={},o=l.findAllScenes(document);if(Object.keys(e).forEach((function(t){r[t]={value:e[t],writable:!0}})),v[t])throw new Error("The system `"+t+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((n=function(t){x.call(this,t)}).prototype=Object.create(x.prototype,r)).name=t,n.prototype.constructor=n,n.prototype.schema=l.extend(m(n.prototype.schema)),v[t]=n,i=0;i<o.length;i++)o[i].initSystem(t)}},{"../utils/":198,"./component":125,"./schema":134}],137:[function(t,e,n){t("./pivot")},{"./pivot":138}],138:[function(t,e,n){var r=t("../../core/component").registerComponent,o=t("../../lib/three"),l=new o.Vector3,c=new o.Vector3;r("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var data=this.data,t=this.el,e=t.object3D.parent,n=t.object3D,r=new o.Group;l.copy(n.position),c.copy(n.rotation),e.remove(n),r.add(n),e.add(r),t.object3D=r,n.position.set(-1*data.x,-1*data.y,-1*data.z),r.position.set(data.x+l.x,data.y+l.y,data.z+l.z),r.rotation.copy(n.rotation),n.rotation.set(0,0,0)}})},{"../../core/component":125,"../../lib/three":173}],139:[function(t,e,n){var r=t("../../core/component").components,o=t("../../core/shader").shaders,l=t("../../utils/"),c={};function d(t){var e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===t&&(e="material-fog"),"visible"===t&&(e="material-visible"),c[e]="material."+t}Object.keys(r.material.schema).forEach(d),Object.keys(o.standard.schema).forEach(d),e.exports=function(){return{defaultComponents:{material:{}},mappings:l.extend({},c)}}},{"../../core/component":125,"../../core/shader":135,"../../utils/":198}],140:[function(t,e,n){t("./primitives/a-camera"),t("./primitives/a-cursor"),t("./primitives/a-curvedimage"),t("./primitives/a-gltf-model"),t("./primitives/a-image"),t("./primitives/a-light"),t("./primitives/a-link"),t("./primitives/a-obj-model"),t("./primitives/a-sky"),t("./primitives/a-sound"),t("./primitives/a-text"),t("./primitives/a-video"),t("./primitives/a-videosphere"),t("./primitives/meshPrimitives")},{"./primitives/a-camera":142,"./primitives/a-cursor":143,"./primitives/a-curvedimage":144,"./primitives/a-gltf-model":145,"./primitives/a-image":146,"./primitives/a-light":147,"./primitives/a-link":148,"./primitives/a-obj-model":149,"./primitives/a-sky":150,"./primitives/a-sound":151,"./primitives/a-text":152,"./primitives/a-video":153,"./primitives/a-videosphere":154,"./primitives/meshPrimitives":155}],141:[function(t,e,n){var r=t("../../core/a-entity"),o=t("../../core/component").components,l=t("../../core/a-register-element").registerElement,c=t("../../utils/"),d=c.debug,m=c.entity.setComponentProperty,h=d("extras:primitives:debug"),f=d("extras:primitives:warn"),v=e.exports.primitives={};e.exports.registerPrimitive=function(t,e){t=t.toLowerCase(),h("Registering <%s>",t),e.defaultAttributes&&f("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=l(t,{prototype:Object.create(r.prototype,{defaultComponentsFromPrimitive:{value:e.defaultComponents||e.defaultAttributes||{}},deprecated:{value:e.deprecated||null},deprecatedMappings:{value:e.deprecatedMappings||{}},mappings:{value:e.mappings||{}},createdCallback:{value:function(){e.deprecated&&console.warn(e.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var t=this.mappings,e=this;Object.keys(t).forEach((function(n){var r;n!==n.toLowerCase()&&f("Mapping keys should be specified in lower case. The mapping key "+n+" may not be recognized"),o[n]&&(r=t[n].replace(".","-"),t[r]=t[n],delete t[n],console.warn("The primitive "+e.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))}))}},getExtraComponents:{value:function(){var t,data,i,e,n,path,r=this;for(data=c.clone(this.defaultComponentsFromPrimitive),(n=this.getAttribute("mixin"))&&(n=n.trim().split(" ")).forEach((function(t){var e=r.sceneEl.querySelector("#"+t).componentCache;Object.keys(e).forEach((function(t){var base,n;data[t]=(base=data[t],n=e[t],o(base)?l(n):o(n)?l(base):d(base)&&d(n)?c.extendDeep(base,n):l(n))}))})),i=0;i<this.attributes.length;i++)t=this.attributes[i],(e=this.mappings[t.name])&&((path=c.entity.getComponentPropertyPath(e)).constructor===Array?(data[path[0]]=data[path[0]]||{},data[path[0]][path[1]]=t.value.trim()):data[path]=t.value.trim());return data;function o(t){return void 0===t}function l(t){return d(t)?c.extendDeep({},t):t}function d(t){return null!==t&&t.constructor===Object}}},attributeChangedCallback:{value:function(t,e,n){var r=this.mappings[t];t in this.deprecatedMappings&&console.warn(this.deprecatedMappings[t]),t&&r&&m(this,r,n)}}})});return v[t]=n,n},e.exports.definePrimitive=function(t,n,r){r=r||{},Object.keys(n).map((function(t){!function(t,e){var n=o[t].schema;Object.keys(n).map((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==e[r]&&(r=t+"-"+n),e[r]=t+"."+n}))}(t,r)})),e.exports.registerPrimitive(t,c.extendDeep({},null,{defaultComponents:n,mappings:r}))}},{"../../core/a-entity":121,"../../core/a-register-element":124,"../../core/component":125,"../../utils/":198}],142:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},{"../primitives":141}],143:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-cursor",t("../../../utils/").extendDeep({},r(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],144:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-curvedimage",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],145:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":141}],146:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-image",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],147:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":141}],148:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},{"../primitives":141}],149:[function(t,e,n){var r=t("../getMeshMixin")();(0,t("../primitives").registerPrimitive)("a-obj-model",t("../../../utils/").extendDeep({},r,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],150:[function(t,e,n){var r=t("../getMeshMixin"),o=t("../primitives").registerPrimitive,l=t("../../../utils/"),c=t("./meshPrimitives");o("a-sky",l.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:l.extendDeep({},c["a-sphere"].prototype.mappings)}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141,"./meshPrimitives":155}],151:[function(t,e,n){(0,t("../primitives").registerPrimitive)("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":141}],152:[function(t,e,n){(0,t("../primitives").definePrimitive)("a-text",{text:{anchor:"align",width:5}})},{"../primitives":141}],153:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-video",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],154:[function(t,e,n){var r=t("../getMeshMixin");(0,t("../primitives").registerPrimitive)("a-videosphere",t("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],155:[function(t,e,n){var r=t("../getMeshMixin"),o=t("../../../core/geometry").geometries,l=t("../../../core/geometry").geometryNames,c=t("../primitives").registerPrimitive,d=t("../../../utils/"),m=e.exports={};function h(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}l.forEach((function(t){var e=o[t],n=h(t),l={};Object.keys(e.schema).forEach((function(t){l[h(t)]="geometry."+t}));var f="a-"+n,v=c(f,d.extendDeep({},r(),{defaultComponents:{geometry:{primitive:t}},mappings:l}));m[f]=v}))},{"../../../core/geometry":126,"../../../utils/":198,"../getMeshMixin":139,"../primitives":141}],156:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(data){this.geometry=new o.BoxGeometry(data.width,data.height,data.depth,data.segmentsWidth,data.segmentsHeight,data.segmentsDepth)}})},{"../core/geometry":126,"../lib/three":173}],157:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=o.Math.degToRad;r("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(data){this.geometry=new o.CircleGeometry(data.radius,data.segments,l(data.thetaStart),l(data.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],158:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=o.Math.degToRad;r("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(data){this.geometry=new o.CylinderGeometry(data.radiusTop,data.radiusBottom,data.height,data.segmentsRadial,data.segmentsHeight,data.openEnded,l(data.thetaStart),l(data.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],159:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=o.Math.degToRad;r("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(data){this.geometry=new o.CylinderGeometry(data.radius,data.radius,data.height,data.segmentsRadial,data.segmentsHeight,data.openEnded,l(data.thetaStart),l(data.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],160:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(data){this.geometry=new o.DodecahedronGeometry(data.radius,data.detail)}})},{"../core/geometry":126,"../lib/three":173}],161:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(data){this.geometry=new o.IcosahedronGeometry(data.radius,data.detail)}})},{"../core/geometry":126,"../lib/three":173}],162:[function(t,e,n){t("./box.js"),t("./circle.js"),t("./cone.js"),t("./cylinder.js"),t("./dodecahedron.js"),t("./icosahedron.js"),t("./octahedron.js"),t("./plane.js"),t("./ring.js"),t("./sphere.js"),t("./tetrahedron.js"),t("./torus.js"),t("./torusKnot.js"),t("./triangle.js")},{"./box.js":156,"./circle.js":157,"./cone.js":158,"./cylinder.js":159,"./dodecahedron.js":160,"./icosahedron.js":161,"./octahedron.js":163,"./plane.js":164,"./ring.js":165,"./sphere.js":166,"./tetrahedron.js":167,"./torus.js":168,"./torusKnot.js":169,"./triangle.js":170}],163:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(data){this.geometry=new o.OctahedronGeometry(data.radius,data.detail)}})},{"../core/geometry":126,"../lib/three":173}],164:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(data){this.geometry=new o.PlaneGeometry(data.width,data.height,data.segmentsWidth,data.segmentsHeight)}})},{"../core/geometry":126,"../lib/three":173}],165:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=o.Math.degToRad;r("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(data){this.geometry=new o.RingGeometry(data.radiusInner,data.radiusOuter,data.segmentsTheta,data.segmentsPhi,l(data.thetaStart),l(data.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],166:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=o.Math.degToRad;r("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(data){this.geometry=new o.SphereGeometry(data.radius,data.segmentsWidth,data.segmentsHeight,l(data.phiStart),l(data.phiLength),l(data.thetaStart),l(data.thetaLength))}})},{"../core/geometry":126,"../lib/three":173}],167:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(data){this.geometry=new o.TetrahedronGeometry(data.radius,data.detail)}})},{"../core/geometry":126,"../lib/three":173}],168:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=o.Math.degToRad;r("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(data){this.geometry=new o.TorusGeometry(data.radius,2*data.radiusTubular,data.segmentsRadial,data.segmentsTubular,l(data.arc))}})},{"../core/geometry":126,"../lib/three":173}],169:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three");r("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(data){this.geometry=new o.TorusKnotGeometry(data.radius,2*data.radiusTubular,data.segmentsTubular,data.segmentsRadial,data.p,data.q)}})},{"../core/geometry":126,"../lib/three":173}],170:[function(t,e,n){var r=t("../core/geometry").registerGeometry,o=t("../lib/three"),l=new o.Quaternion,c=new o.Vector3(0,0,1),d=new o.Vector2,m=new o.Vector2,h=new o.Vector2;r("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(data){var t,e,n,r,f,v;(n=new o.Triangle).a.set(data.vertexA.x,data.vertexA.y,data.vertexA.z),n.b.set(data.vertexB.x,data.vertexB.y,data.vertexB.z),n.c.set(data.vertexC.x,data.vertexC.y,data.vertexC.z),e=n.getNormal(new o.Vector3),l.setFromUnitVectors(e,c),r=n.a.clone().applyQuaternion(l),f=n.b.clone().applyQuaternion(l),v=n.c.clone().applyQuaternion(l),d.set(Math.min(r.x,f.x,v.x),Math.min(r.y,f.y,v.y)),m.set(Math.max(r.x,f.x,v.x),Math.max(r.y,f.y,v.y)),h.set(0,0).subVectors(m,d),r=(new o.Vector2).subVectors(r,d).divide(h),f=(new o.Vector2).subVectors(f,d).divide(h),v=(new o.Vector2).subVectors(v,d).divide(h),(t=this.geometry=new o.Geometry).vertices.push(n.a),t.vertices.push(n.b),t.vertices.push(n.c),t.faces.push(new o.Face3(0,1,2,e)),t.faceVertexUvs[0]=[[r,f,v]]}})},{"../core/geometry":126,"../lib/three":173}],171:[function(t,e,n){window.Promise=window.Promise||t("promise-polyfill");var r=/(OculusBrowser)/i.test(window.navigator.userAgent);if(window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=!r&&void 0!==navigator.xr,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var o=t("./utils/isIOSOlderThan10")(window.navigator.userAgent)?1/window.devicePixelRatio:1,l=t("webvr-polyfill"),c={BUFFER_SCALE:o,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0};window.webvrpolyfill=new l(c)}var d=t("./utils/"),m=d.debug;d.isIE11&&(t("custom-event-polyfill"),t("../vendor/starts-with-polyfill"));var h=m("A-Frame:error"),f=m("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&f("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),"file:"===window.location.protocol&&h("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),t("present"),d.device.isBrowserEnvironment&&(t("./style/aframe.css"),t("./style/rStats.css"));var v=t("./core/scene/a-scene").AScene,x=t("./core/component").components,y=t("./core/component").registerComponent,w=t("./core/geometry").registerGeometry,A=t("./extras/primitives/primitives").registerPrimitive,E=t("./core/shader").registerShader,M=t("./core/system").registerSystem,T=t("./core/shader").shaders,_=t("./core/system").systems,S=window.THREE=t("./lib/three"),C=t("../package");t("./components/index"),t("./geometries/index"),t("./shaders/index"),t("./systems/index");var L=t("./core/a-node"),R=t("./core/a-entity");t("./core/a-assets"),t("./core/a-cubemap"),t("./core/a-mixin"),t("./extras/components/"),t("./extras/primitives/"),console.log("A-Frame Version: 1.0.0 (Date 2019-12-14, Commit #dc7d6174)"),console.log("three Version (https://github.com/supermedium/three.js):",C.dependencies["super-three"]),console.log("WebVR Polyfill Version:",C.dependencies["webvr-polyfill"]),e.exports=window.AFRAME={AComponent:t("./core/component").Component,AEntity:R,ANode:L,ANIME:t("super-animejs"),AScene:v,components:x,coreComponents:Object.keys(x),geometries:t("./core/geometry").geometries,registerComponent:y,registerElement:t("./core/a-register-element").registerElement,registerGeometry:w,registerPrimitive:A,registerShader:E,registerSystem:M,primitives:{getMeshMixin:t("./extras/primitives/getMeshMixin"),primitives:t("./extras/primitives/primitives").primitives},scenes:t("./core/scene/scenes"),schema:t("./core/schema"),shaders:T,systems:_,THREE:S,utils:d,version:C.version}},{"../package":72,"../vendor/starts-with-polyfill":209,"./components/index":81,"./core/a-assets":119,"./core/a-cubemap":120,"./core/a-entity":121,"./core/a-mixin":122,"./core/a-node":123,"./core/a-register-element":124,"./core/component":125,"./core/geometry":126,"./core/scene/a-scene":128,"./core/scene/scenes":132,"./core/schema":134,"./core/shader":135,"./core/system":136,"./extras/components/":137,"./extras/primitives/":140,"./extras/primitives/getMeshMixin":139,"./extras/primitives/primitives":141,"./geometries/index":162,"./lib/three":173,"./shaders/index":175,"./style/aframe.css":180,"./style/rStats.css":181,"./systems/index":185,"./utils/":198,"./utils/isIOSOlderThan10":200,"custom-event-polyfill":7,present:48,"promise-polyfill":50,"super-animejs":56,"webvr-polyfill":67}],172:[function(t,e,n){window.aframeStats=function(t){var e=null,n=t;return{update:function(){var t;e("te").set((t=n.querySelectorAll("*"),Array.prototype.slice.call(t).filter((function(t){return t.isEntity})),t.length)),window.performance.getEntriesByName&&e("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(t){e=t},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"==typeof e&&(e.exports={aframeStats:window.aframeStats})},{}],173:[function(t,e,r){(function(n){var r=n.THREE=t("super-three");r.TextureLoader&&(r.TextureLoader.prototype.crossOrigin="anonymous"),r.ImageLoader&&(r.ImageLoader.prototype.crossOrigin="anonymous"),r.Cache&&(r.Cache.enabled=!0),t("super-three/examples/js/loaders/DRACOLoader"),t("super-three/examples/js/loaders/GLTFLoader"),t("super-three/examples/js/loaders/OBJLoader"),t("super-three/examples/js/loaders/MTLLoader"),r.DRACOLoader.prototype.crossOrigin="anonymous",r.GLTFLoader.prototype.crossOrigin="anonymous",r.MTLLoader.prototype.crossOrigin="anonymous",r.OBJLoader.prototype.crossOrigin="anonymous",e.exports=r}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"super-three":57,"super-three/examples/js/loaders/DRACOLoader":58,"super-three/examples/js/loaders/GLTFLoader":59,"super-three/examples/js/loaders/MTLLoader":60,"super-three/examples/js/loaders/OBJLoader":61}],174:[function(t,e,n){var r=t("../core/shader").registerShader,o=t("../lib/three"),l=t("../utils/");function c(data,t){return t.color.set(data.color),t.fog=data.fog,t.wireframe=data.wireframe,t.wireframeLinewidth=data.wireframeLinewidth,t}e.exports.Shader=r("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(data){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new o.Color},this.textureSrc=null,c(data,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new o.MeshBasicMaterial(this.materialData),l.material.updateMap(this,data)},update:function(data){this.updateMaterial(data),l.material.updateMap(this,data)},updateMaterial:function(data){var t;for(t in c(data,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.materialData)this.material[t]=this.materialData[t]}})},{"../core/shader":135,"../lib/three":173,"../utils/":198}],175:[function(t,e,n){t("./flat"),t("./standard"),t("./sdf"),t("./msdf"),t("./ios10hls")},{"./flat":174,"./ios10hls":176,"./msdf":177,"./sdf":178,"./standard":179}],176:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},{"../core/shader":135}],177:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sample = texture2D(map, vUV).rgb;","  if (negate) { sample = 1.0 - sample; }","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n")})},{"../core/shader":135}],178:[function(t,e,n){var r=t("../core/shader").registerShader;e.exports.Shader=r("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":135}],179:[function(t,e,n){var r=t("../core/shader").registerShader,o=t("../lib/three"),l=t("../utils/"),c=new o.CubeTextureLoader,d={};function m(data,t){return t.color.set(data.color),t.emissive.set(data.emissive),t.emissiveIntensity=data.emissiveIntensity,t.fog=data.fog,t.metalness=data.metalness,t.roughness=data.roughness,t.wireframe=data.wireframe,t.wireframeLinewidth=data.wireframeLinewidth,data.normalMap&&(t.normalScale=data.normalScale),data.ambientOcclusionMap&&(t.aoMapIntensity=data.ambientOcclusionMapIntensity),data.displacementMap&&(t.displacementScale=data.displacementScale,t.displacementBias=data.displacementBias),t}e.exports.Shader=r("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(data){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new o.Color,emissive:new o.Color},m(data,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new o.MeshStandardMaterial(this.materialData),l.material.updateMap(this,data),data.normalMap&&l.material.updateDistortionMap("normal",this,data),data.displacementMap&&l.material.updateDistortionMap("displacement",this,data),data.ambientOcclusionMap&&l.material.updateDistortionMap("ambientOcclusion",this,data),data.metalnessMap&&l.material.updateDistortionMap("metalness",this,data),data.roughnessMap&&l.material.updateDistortionMap("roughness",this,data),this.updateEnvMap(data)},update:function(data){this.updateMaterial(data),l.material.updateMap(this,data),data.normalMap&&l.material.updateDistortionMap("normal",this,data),data.displacementMap&&l.material.updateDistortionMap("displacement",this,data),data.ambientOcclusionMap&&l.material.updateDistortionMap("ambientOcclusion",this,data),data.metalnessMap&&l.material.updateDistortionMap("metalness",this,data),data.roughnessMap&&l.material.updateDistortionMap("roughness",this,data),this.updateEnvMap(data)},updateMaterial:function(data){var t,e=this.material;for(t in m(data,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.materialData)e[t]=this.materialData[t]},updateEnvMap:function(data){var t=this,e=this.material,n=data.envMap,r=data.sphericalEnvMap;if(!n&&!r||this.isLoadingEnvMap)return e.envMap=null,void(e.needsUpdate=!0);this.isLoadingEnvMap=!0,r?this.el.sceneEl.systems.material.loadTexture(r,{src:r},(function(n){t.isLoadingEnvMap=!1,n.mapping=o.SphericalReflectionMapping,e.envMap=n,l.material.handleTextureEvents(t.el,n),e.needsUpdate=!0})):d[n]?d[n].then((function(n){t.isLoadingEnvMap=!1,e.envMap=n,l.material.handleTextureEvents(t.el,n),e.needsUpdate=!0})):d[n]=new Promise((function(r){l.srcLoader.validateCubemapSrc(n,(function(n){c.load(n,(function(n){t.isLoadingEnvMap=!1,e.envMap=n,l.material.handleTextureEvents(t.el,n),r(n)}))}))}))}})},{"../core/shader":135,"../lib/three":173,"../utils/":198}],180:[function(t,e,n){var r="html.a-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0}html.a-fullscreen body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}html.a-fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}html:not(.a-fullscreen) .a-enter-ar,html:not(.a-fullscreen) .a-enter-vr{right:5px;bottom:5px}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}canvas.a-canvas.a-mouse-cursor-hover:hover{cursor:pointer}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-ar,.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-ar{right:80px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff;user-select:none;outline:0}.a-enter-vr-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.35)}.a-enter-ar-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.2)}.a-enter-ar-button,.a-enter-vr-button{background-size:90% 90%;border:0;bottom:0;cursor:pointer;min-width:58px;min-height:34px;padding-right:0;padding-top:0;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999;border-radius:8px}.a-enter-ar-button{background-size:100% 90%;margin-right:10px;border-radius:7px}.a-enter-ar-button:active,.a-enter-ar-button:hover,.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#ef2d5e}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}.a-loader-title{background-color:rgba(0,0,0,.6);font-family:sans-serif,monospace;text-align:center;font-size:20px;height:50px;font-weight:300;line-height:50px;position:absolute;right:0;left:0;top:0;color:#fff}.a-modal{background:0 0/50% 50% rgba(0,0,0,.6);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-dialog{position:relative;left:50%;top:50%;transform:translate(-50%,-50%);z-index:199995;width:300px;height:200px;background-size:contain;background-color:#fff;font-family:sans-serif,monospace;font-size:20px;border-radius:3px;padding:6px}.a-dialog-text-container{width:100%;height:70%;align-self:flex-start;display:flex;justify-content:center;align-content:center;flex-direction:column}.a-dialog-text{display:inline-block;font-weight:400;font-size:14pt;margin:8px}.a-dialog-buttons-container{display:inline-flex;align-self:flex-end;width:100%;height:30%}.a-dialog-button{cursor:pointer;align-self:center;opacity:.9;height:80%;width:50%;font-size:12pt;margin:4px;border-radius:2px;text-align:center;border:none;display:inline-block;-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;box-shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.2);user-select:none}.a-dialog-permission-button:hover{box-shadow:0 7px 14px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.2)}.a-dialog-allow-button{background-color:#8ce3ba}.a-dialog-deny-button{background-color:#ff4b8b}.a-dialog-ok-button{background-color:#8ce3ba;width:100%}";t("browserify-css").createStyle(r,{href:"src/style/aframe.css"}),e.exports=r},{"browserify-css":4}],181:[function(t,e,n){var r=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";t("browserify-css").createStyle(r,{href:"src/style/rStats.css"}),e.exports=r},{"browserify-css":4}],182:[function(t,e,n){var r=t("../constants/"),o=t("../core/system").registerSystem;e.exports.System=o("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var t,i,e=this.sceneEl,n=this;if(!e.camera||e.camera.el.getAttribute("camera").spectator)if((t=e.querySelectorAll("a-camera, [camera]")).length)for(this.numUserCameras=t.length,i=0;i<t.length;i++)t[i].addEventListener("object3dset",(function(t){"camera"===t.detail.type&&n.checkUserCamera(this)})),t[i].isNode?t[i].load():t[i].addEventListener("nodeready",(function(){this.load()}));else this.createDefaultCamera();else e.emit("cameraready",{cameraEl:e.camera.el})},checkUserCamera:function(t){var e,n=this.el.sceneEl;this.numUserCamerasChecked++,this.initialCameraFound||((e=t.getAttribute("camera")).active&&!e.spectator?(this.initialCameraFound=!0,n.camera=t.getObject3D("camera"),n.emit("cameraready",{cameraEl:t})):this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera())},createDefaultCamera:function(){var t,e=this.sceneEl;(t=document.createElement("a-entity")).setAttribute("camera",{active:!0}),t.setAttribute("position",{x:0,y:r.DEFAULT_CAMERA_HEIGHT,z:0}),t.setAttribute("wasd-controls",""),t.setAttribute("look-controls",""),t.setAttribute(r.AFRAME_INJECTED,""),t.addEventListener("object3dset",(function(n){"camera"===n.detail.type&&(e.camera=n.detail.object,e.emit("cameraready",{cameraEl:t}))})),e.appendChild(t)},disableActiveCamera:function(){var t;(t=this.sceneEl.querySelectorAll("[camera]"))[t.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(t){var e,n,i,r,o=this.activeCameraEl,l=this.sceneEl;if((r=t.getObject3D("camera"))&&t!==this.activeCameraEl){var c=l.querySelector("[data-aframe-default-camera]");for(t!==(c&&c.querySelector("[camera]"))&&function(t){var e;t.camera&&(e=t.querySelector("[data-aframe-default-camera]"))&&t.removeChild(e)}(l),this.activeCameraEl=t,this.activeCameraEl.play(),l.camera=r,o&&o.setAttribute("camera","active",!1),n=l.querySelectorAll("[camera]"),i=0;i<n.length;i++)(e=n[i]).isEntity&&t!==e&&(e.setAttribute("camera","active",!1),e.pause());l.emit("camera-set-active",{cameraEl:t})}},setSpectatorCamera:function(t){var e,n=this.spectatorCameraEl,r=this.sceneEl;t.getObject3D("camera")&&t!==this.spectatorCameraEl&&(n&&n.setAttribute("camera","spectator",!1),e=this.spectatorCameraEl=t,r.addEventListener("enter-vr",this.wrapRender),r.addEventListener("exit-vr",this.unwrapRender),e.setAttribute("camera","active",!1),e.play(),r.emit("camera-set-spectator",{cameraEl:t}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){this.spectatorCameraEl&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(t,e){var n,r,o=this.sceneEl;n=o.renderer.xr.enabled,this.originalRender.call(o.renderer,t,e),this.spectatorCameraEl&&!o.isMobile&&n&&(r=this.spectatorCameraEl.components.camera.camera,o.renderer.xr.enabled=!1,this.originalRender.call(o.renderer,t,r),o.renderer.xr.enabled=n)}})},{"../constants/":117,"../core/system":136}],183:[function(t,e,n){var r=t("../core/geometry").geometries,o=t("../core/system").registerSystem,l=t("../lib/three");function c(data){var t,e,n=data.primitive,o=r[n]&&r[n].Geometry,c=new o;if(!o)throw new Error("Unknown geometry `"+n+"`");return c.init(data),t=c.geometry,data.buffer?((e=(new l.BufferGeometry).fromGeometry(t)).metadata={type:t.type,parameters:t.parameters||{}},t.dispose(),e):t}e.exports.System=o("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(data){var t,e,n=this.cache;return data.skipCache?c(data):(t=n[e=this.hash(data)],function(t,e){t[e]=void 0===t[e]?1:t[e]+1}(this.cacheCount,e),t||(t=c(data),n[e]=t,t))},unuseGeometry:function(data){var t,e=this.cache,n=this.cacheCount;data.skipCache||e[t=this.hash(data)]&&(function(t,e){t[e]--}(n,t),n[t]>0||(e[t].dispose(),delete e[t],delete n[t]))},hash:function(data){return JSON.stringify(data)}})},{"../core/geometry":126,"../core/system":136,"../lib/three":173}],184:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../lib/three");e.exports.System=r("gltf-model",{schema:{dracoDecoderPath:{default:""}},init:function(){var path=this.data.dracoDecoderPath;this.dracoLoader=new o.DRACOLoader,this.dracoLoader.setDecoderPath(path)},update:function(){var path;this.dracoLoader||(path=this.data.dracoDecoderPath,this.dracoLoader=new o.DRACOLoader,this.dracoLoader.setDecoderPath(path))},getDRACOLoader:function(){return this.dracoLoader}})},{"../core/system":136,"../lib/three":173}],185:[function(t,e,n){t("./camera"),t("./geometry"),t("./gltf-model"),t("./light"),t("./material"),t("./renderer"),t("./shadow"),t("./tracked-controls-webvr"),t("./tracked-controls-webxr")},{"./camera":182,"./geometry":183,"./gltf-model":184,"./light":186,"./material":187,"./renderer":188,"./shadow":189,"./tracked-controls-webvr":190,"./tracked-controls-webxr":191}],186:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../utils/bind"),l=t("../constants/");e.exports.System=r("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",o(this.setupDefaultLights,this))},registerLight:function(t){t.hasAttribute("data-aframe-default-light")||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var t,e=this.sceneEl;if(this.defaultLights){t=document.querySelectorAll("[data-aframe-default-light]");for(var i=0;i<t.length;i++)e.removeChild(t[i]);this.defaultLights=!1}},setupDefaultLights:function(){var t,e,n=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((t=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),t.setAttribute("data-aframe-default-light",""),t.setAttribute(l.AFRAME_INJECTED,""),n.appendChild(t),(e=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),e.setAttribute("position",{x:-.5,y:1,z:1}),e.setAttribute("data-aframe-default-light",""),e.setAttribute(l.AFRAME_INJECTED,""),n.appendChild(e),this.defaultLights=!0)}})},{"../constants/":117,"../core/system":136,"../utils/bind":192}],187:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../lib/three"),l=t("../utils/"),c=t("../utils/material").isHLS,d=l.bind,m=l.debug,h=m("components:texture:error"),f=new o.TextureLoader,v=m("components:texture:warn");function x(t,data){var e=data.offset||{x:0,y:0},n=data.repeat||{x:1,y:1};!!data.npot&&(t.wrapS=o.ClampToEdgeWrapping,t.wrapT=o.ClampToEdgeWrapping,t.magFilter=o.LinearFilter,t.minFilter=o.LinearFilter),1===n.x&&1===n.y||(t.wrapS=o.RepeatWrapping,t.wrapT=o.RepeatWrapping,t.repeat.set(n.x,n.y)),0===e.x&&0===e.y||t.offset.set(e.x,e.y)}f.setCrossOrigin("anonymous"),e.exports.System=r("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",d(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(t,data,e){var n=this;if("CANVAS"!==t.tagName){if("VIDEO"===t.tagName)return t.src||t.srcObject||t.childElementCount||v("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(t,data,e);l.srcLoader.validateSrc(t,(function(t){n.loadImage(t,data,e)}),(function(t){n.loadVideo(t,data,e)}))}else this.loadCanvas(t,data,e)},loadImage:function(t,data,e){var n=this.hash(data),r=this.textureCache;r[n]||(r[n]=function(t,data){return new Promise((function(e,n){function r(t){x(t,data),t.needsUpdate=!0,e(t)}"string"==typeof t?f.load(t,r,(function(){}),(function(t){h("`$s` could not be fetched (Error code: %s; Response: %s)",t.status,t.statusText)})):r(new o.Texture(t))}))}(t,data)),r[n].then(e)},loadCanvas:function(t,data,e){var n;x(n=new o.CanvasTexture(t),data),e(n)},loadVideo:function(t,data,e){var n,r,l,d,m=this.textureCache;function h(t){t.texture.needsUpdate=!0,e(t.texture,t.videoEl)}if("string"!=typeof t){if(l=t,m[n=this.hashVideo(data,l)])return void m[n].then(h);!function(t){t.autoplay=t.hasAttribute("autoplay")&&"false"!==t.getAttribute("autoplay"),t.controls=t.hasAttribute("controls")&&"false"!==t.getAttribute("controls"),"false"===t.getAttribute("loop")&&t.removeAttribute("loop"),"false"===t.getAttribute("preload")&&(t.preload="none"),t.crossOrigin=t.crossOrigin||"anonymous",t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")}(l)}l=l||function(t,e,n){var r=document.createElement("video");return r.width=e,r.height=n,r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.autoplay=!0,r.loop=!0,r.crossOrigin="anonymous",r.addEventListener("error",(function(){v("`$s` is not a valid video",t)}),!0),r.src=t,r}(t,data.width,data.height),m[n=this.hashVideo(data,l)]?m[n].then(h):((r=new o.VideoTexture(l)).minFilter=o.LinearFilter,x(r,data),this.sceneEl.isIOS&&c(l.src||l.getAttribute("src"),l.type||l.getAttribute("type"))&&(r.format=o.RGBAFormat,r.needsCorrectionBGRA=!0,r.flipY=!1,r.needsCorrectionFlipY=!0),d={texture:r,videoEl:l},m[n]=Promise.resolve(d),h(d))},hash:function(data){return data.src.tagName&&((data=l.extendDeep({},data)).src=data.src.src),JSON.stringify(data)},hashVideo:function(data,t){return function(data,t){var i,e,n,r=t.getAttribute("id");if(r)return r;for(e="",n=data||{},i=0;i<t.attributes.length;i++)n[t.attributes[i].name]=t.attributes[i].value;return Object.keys(n).sort().forEach((function(t){e+=t+":"+n[t]+";"})),e}(data,t)},registerMaterial:function(t){this.materials[t.uuid]=t},unregisterMaterial:function(t){delete this.materials[t.uuid];var e=this.textureCounts;Object.keys(t).filter((function(e){return t[e]&&t[e].isTexture})).forEach((function(n){e[t[n].uuid]--,e[t[n].uuid]<=0&&t[n].dispose()}))},updateMaterials:function(t){var e=this.materials;Object.keys(e).forEach((function(t){e[t].needsUpdate=!0}))},onMaterialTextureLoaded:function(t){this.textureCounts[t.detail.texture.uuid]||(this.textureCounts[t.detail.texture.uuid]=0),this.textureCounts[t.detail.texture.uuid]++}})},{"../core/system":136,"../lib/three":173,"../utils/":198,"../utils/material":201}],188:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../utils/"),l=t("../lib/three"),c=(0,o.debug)("components:renderer:warn");e.exports.System=r("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:o.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:0}},init:function(){var data=this.data,t=this.el,e=t.renderer;e.sortObjects=data.sortObjects,e.physicallyCorrectLights=data.physicallyCorrectLights,(data.colorManagement||data.gammaOutput)&&(e.gammaOutput=!0,e.gammaFactor=2.2,data.gammaOutput&&c('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),t.hasAttribute("antialias")&&c('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),t.hasAttribute("logarithmicDepthBuffer")&&c('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},applyColorCorrection:function(t){this.data.colorManagement&&t&&(t.isColor?t.convertSRGBToLinear():t.isTexture&&(t.encoding=l.sRGBEncoding))}})},{"../core/system":136,"../lib/three":173,"../utils/":198}],189:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../lib/three"),l={basic:o.BasicShadowMap,pcf:o.PCFShadowMap,pcfsoft:o.PCFSoftShadowMap};e.exports.System=r("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var t=this.sceneEl,data=this.data;this.shadowMapEnabled=!1,t.renderer&&(t.renderer.shadowMap.type=l[data.type],t.renderer.shadowMap.autoUpdate=data.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(t){t.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(t){var e=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&t,e&&(e.shadowMap.enabled=this.shadowMapEnabled)}})},{"../core/system":136,"../lib/three":173}],190:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../utils"),l=o.device.isWebXRAvailable;e.exports.System=r("tracked-controls-webvr",{init:function(){var t=this;this.controllers=[],this.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),this.updateControllerList(),this.throttledUpdateControllerList=o.throttle(this.updateControllerList,500,this),l||navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",(function(){navigator.getVRDisplays().then((function(e){e.length&&(t.vrDisplay=e[0])}))}))},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var t,e,i,n,r=this.controllers;if(e=navigator.getGamepads&&navigator.getGamepads()){for(n=r.length,r.length=0,i=0;i<e.length;++i)(t=e[i])&&t.pose&&r.push(t);r.length!==n&&this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":136,"../utils":198}],191:[function(t,e,n){var r=t("../core/system").registerSystem,o=t("../utils");e.exports.System=r("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=o.throttle(this.updateControllerList,500,this)},tick:function(){this.throttledUpdateControllerList()},updateControllerList:function(){var t=this.el.xrSession,e=this;t&&(this.controllers=this.el.xrSession.inputSources,this.oldControllersLength!==this.controllers.length&&(this.oldControllersLength=this.controllers.length,t.requestReferenceSpace("local-floor").then((function(t){e.referenceSpace=t})),this.el.emit("controllersupdated",void 0,!1)))}})},{"../core/system":136,"../utils":198}],192:[function(t,e,n){e.exports=function(t,e){return n=Array.prototype.slice.call(arguments,2),function(){var r=n.concat(Array.prototype.slice.call(arguments,0));return t.apply(e,r)};var n}},{}],193:[function(t,e,n){var r=t("./debug"),o=t("object-assign"),l=r("utils:coordinates:warn"),c=["x","y","z","w"],d=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;e.exports.regex=d;var m=/\s+/g;function h(t){return d.test(t)}function f(t){return null!=t&&t.constructor===String?parseFloat(t,10):t}e.exports.parse=function(t,e){var n,r,l,i,d,h,v,x,y;if(t&&t instanceof Object)return h=void 0===t.x?e&&e.x:t.x,v=void 0===t.y?e&&e.y:t.y,x=void 0===t.z?e&&e.z:t.z,y=void 0===t.w?e&&e.w:t.w,null!=h&&(t.x=f(h)),null!=v&&(t.y=f(v)),null!=x&&(t.z=f(x)),null!=y&&(t.w=f(y)),t;if(null==t)return"object"==typeof e?o({},e):e;for(n=t.trim().split(m),d={},i=0;i<c.length;i++)if(l=c[i],n[i])d[l]=parseFloat(n[i],10);else{if(void 0===(r=e&&e[l]))continue;d[l]=f(r)}return d},e.exports.stringify=function(data){var t;return"object"!=typeof data?data:(t=data.x+" "+data.y,null!=data.z&&(t+=" "+data.z),null!=data.w&&(t+=" "+data.w),t)},e.exports.isCoordinates=h,e.exports.isCoordinate=function(t){return l("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),h(t)},e.exports.toVector3=function(t){return new THREE.Vector3(t.x,t.y,t.z)}},{"./debug":194,"object-assign":39}],194:[function(t,e,n){(function(n){var r=t("debug"),o=t("object-assign"),l={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},c=function(t){var e=r(t);return e.color=function(t){var e=function(t){var e=t.split(":");return e[e.length-1]}(t);return l.colors&&l.colors[e]||null}(t),e};o(c,r);var d=function(){try{return window.localStorage}catch(t){}}();d&&(parseInt(d.logs,10)||"true"===d.logs)?c.enable("*"):c.enable("*:error,*:info,*:warn"),n.browser&&(window.logs=c),e.exports=c}).call(this,t("_process"))},{_process:49,debug:8,"object-assign":39}],195:[function(t,e,n){(function(n){var r,o=t("debug")("device:error"),l=!1,c=!1,d=e.exports.isWebXRAvailable=!window.debug&&!A()&&void 0!==navigator.xr;if(window.addEventListener("vrdisplayactivate",(function(t){var e;d||(e=document.createElement("canvas"),r=t.display,e.getContext("webgl",{}),r.requestPresent([{source:e}]).then((function(){}),(function(){})))})),d){var m=function(){var t=document.querySelector("a-scene");t.hasLoaded?t.components["vr-mode-ui"].updateEnterInterfaces():t.addEventListener("loaded",m)},h=function(t){o("WebXR session support error: "+t.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then((function(t){l=t,m()})).catch(h),navigator.xr.isSessionSupported("immersive-ar").then((function(t){c=t,m()})).catch((function(){}))):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then((function(){l=!0,m()})).catch(h),navigator.xr.supportsSession("immersive-ar").then((function(){c=!0,m()})).catch((function(){}))):o("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then((function(t){var e=document.querySelector("a-scene");r=t.length&&t[0],e&&e.emit("displayconnected",{vrDisplay:r})}));function f(){return r}e.exports.getVRDisplay=f,e.exports.checkHeadsetConnected=function(){return l||c||!!f()},e.exports.checkARSupport=function(){return c};var a,v,x=(v=!1,a=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(v=!0),(w()||y()||T())&&(v=!0),M()&&(v=!1),function(){return v});function y(t){var e=t||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(e)}function w(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function A(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}function E(){return/(Mobile VR)/i.test(window.navigator.userAgent)}function M(){return A()||E()}function T(){return/R7 Build/.test(window.navigator.userAgent)}e.exports.isMobile=x,e.exports.isTablet=y,e.exports.isIOS=w,e.exports.isMobileDeviceRequestingDesktopSite=function(){return!x()&&!M()&&void 0!==window.orientation},e.exports.isOculusBrowser=A,e.exports.isFirefoxReality=E,e.exports.isMobileVR=M,e.exports.isR7=T,e.exports.isLandscape=function(){var t=window.orientation;return T()&&(t+=90),90===t||-90===t},e.exports.isBrowserEnvironment=!(n&&!n.browser),e.exports.isNodeEnvironment=!e.exports.isBrowserEnvironment,e.exports.PolyfillControls=function(object){var t,e=window.webvrpolyfill&&window.webvrpolyfill.getPolyfillDisplays()[0];window.VRFrameData&&(t=new window.VRFrameData),this.update=function(){var n;e&&(e.getFrameData(t),null!==(n=t.pose).orientation&&object.quaternion.fromArray(n.orientation),null!==n.position?object.position.fromArray(n.position):object.position.set(0,0,0))}}}).call(this,t("_process"))},{_process:49,debug:8}],196:[function(t,e,n){var r={};function o(t,e){return r[e=e||"."]||(r[e]={}),-1!==t.indexOf(e)?r[e][t]=t.split(e):r[e][t]=t,r[e][t]}e.exports.getComponentPropertyPath=o,e.exports.propertyPathCache=r,e.exports.getComponentProperty=function(t,e,n){var r;return n=n||".",-1!==e.indexOf(n)?(r=o(e,n)).constructor===String?t.getAttribute(r):t.getAttribute(r[0])[r[1]]:t.getAttribute(e)},e.exports.setComponentProperty=function(t,e,n,r){var l;r=r||".",-1===e.indexOf(r)?t.setAttribute(e,n):(l=o(e,r)).constructor===String?t.setAttribute(l,n):t.setAttribute(l[0],l[1],n)}},{}],197:[function(t,e,n){e.exports=function(t){var e=t.style.width,n=t.style.height;t.style.width=parseInt(e,10)+1+"px",t.style.height=parseInt(n,10)+1+"px",setTimeout((function(){t.style.width=e,t.style.height=n}),200)}},{}],198:[function(t,e,n){var r=t("./debug"),o=t("deep-assign"),l=t("./device"),c=t("object-assign"),d=t("./object-pool"),m=r("utils:warn");e.exports.bind=t("./bind"),e.exports.coordinates=t("./coordinates"),e.exports.debug=r,e.exports.device=l,e.exports.entity=t("./entity"),e.exports.forceCanvasResizeSafariMobile=t("./forceCanvasResizeSafariMobile"),e.exports.isIE11=t("./is-ie11"),e.exports.material=t("./material"),e.exports.objectPool=d,e.exports.split=t("./split").split,e.exports.styleParser=t("./styleParser"),e.exports.trackedControls=t("./tracked-controls"),e.exports.checkHeadsetConnected=function(){return m("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),l.checkHeadsetConnected(arguments)},e.exports.isGearVR=e.exports.device.isGearVR=function(){m("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isIOS=function(){return m("`utils.isIOS` has moved to `utils.device.isIOS`"),l.isIOS(arguments)},e.exports.isOculusGo=e.exports.device.isOculusGo=function(){m("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isMobile=function(){return m("`utils.isMobile has moved to `utils.device.isMobile`"),l.isMobile(arguments)},e.exports.throttle=function(t,n,r){var o;return r&&(t=e.exports.bind(t,r)),function(){var time=Date.now(),e=void 0===o?n:time-o;(void 0===o||e>=n)&&(o=time,t.apply(null,arguments))}},e.exports.throttleTick=function(t,n,r){var o;return r&&(t=e.exports.bind(t,r)),function(time,e){var r=void 0===o?e:time-o;(void 0===o||r>=n)&&(o=time,t(time,r))}},e.exports.debounce=function(t,e,n){var r;return function(){var o=this,l=arguments,c=function(){r=null,n||t.apply(o,l)},d=n&&!r;clearTimeout(r),r=setTimeout(c,e),d&&t.apply(o,l)}},e.exports.extend=c,e.exports.extendDeep=o,e.exports.clone=function(t){return JSON.parse(JSON.stringify(t))};var h,f,v=(h=d.createPool((function(){return[]})),function(a,b){var t,e,n,i,r,o;if(void 0===a||void 0===b||null===a||null===b||!(a&&b&&a.constructor===Object&&b.constructor===Object||a.constructor===Array&&b.constructor===Array))return a===b;for(t in e=h.use(),n=h.use(),e.length=0,n.length=0,a)e.push(t);for(t in b)n.push(t);if(e.length!==n.length)return h.recycle(e),h.recycle(n),!1;for(i=0;i<e.length;++i)if(r=a[e[i]],o=b[e[i]],"object"==typeof r||"object"==typeof o||Array.isArray(r)&&Array.isArray(o)){if(r===o)continue;if(!v(r,o))return h.recycle(e),h.recycle(n),!1}else if(r!==o)return h.recycle(e),h.recycle(n),!1;return h.recycle(e),h.recycle(n),!0});e.exports.deepEqual=v,e.exports.diff=(f=[],function(a,b,t){var e,n,r,o,l,i,c;for(l in o=t||{},f.length=0,a)f.push(l);if(!b)return o;for(r in b)-1===f.indexOf(r)&&f.push(r);for(i=0;i<f.length;i++)e=a[l=f[i]],n=b[l],((c=e&&n&&e.constructor===Object&&n.constructor===Object)&&!v(e,n)||!c&&e!==n)&&(o[l]=n);return o}),e.exports.shouldCaptureKeyEvent=function(t){return!t.metaKey&&document.activeElement===document.body},e.exports.splitString=function(t,e){void 0===e&&(e=" ");var n=new RegExp(e,"g");return(t=(t||"").replace(n,e)).split(e)},e.exports.getElData=function(t,e){e=e||{};var data={};return Object.keys(e).forEach((function(e){t.hasAttribute(e)&&(data[e]=t.getAttribute(e))})),data},e.exports.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},e.exports.isIframed=function(){return window.top!==window.self},e.exports.findAllScenes=function(t){for(var e=[],n=t.getElementsByTagName("*"),i=0,r=n.length;i<r;i++)n[i].isScene&&e.push(n[i]);return e},e.exports.srcLoader=t("./src-loader")},{"./bind":192,"./coordinates":193,"./debug":194,"./device":195,"./entity":196,"./forceCanvasResizeSafariMobile":197,"./is-ie11":199,"./material":201,"./object-pool":202,"./split":203,"./src-loader":204,"./styleParser":205,"./tracked-controls":206,"deep-assign":10,"object-assign":39}],199:[function(t,e,n){var r,o;e.exports=11===(r=-1,o=navigator.userAgent,"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(o)&&(r=parseFloat(RegExp.$1)):"Netscape"===navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(o)&&(r=parseFloat(RegExp.$1)),r)},{}],200:[function(t,e,n){e.exports=function(t){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(t)}},{}],201:[function(t,e,n){var r=t("../lib/three"),o=["application/x-mpegurl","application/vnd.apple.mpegurl"],l=new Set(["emissiveMap","envMap","map","specularMap"]);function c(t,e){e&&(t.emit("materialtextureloaded",{src:e.image,texture:e}),e.image&&"VIDEO"===e.image.tagName&&(e.image.addEventListener("loadeddata",(function(){t.components&&t.components.material&&(e.needsCorrectionBGRA&&e.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(t.components.material.data.shader)&&t.setAttribute("material","shader","ios10hls"),t.emit("materialvideoloadeddata",{src:e.image,texture:e}))})),e.image.addEventListener("ended",(function(){t.emit("materialvideoended",{src:e.image,texture:e})}))))}e.exports.updateMapMaterialFromData=function(t,e,n,data){var o=n.el,d=n.material,m=o.sceneEl.systems.renderer,h=data[e];if(n.materialSrcs||(n.materialSrcs={}),!h)return delete n.materialSrcs[t],void f(null);function f(e){d[t]=e,e&&l.has(t)&&m.applyColorCorrection(e),d.needsUpdate=!0,c(o,e)}h!==n.materialSrcs[t]&&(n.materialSrcs[t]=h,h instanceof r.Texture?f(h):o.sceneEl.systems.material.loadTexture(h,{src:h,repeat:data.repeat,offset:data.offset,npot:data.npot},(function(e){n.materialSrcs[t]===h&&f(e)})))},e.exports.updateMap=function(t,data){return e.exports.updateMapMaterialFromData("map","src",t,data)},e.exports.updateDistortionMap=function(t,e,data){var n=t;"ambientOcclusion"===t&&(n="ao");var r=e.el,o=e.material,d=r.sceneEl.systems.renderer,m=data[t+"Map"],h={};if(h.src=m,h.offset=data[t+"TextureOffset"],h.repeat=data[t+"TextureRepeat"],h.wrap=data[t+"TextureWrap"],m){if(m===e[t+"TextureSrc"])return;return e[t+"TextureSrc"]=m,void r.sceneEl.systems.material.loadTexture(m,h,f)}function f(t){var slot=n+"Map";o[slot]=t,t&&l.has(slot)&&d.applyColorCorrection(t),o.needsUpdate=!0,c(r,t)}o.map&&f(null)},e.exports.handleTextureEvents=c,e.exports.isHLS=function(t,e){return!(!e||!o.includes(e.toLowerCase()))||!!(t&&t.toLowerCase().indexOf(".m3u8")>0)}},{"../lib/three":173}],202:[function(t,e,n){var r=Object.freeze(Object.create(null));function o(){return{}}function l(t){var e;if(t&&t.constructor===Object)for(e in t)t[e]=void 0}e.exports.createPool=function(t){var e=[],n=null;function c(r){var o,i;if((r=void 0===r?e.length:r)>0&&null==n&&(n=0),r>0)for(o=e.length,e.length+=Number(r),i=o;i<e.length;i++)e[i]=t();return e.length}return t=t||o,{grow:c,pool:e,recycle:function(t){t instanceof Object&&(null!==n&&-1!==n?e[--n]=t:e[e.length]=t)},size:function(){return e.length},use:function(){var t;return null!==n&&n!==e.length||c(e.length||5),t=e[n],e[n++]=r,l(t),t}}},e.exports.clearObject=l,e.exports.removeUnusedKeys=function(t,e){var n;if(t&&t.constructor===Object)for(n in t)n in e||delete t[n]}},{}],203:[function(t,e,n){var r;e.exports.split=(r={},function(t,e){return e in r||(r[e]={}),t in r[e]||(r[e][t]=t.split(e)),r[e][t]})},{}],204:[function(t,e,n){var r=t("./debug")("utils:src-loader:warn");function o(t,e,n){!function(t,e){var n;t.tagName?e("IMG"===t.tagName):((n=new XMLHttpRequest).open("HEAD",t),n.addEventListener("load",(function(r){var o;n.status>=200&&n.status<300?null==(o=n.getResponseHeader("Content-Type"))?c(t,e):o.startsWith("image")?e(!0):e(!1):c(t,e),n.abort()})),n.send())}(t,(function(r){r?e(t):n(t)}))}function l(t){var e=t.match(/\url\((.+)\)/);if(e)return e[1]}function c(t,e){var n=new Image;n.addEventListener("load",(function(){e(!0)})),n.addEventListener("error",(function(){e(!1)})),n.src=t}e.exports={parseUrl:l,validateSrc:o,validateCubemapSrc:function(t,e){var n,i,c,d="",m=[];for(i=0;i<5;i++)d+="(url\\((?:[^\\)]+)\\),\\s*)";function h(t){m.push(t),6===m.length&&e(m)}if(d+="(url\\((?:[^\\)]+)\\)\\s*)",c=t.match(new RegExp(d)))for(i=1;i<7;i++)o(l(c[i]),h);else if(n=function(t){try{var e=document.querySelector(t);return e||r('No element was found matching the selector: "%s"',t),e}catch(e){return void r('"%s" is not a valid selector',t)}}(t))return"A-CUBEMAP"===n.tagName&&n.srcs?e(n.srcs):void r('Selector "%s" does not point to <a-cubemap>',t)}}},{"./debug":194}],205:[function(t,e,n){var r=/-([a-z])/g;function o(t){return t.replace(r,h)}function l(t){var e,n;for(n in t)n!==(e=o(n))&&(t[e]=t[n],delete t[n]);return t}e.exports.parse=function(t,e){var n;return"string"!=typeof t||(n=function(t,e){var n,i,r,o,l,c;for(e=e||{},n=m(t),i=0;i<n.length;i++)(r=n[i])&&(o=r.indexOf(":"),l=r.substr(0,o).trim(),c=r.substr(o+1).trim(),e[l]=c);return e}(t,e))[""]?t:l(n)},e.exports.stringify=function(data){return"string"==typeof data?data:function(t){var e,n=0,i=0,r="";for(e in t)n++;for(e in t)r+=e+": "+t[e],i<n-1&&(r+="; "),i++;return r}(data)},e.exports.toCamelCase=o,e.exports.transformKeysToCamelCase=l;var c,d,m=(c=[],d=/url\([^)]+$/,function(t){var e,n="",r=0;for(c.length=0;r<t.length;)-1===(e=t.indexOf(";",r))&&(e=t.length),n+=t.substring(r,e),d.test(n)?(n+=";",r=e+1):(c.push(n.trim()),n="",r=e+1);return c});function h(t){return t[1].toUpperCase()}},{}],206:[function(t,e,n){var r=t("../constants").DEFAULT_HANDEDNESS,o=["x","y","z","w"];function l(component,t,e){var n,r,o=component.el.sceneEl,l=e.index||0;return!!(t&&(r=o&&o.systems["tracked-controls-webvr"])&&(n=r.controllers).length&&d(n,null,t,e.hand,l))}function c(component,t,e){var n,r=component.el.sceneEl,o=r&&r.systems["tracked-controls-webxr"];return!!o&&!(!(n=o.controllers)||!n.length)&&m(n,t,e.hand,e.index)}function d(t,e,n,o,l){var c,i,d=0,m=l>=0?l:0;for(i=0;i<t.length;i++)if(c=t[i],(!n||c.id.startsWith(n))&&(n||c.id===e)&&(!o||!c.hand||o===c.hand)){if(o&&!c.hand&&(m=2*l+(o===r?0:1)),d===m)return c;++d}}function m(t,e,n,r){var i,o,l,c,d=!1;for(i=0;i<t.length;i++){for(c=(l=t[i]).profiles,o=0;o<c.length&&!(d=c[o].startsWith(e));o++);if(d)if("right"===l.handedness||"left"===l.handedness){if(l.handedness===n)return t[i]}else if(i===r)return t[i]}}e.exports.checkControllerPresentAndSetup=function(component,t,e){var n,r=component.el,o=r.sceneEl.hasWebXR;if(n=!!(o?c:l)(component,t,e),!component.controllerPresent||component.controllerEventsActive||o||component.addEventListeners(),n===component.controllerPresent)return n;component.controllerPresent=n,n?(component.injectTrackedControls(),component.addEventListeners(),r.emit("controllerconnected",{name:component.name,component:component})):(component.removeEventListeners(),r.emit("controllerdisconnected",{name:component.name,component:component}))},e.exports.isControllerPresentWebVR=l,e.exports.isControllerPresentWebXR=c,e.exports.findMatchingControllerWebVR=d,e.exports.findMatchingControllerWebXR=m,e.exports.emitIfAxesChanged=function(component,t,e){var n,r,l,c,d;for(r in t){for(n=t[r],l=!1,d=0;d<n.length;d++)e.detail.changed[n[d]]&&(l=!0);if(l){for(c={},d=0;d<n.length;d++)c[o[d]]=e.detail.axis[n[d]];component.el.emit(r+"moved",c)}}},e.exports.onButtonEvent=function(t,e,component,n){var r=(n?component.mapping[n]:component.mapping).buttons[t];component.el.emit(r+e),component.updateModel&&component.updateModel(r,e)}},{"../constants":117}],207:[function(t,e,n){window.glStats=function(){var t=null,e=0,n=0,r=0,o=0,l=0,c=0,d=0;function m(t,e){return function(){e.apply(this,arguments),t.apply(this,arguments)}}return WebGLRenderingContext.prototype.drawArrays=m(WebGLRenderingContext.prototype.drawArrays,(function(){e++,arguments[0]==this.POINTS?c+=arguments[2]:l+=arguments[2]})),WebGLRenderingContext.prototype.drawElements=m(WebGLRenderingContext.prototype.drawElements,(function(){n++,o+=arguments[1]/3,l+=arguments[1]})),WebGLRenderingContext.prototype.useProgram=m(WebGLRenderingContext.prototype.useProgram,(function(){r++})),WebGLRenderingContext.prototype.bindTexture=m(WebGLRenderingContext.prototype.bindTexture,(function(){d++})),{update:function(){t("allcalls").set(e+n),t("drawElements").set(n),t("drawArrays").set(e),t("bindTexture").set(d),t("useProgram").set(r),t("glfaces").set(o),t("glvertices").set(l),t("glpoints").set(c)},start:function(){e=0,n=0,r=0,o=0,l=0,c=0,d=0},end:function(){},attach:function(e){t=e},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(t){var e=null;return{update:function(){e("renderer.info.memory.geometries").set(t.info.memory.geometries),e("renderer.info.programs").set(t.info.programs.length),e("renderer.info.memory.textures").set(t.info.memory.textures),e("renderer.info.render.calls").set(t.info.render.calls),e("renderer.info.render.triangles").set(t.info.render.triangles),e("renderer.info.render.points").set(t.info.render.points)},start:function(){},end:function(){},attach:function(t){e=t},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){var t=null,e=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var r=Math.log(1024);function o(t){var i=Math.floor(Math.log(t)/r);return Math.round(100*t/Math.pow(1024,i))/100}return{update:function(){e=o(performance.memory.usedJSHeapSize),n=o(performance.memory.totalJSHeapSize),t("memory").set(e),t("total").set(n)},start:function(){e=0},end:function(){},attach:function(e){t=e},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},"object"==typeof e&&(e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],208:[function(t,e,n){"use strict";!function(){"performance"in window==0&&(window.performance={});var t=window.performance;if("now"in t==0){var e=Date.now();t.timing&&t.timing.navigationStart&&(e=t.timing.navigationStart),t.now=function(){return Date.now()-e}}t.mark||(t.mark=function(){}),t.measure||(t.measure=function(){})}(),window.rStats=function(t){function e(t,e){for(var n=Object.keys(t),r=0,o=n.length;r<o;r++)e(n[r])}var n=t||{},r=n.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],o=(n.CSSPath?n.CSSPath:"")+"rStats.css";(n.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",o]).forEach((function(t){var e,element;e=t,(element=document.createElement("link")).href=e,element.rel="stylesheet",element.type="text/css",document.getElementsByTagName("head")[0].appendChild(element)})),n.values||(n.values={});var l,c,d={};function m(t,e,n){var r=n||{},o=document.createElement("canvas"),l=o.getContext("2d"),c=0,d=0,m=r.color?r.color:"#666666",h=document.createElement("canvas"),f=h.getContext("2d");h.width=1,h.height=20,f.fillStyle="#444444",f.fillRect(0,0,1,20),f.fillStyle=m,f.fillRect(0,10,1,10),f.fillStyle="#ffffff",f.globalAlpha=.5,f.fillRect(0,10,1,1),f.globalAlpha=1;var v=document.createElement("canvas"),x=v.getContext("2d");return v.width=1,v.height=20,x.fillStyle="#444444",x.fillRect(0,0,1,20),x.fillStyle="#b70000",x.fillRect(0,10,1,10),x.globalAlpha=.5,x.fillStyle="#ffffff",x.fillRect(0,10,1,1),x.globalAlpha=1,o.width=200,o.height=10,o.style.width=o.width+"px",o.style.height=o.height+"px",o.className="rs-canvas",t.appendChild(o),l.fillStyle="#444444",l.fillRect(0,0,o.width,o.height),{draw:function(t,e){(d+=.1*(t-d))>(c*=.99)&&(c=d),l.drawImage(o,1,0,o.width-1,o.height,0,0,o.width-1,o.height),e?l.drawImage(v,o.width-1,o.height-d*o.height/c-10):l.drawImage(h,o.width-1,o.height-d*o.height/c-10)}}}function h(t,n){var o=document.createElement("canvas"),l=o.getContext("2d");return o.width=200,o.height=10*n,o.style.width=o.width+"px",o.style.height=o.height+"px",o.className="rs-canvas",t.appendChild(o),l.fillStyle="#444444",l.fillRect(0,0,o.width,o.height),{draw:function(t){l.drawImage(o,1,0,o.width-1,o.height,0,0,o.width-1,o.height);var th=0;e(t,(function(e){var n=t[e]*o.height;l.fillStyle=r[e],l.fillRect(o.width-1,th,1,n),th+=n}))}}}function f(t,e){var r,o=t,l=0,d=0,h=0,f=0,v=performance.now(),x=0,y=document.createElement("div"),w=document.createElement("span"),A=document.createElement("div"),E=document.createTextNode(""),M=n?n.values[o.toLowerCase()]:null,T=new m(y,o,M),_=!1;function S(t){if(M&&M.average){f+=t,x++;var e=performance.now();e-v>=(M.avgMs||1e3)&&(h=f/x,f=0,v=e,x=0)}}function C(){r=performance.now(),n.userTimingAPI&&performance.mark(o+"-start"),_=!0}function L(){l=performance.now()-r,n.userTimingAPI&&(performance.mark(o+"-end"),_&&performance.measure(o,o+"-start",o+"-end")),S(l)}return w.className="rs-counter-id",w.textContent=M&&M.caption?M.caption:o,A.className="rs-counter-value",A.appendChild(E),y.appendChild(w),y.appendChild(A),e?e.div.appendChild(y):c.appendChild(y),r=performance.now(),{set:function(t){S(l=t)},start:C,tick:function(){L(),C()},end:L,frame:function(){var t=performance.now(),e=t-r;d++,e>1e3&&(l=M&&!1===M.interpolate?d:1e3*d/e,d=0,r=t,S(l))},value:function(){return l},draw:function(){var t=M&&M.average?h:l;E.nodeValue=Math.round(100*t)/100;var a=M&&(M.below&&l<M.below||M.over&&l>M.over);T.draw(l,a),y.className=a?"rs-counter-base alarm":"rs-counter-base"}}}function v(t){var r=t.toLowerCase();if(void 0===r&&(r="default"),d[r])return d[r];var o=null;n&&n.groups&&e(n.groups,(function(t){var g=n.groups[parseInt(t,10)];o||-1===g.values.indexOf(r.toLowerCase())||(o=g)}));var p=new f(r,o);return d[r]=p,p}function x(){e(n.plugins,(function(t){n.plugins[t].update()})),e(d,(function(t){d[t].draw()})),n&&n.fractions&&e(n.fractions,(function(t){var r=n.fractions[parseInt(t,10)],o=[],base=d[r.base.toLowerCase()];base&&(base=base.value(),e(n.fractions[t].steps,(function(e){var s=n.fractions[t].steps[parseInt(e,10)].toLowerCase(),r=d[s];r&&o.push(r.value()/base)}))),r.graph.draw(o)}))}return function(){if(n.plugins){n.values||(n.values={}),n.groups||(n.groups=[]),n.fractions||(n.fractions=[]);for(var t=0;t<n.plugins.length;t++)n.plugins[t].attach(v),e(n.plugins[t].values,(function(e){n.values[e]=n.plugins[t].values[e]})),n.groups=n.groups.concat(n.plugins[t].groups),n.fractions=n.fractions.concat(n.plugins[t].fractions)}else n.plugins={};(l=document.createElement("div")).className="rs-base",(c=document.createElement("div")).className="rs-container",c.style.height="auto",l.appendChild(c),document.body.appendChild(l),n&&(n.groups&&e(n.groups,(function(t){var g=n.groups[parseInt(t,10)],div=document.createElement("div");div.className="rs-group",g.div=div;var h1=document.createElement("h1");h1.textContent=g.caption,h1.addEventListener("click",function(t){this.classList.toggle("hidden"),t.preventDefault()}.bind(div)),c.appendChild(h1),c.appendChild(div)})),n.fractions&&e(n.fractions,(function(t){var o=n.fractions[parseInt(t,10)],div=document.createElement("div");div.className="rs-fraction";var legend=document.createElement("div");legend.className="rs-legend";var l=0;e(n.fractions[t].steps,(function(e){var p=document.createElement("p");p.textContent=n.fractions[t].steps[e],p.style.color=r[l],legend.appendChild(p),l++})),div.appendChild(legend),div.style.height=10*l+"px",o.div=div;var d=new h(div,l);o.graph=d,c.appendChild(div)})))}(),function(t){return t?v(t):{element:l,update:x}}},"object"==typeof e&&(e.exports=window.rStats)},{}],209:[function(t,e,n){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t})},{}],210:[function(t,e,n){var r={base64:function(t,e){return"data:"+t+";base64,"+e},isMobile:function(){var a,t=!1;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(t){return!0}},appendQueryParameter:function(t,e,n){var r=t.indexOf("?")<0?"?":"&";return t+=r+e+"="+n},getQueryParameter:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};e.exports=r},{}],211:[function(t,e,n){var r,o=t("./util.js");function l(){var video=document.createElement("video");video.addEventListener("ended",(function(){video.play()})),this.request=function(){video.paused&&(video.src=o.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),video.play())},this.release=function(){video.pause(),video.src=""}}function c(){var t=null;this.request=function(){t||(t=setInterval((function(){window.location.href="/",setTimeout(window.stop,0)}),15e3))},this.release=function(){t&&(clearInterval(t),t=null)}}e.exports=(r=navigator.userAgent||navigator.vendor||window.opera).match(/iPhone/i)||r.match(/iPod/i)?c:l},{"./util.js":210}]},{},[171])(171)}).call(this,r(33))},190:function(t,e,n){n(269),n(279),n(288),n(297),n(302)},194:function(t,e,n){(function(t){t.installComponents=function(component,t){var e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.components=component.exports.options.components),e.components=e.components||{},t)e.components[i]=e.components[i]||t[i];e.functional&&function(component,t){if(component.exports._functionalComponents)return;component.exports._functionalComponents=!0;var e=component.exports.render;component.exports.render=function(n,r){return e(n,Object.assign({},r,{_c:function(e,a,b){return r._c(t[e]||e,a,b)}}))}}(component,e.components)}}).call(this,n(33))},225:function(t,e,n){var content=n(226);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(77).default)("3d49e0e5",content,!0,{sourceMap:!1})},226:function(t,e,n){(e=n(76)(!1)).push([t.i,".theme--light.v-application{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-application .text--primary{color:rgba(0,0,0,.87)!important}.theme--light.v-application .text--secondary{color:rgba(0,0,0,.6)!important}.theme--light.v-application .text--disabled{color:rgba(0,0,0,.38)!important}.theme--dark.v-application{background:#121212;color:#fff}.theme--dark.v-application .text--primary{color:#fff!important}.theme--dark.v-application .text--secondary{color:hsla(0,0%,100%,.7)!important}.theme--dark.v-application .text--disabled{color:hsla(0,0%,100%,.5)!important}.v-application{display:flex}.v-application a{cursor:pointer}.v-application--is-rtl{direction:rtl}.v-application--wrap{flex:1 1 auto;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:flex;flex-direction:column;min-height:100vh;max-width:100%;position:relative}@-moz-document url-prefix(){@media print{.v-application,.v-application--wrap{display:block}}}",""]),t.exports=e},230:function(t,e,n){"use strict";function r(t,source){for(var e=function(e){Object.defineProperty(t,e,{get:function(){return source[e]}})},n=0,r=Object.keys(source||{});n<r.length;n++){e(r[n])}}function o(t){if(!t._vmdModuleName)throw new Error("ERR_GET_MODULE_NAME : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");return"vuexModuleDecorators/"+t._vmdModuleName}n.r(e),n.d(e,"Action",(function(){return E})),n.d(e,"Module",(function(){return y})),n.d(e,"Mutation",(function(){return M})),n.d(e,"MutationAction",(function(){return _})),n.d(e,"VuexModule",(function(){return l})),n.d(e,"config",(function(){return w})),n.d(e,"getModule",(function(){return c}));var l=function(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules};function c(t,e){var n=o(t);if(e&&e.getters[n])return e.getters[n];if(t._statics)return t._statics;var r=t._genStatic;if(!r)throw new Error("ERR_GET_MODULE_NO_STATICS : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");var l=r(e);return e?e.getters[n]=l:t._statics=l,l}var d=["actions","getters","mutations","modules","state","namespaced","commit"];function m(t,e,n,r){return new(n||(n=Promise))((function(o,l){function c(t){try{m(r.next(t))}catch(t){l(t)}}function d(t){try{m(r.throw(t))}catch(t){l(t)}}function m(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,d)}m((r=r.apply(t,e||[])).next())}))}function h(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function f(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function v(t,e){Object.getOwnPropertyNames(e.prototype).forEach((function(n){var o=Object.getOwnPropertyDescriptor(e.prototype,n);o.get&&t.getters&&(t.getters[n]=function(t,e,n,l){var c={context:{state:t,getters:e,rootState:n,rootGetters:l}};return r(c,t),r(c,e),o.get.call(c)})}))}function x(t){return function(e){var n=e,r=function(){return function(t){var e=new t.prototype.constructor({}),s={};return Object.keys(e).forEach((function(t){if(-1===d.indexOf(t))e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(s[t]=e[t]);else if(void 0!==e[t])throw new Error("ERR_RESERVED_STATE_KEY_USED: You cannot use the following\n        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']\n        as fields in your module. These are reserved as they have special purpose in Vuex")})),s}(n)};n.state||(n.state=t&&t.stateFactory?r:r()),n.getters||(n.getters={}),n.namespaced||(n.namespaced=t&&t.namespaced);for(var o=Object.getPrototypeOf(n);"VuexModule"!==o.name&&""!==o.name;)v(n,o),o=Object.getPrototypeOf(o);v(n,n);var l=t;return l.name&&(Object.defineProperty(e,"_genStatic",{value:function(t){var e={store:t||l.store};if(!e.store)throw new Error("ERR_STORE_NOT_PROVIDED: To use getModule(), either the module\n            should be decorated with store in decorator, i.e. @Module({store: store}) or\n            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)");return function(t,e,n){var r=e.stateFactory?t.state():t.state;Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&-1===["undefined","function"].indexOf(typeof r[t])&&Object.defineProperty(n,t,{get:function(){for(var path=e.name.split("/"),data=n.store.state,r=0,o=path;r<o.length;r++){data=data[o[r]]}return data[t]}})}))}(n,l,e),n.getters&&function(t,e,n){Object.keys(t.getters).forEach((function(r){t.namespaced?Object.defineProperty(n,r,{get:function(){return n.store.getters[e.name+"/"+r]}}):Object.defineProperty(n,r,{get:function(){return n.store.getters[r]}})}))}(n,l,e),n.mutations&&function(t,e,n){Object.keys(t.mutations).forEach((function(r){t.namespaced?n[r]=function(){for(var t,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];(t=n.store).commit.apply(t,f([e.name+"/"+r],o))}:n[r]=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=n.store).commit.apply(t,f([r],e))}}))}(n,l,e),n.actions&&function(t,e,n){Object.keys(t.actions).forEach((function(r){t.namespaced?n[r]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return m(this,void 0,void 0,(function(){var o;return h(this,(function(l){return[2,(o=n.store).dispatch.apply(o,f([e.name+"/"+r],t))]}))}))}:n[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m(this,void 0,void 0,(function(){var e;return h(this,(function(o){return[2,(e=n.store).dispatch.apply(e,f([r],t))]}))}))}}))}(n,l,e),e}}),Object.defineProperty(e,"_vmdModuleName",{value:l.name})),l.dynamic&&function(t,e){if(!e.name)throw new Error("Name of module not provided in decorator options");if(!e.store)throw new Error("Store not provided in decorator options when using dynamic option");e.store.registerModule(e.name,t,{preserveState:e.preserveState||!1})}(n,l),e}}function y(t){if("function"!=typeof t)return x(t);x({})(t)}var w={};function A(t){var e=t||{},n=e.commit,l=void 0===n?void 0:n,d=e.rawError,f=void 0===d?!!w.rawError:d,v=e.root,x=void 0!==v&&v;return function(t,e,n){var d=t.constructor;d.hasOwnProperty("actions")||(d.actions=Object.assign({},d.actions));var v=n.value,y=function(t,n){return m(this,void 0,void 0,(function(){var m,x,y,w,A;return h(this,(function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),m=null,d._genStatic?(x=o(d),(y=t.rootGetters[x]?t.rootGetters[x]:c(d)).context=t,[4,v.call(y,n)]):[3,2];case 1:return m=h.sent(),[3,4];case 2:return r(w={context:t},t.state),r(w,t.getters),[4,v.call(w,n)];case 3:m=h.sent(),h.label=4;case 4:return l&&t.commit(l,m),[2,m];case 5:throw A=h.sent(),f?A:new Error('ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]\n'+new Error("Could not perform action "+e.toString()).stack+"\n"+A.stack);case 6:return[2]}}))}))};d.actions[e]=x?{root:x,handler:y}:y}}function E(t,e,n){if(!e&&!n)return A(t);A()(t,e,n)}function M(t,e,n){var r=t.constructor;r.hasOwnProperty("mutations")||(r.mutations=Object.assign({},r.mutations));var o=n.value;r.mutations[e]=function(t,e){o.call(t,e)}}function T(t){return function(e,n,r){var o=e.constructor;o.hasOwnProperty("mutations")||(o.mutations=Object.assign({},o.mutations)),o.hasOwnProperty("actions")||(o.actions=Object.assign({},o.actions));var l=r.value,c=function(e,r){return m(this,void 0,void 0,(function(){var o,c;return h(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,l.call(e,r)];case 1:return o=d.sent(),e.commit(n,o),[3,3];case 2:if(c=d.sent(),t.rawError)throw c;return console.error("Could not perform action "+n.toString()),console.error(c),[2,Promise.reject(c)];case 3:return[2]}}))}))};o.actions[n]=t.root?{root:!0,handler:c}:c,o.mutations[n]=function(e,n){t.mutate||(t.mutate=Object.keys(n));for(var r=0,o=t.mutate;r<o.length;r++){var l=o[r];if(!e.hasOwnProperty(l)||!n.hasOwnProperty(l))throw new Error("ERR_MUTATE_PARAMS_NOT_IN_PAYLOAD\n          In @MutationAction, mutate: ['a', 'b', ...] array keys must\n          match with return type = {a: {}, b: {}, ...} and must\n          also be in state.");e[l]=n[l]}}}}function _(t,e,n){if(!e&&!n)return T(t);T({})(t,e,n)}},240:function(t,e,n){var content=n(241);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(77).default)("2840f874",content,!0,{sourceMap:!1})},241:function(t,e,n){(e=n(76)(!1)).push([t.i,'@-webkit-keyframes v-shake{59%{margin-left:0}60%,80%{margin-left:2px}70%,90%{margin-left:-2px}}@keyframes v-shake{59%{margin-left:0}60%,80%{margin-left:2px}70%,90%{margin-left:-2px}}.v-application .black{background-color:#000!important;border-color:#000!important}.v-application .black--text{color:#000!important;caret-color:#000!important}.v-application .white{background-color:#fff!important;border-color:#fff!important}.v-application .white--text{color:#fff!important;caret-color:#fff!important}.v-application .transparent{background-color:transparent!important;border-color:transparent!important}.v-application .transparent--text{color:transparent!important;caret-color:transparent!important}.v-application .red{background-color:#f44336!important;border-color:#f44336!important}.v-application .red--text{color:#f44336!important;caret-color:#f44336!important}.v-application .red.lighten-5{background-color:#ffebee!important;border-color:#ffebee!important}.v-application .red--text.text--lighten-5{color:#ffebee!important;caret-color:#ffebee!important}.v-application .red.lighten-4{background-color:#ffcdd2!important;border-color:#ffcdd2!important}.v-application .red--text.text--lighten-4{color:#ffcdd2!important;caret-color:#ffcdd2!important}.v-application .red.lighten-3{background-color:#ef9a9a!important;border-color:#ef9a9a!important}.v-application .red--text.text--lighten-3{color:#ef9a9a!important;caret-color:#ef9a9a!important}.v-application .red.lighten-2{background-color:#e57373!important;border-color:#e57373!important}.v-application .red--text.text--lighten-2{color:#e57373!important;caret-color:#e57373!important}.v-application .red.lighten-1{background-color:#ef5350!important;border-color:#ef5350!important}.v-application .red--text.text--lighten-1{color:#ef5350!important;caret-color:#ef5350!important}.v-application .red.darken-1{background-color:#e53935!important;border-color:#e53935!important}.v-application .red--text.text--darken-1{color:#e53935!important;caret-color:#e53935!important}.v-application .red.darken-2{background-color:#d32f2f!important;border-color:#d32f2f!important}.v-application .red--text.text--darken-2{color:#d32f2f!important;caret-color:#d32f2f!important}.v-application .red.darken-3{background-color:#c62828!important;border-color:#c62828!important}.v-application .red--text.text--darken-3{color:#c62828!important;caret-color:#c62828!important}.v-application .red.darken-4{background-color:#b71c1c!important;border-color:#b71c1c!important}.v-application .red--text.text--darken-4{color:#b71c1c!important;caret-color:#b71c1c!important}.v-application .red.accent-1{background-color:#ff8a80!important;border-color:#ff8a80!important}.v-application .red--text.text--accent-1{color:#ff8a80!important;caret-color:#ff8a80!important}.v-application .red.accent-2{background-color:#ff5252!important;border-color:#ff5252!important}.v-application .red--text.text--accent-2{color:#ff5252!important;caret-color:#ff5252!important}.v-application .red.accent-3{background-color:#ff1744!important;border-color:#ff1744!important}.v-application .red--text.text--accent-3{color:#ff1744!important;caret-color:#ff1744!important}.v-application .red.accent-4{background-color:#d50000!important;border-color:#d50000!important}.v-application .red--text.text--accent-4{color:#d50000!important;caret-color:#d50000!important}.v-application .pink{background-color:#e91e63!important;border-color:#e91e63!important}.v-application .pink--text{color:#e91e63!important;caret-color:#e91e63!important}.v-application .pink.lighten-5{background-color:#fce4ec!important;border-color:#fce4ec!important}.v-application .pink--text.text--lighten-5{color:#fce4ec!important;caret-color:#fce4ec!important}.v-application .pink.lighten-4{background-color:#f8bbd0!important;border-color:#f8bbd0!important}.v-application .pink--text.text--lighten-4{color:#f8bbd0!important;caret-color:#f8bbd0!important}.v-application .pink.lighten-3{background-color:#f48fb1!important;border-color:#f48fb1!important}.v-application .pink--text.text--lighten-3{color:#f48fb1!important;caret-color:#f48fb1!important}.v-application .pink.lighten-2{background-color:#f06292!important;border-color:#f06292!important}.v-application .pink--text.text--lighten-2{color:#f06292!important;caret-color:#f06292!important}.v-application .pink.lighten-1{background-color:#ec407a!important;border-color:#ec407a!important}.v-application .pink--text.text--lighten-1{color:#ec407a!important;caret-color:#ec407a!important}.v-application .pink.darken-1{background-color:#d81b60!important;border-color:#d81b60!important}.v-application .pink--text.text--darken-1{color:#d81b60!important;caret-color:#d81b60!important}.v-application .pink.darken-2{background-color:#c2185b!important;border-color:#c2185b!important}.v-application .pink--text.text--darken-2{color:#c2185b!important;caret-color:#c2185b!important}.v-application .pink.darken-3{background-color:#ad1457!important;border-color:#ad1457!important}.v-application .pink--text.text--darken-3{color:#ad1457!important;caret-color:#ad1457!important}.v-application .pink.darken-4{background-color:#880e4f!important;border-color:#880e4f!important}.v-application .pink--text.text--darken-4{color:#880e4f!important;caret-color:#880e4f!important}.v-application .pink.accent-1{background-color:#ff80ab!important;border-color:#ff80ab!important}.v-application .pink--text.text--accent-1{color:#ff80ab!important;caret-color:#ff80ab!important}.v-application .pink.accent-2{background-color:#ff4081!important;border-color:#ff4081!important}.v-application .pink--text.text--accent-2{color:#ff4081!important;caret-color:#ff4081!important}.v-application .pink.accent-3{background-color:#f50057!important;border-color:#f50057!important}.v-application .pink--text.text--accent-3{color:#f50057!important;caret-color:#f50057!important}.v-application .pink.accent-4{background-color:#c51162!important;border-color:#c51162!important}.v-application .pink--text.text--accent-4{color:#c51162!important;caret-color:#c51162!important}.v-application .purple{background-color:#9c27b0!important;border-color:#9c27b0!important}.v-application .purple--text{color:#9c27b0!important;caret-color:#9c27b0!important}.v-application .purple.lighten-5{background-color:#f3e5f5!important;border-color:#f3e5f5!important}.v-application .purple--text.text--lighten-5{color:#f3e5f5!important;caret-color:#f3e5f5!important}.v-application .purple.lighten-4{background-color:#e1bee7!important;border-color:#e1bee7!important}.v-application .purple--text.text--lighten-4{color:#e1bee7!important;caret-color:#e1bee7!important}.v-application .purple.lighten-3{background-color:#ce93d8!important;border-color:#ce93d8!important}.v-application .purple--text.text--lighten-3{color:#ce93d8!important;caret-color:#ce93d8!important}.v-application .purple.lighten-2{background-color:#ba68c8!important;border-color:#ba68c8!important}.v-application .purple--text.text--lighten-2{color:#ba68c8!important;caret-color:#ba68c8!important}.v-application .purple.lighten-1{background-color:#ab47bc!important;border-color:#ab47bc!important}.v-application .purple--text.text--lighten-1{color:#ab47bc!important;caret-color:#ab47bc!important}.v-application .purple.darken-1{background-color:#8e24aa!important;border-color:#8e24aa!important}.v-application .purple--text.text--darken-1{color:#8e24aa!important;caret-color:#8e24aa!important}.v-application .purple.darken-2{background-color:#7b1fa2!important;border-color:#7b1fa2!important}.v-application .purple--text.text--darken-2{color:#7b1fa2!important;caret-color:#7b1fa2!important}.v-application .purple.darken-3{background-color:#6a1b9a!important;border-color:#6a1b9a!important}.v-application .purple--text.text--darken-3{color:#6a1b9a!important;caret-color:#6a1b9a!important}.v-application .purple.darken-4{background-color:#4a148c!important;border-color:#4a148c!important}.v-application .purple--text.text--darken-4{color:#4a148c!important;caret-color:#4a148c!important}.v-application .purple.accent-1{background-color:#ea80fc!important;border-color:#ea80fc!important}.v-application .purple--text.text--accent-1{color:#ea80fc!important;caret-color:#ea80fc!important}.v-application .purple.accent-2{background-color:#e040fb!important;border-color:#e040fb!important}.v-application .purple--text.text--accent-2{color:#e040fb!important;caret-color:#e040fb!important}.v-application .purple.accent-3{background-color:#d500f9!important;border-color:#d500f9!important}.v-application .purple--text.text--accent-3{color:#d500f9!important;caret-color:#d500f9!important}.v-application .purple.accent-4{background-color:#a0f!important;border-color:#a0f!important}.v-application .purple--text.text--accent-4{color:#a0f!important;caret-color:#a0f!important}.v-application .deep-purple{background-color:#673ab7!important;border-color:#673ab7!important}.v-application .deep-purple--text{color:#673ab7!important;caret-color:#673ab7!important}.v-application .deep-purple.lighten-5{background-color:#ede7f6!important;border-color:#ede7f6!important}.v-application .deep-purple--text.text--lighten-5{color:#ede7f6!important;caret-color:#ede7f6!important}.v-application .deep-purple.lighten-4{background-color:#d1c4e9!important;border-color:#d1c4e9!important}.v-application .deep-purple--text.text--lighten-4{color:#d1c4e9!important;caret-color:#d1c4e9!important}.v-application .deep-purple.lighten-3{background-color:#b39ddb!important;border-color:#b39ddb!important}.v-application .deep-purple--text.text--lighten-3{color:#b39ddb!important;caret-color:#b39ddb!important}.v-application .deep-purple.lighten-2{background-color:#9575cd!important;border-color:#9575cd!important}.v-application .deep-purple--text.text--lighten-2{color:#9575cd!important;caret-color:#9575cd!important}.v-application .deep-purple.lighten-1{background-color:#7e57c2!important;border-color:#7e57c2!important}.v-application .deep-purple--text.text--lighten-1{color:#7e57c2!important;caret-color:#7e57c2!important}.v-application .deep-purple.darken-1{background-color:#5e35b1!important;border-color:#5e35b1!important}.v-application .deep-purple--text.text--darken-1{color:#5e35b1!important;caret-color:#5e35b1!important}.v-application .deep-purple.darken-2{background-color:#512da8!important;border-color:#512da8!important}.v-application .deep-purple--text.text--darken-2{color:#512da8!important;caret-color:#512da8!important}.v-application .deep-purple.darken-3{background-color:#4527a0!important;border-color:#4527a0!important}.v-application .deep-purple--text.text--darken-3{color:#4527a0!important;caret-color:#4527a0!important}.v-application .deep-purple.darken-4{background-color:#311b92!important;border-color:#311b92!important}.v-application .deep-purple--text.text--darken-4{color:#311b92!important;caret-color:#311b92!important}.v-application .deep-purple.accent-1{background-color:#b388ff!important;border-color:#b388ff!important}.v-application .deep-purple--text.text--accent-1{color:#b388ff!important;caret-color:#b388ff!important}.v-application .deep-purple.accent-2{background-color:#7c4dff!important;border-color:#7c4dff!important}.v-application .deep-purple--text.text--accent-2{color:#7c4dff!important;caret-color:#7c4dff!important}.v-application .deep-purple.accent-3{background-color:#651fff!important;border-color:#651fff!important}.v-application .deep-purple--text.text--accent-3{color:#651fff!important;caret-color:#651fff!important}.v-application .deep-purple.accent-4{background-color:#6200ea!important;border-color:#6200ea!important}.v-application .deep-purple--text.text--accent-4{color:#6200ea!important;caret-color:#6200ea!important}.v-application .indigo{background-color:#3f51b5!important;border-color:#3f51b5!important}.v-application .indigo--text{color:#3f51b5!important;caret-color:#3f51b5!important}.v-application .indigo.lighten-5{background-color:#e8eaf6!important;border-color:#e8eaf6!important}.v-application .indigo--text.text--lighten-5{color:#e8eaf6!important;caret-color:#e8eaf6!important}.v-application .indigo.lighten-4{background-color:#c5cae9!important;border-color:#c5cae9!important}.v-application .indigo--text.text--lighten-4{color:#c5cae9!important;caret-color:#c5cae9!important}.v-application .indigo.lighten-3{background-color:#9fa8da!important;border-color:#9fa8da!important}.v-application .indigo--text.text--lighten-3{color:#9fa8da!important;caret-color:#9fa8da!important}.v-application .indigo.lighten-2{background-color:#7986cb!important;border-color:#7986cb!important}.v-application .indigo--text.text--lighten-2{color:#7986cb!important;caret-color:#7986cb!important}.v-application .indigo.lighten-1{background-color:#5c6bc0!important;border-color:#5c6bc0!important}.v-application .indigo--text.text--lighten-1{color:#5c6bc0!important;caret-color:#5c6bc0!important}.v-application .indigo.darken-1{background-color:#3949ab!important;border-color:#3949ab!important}.v-application .indigo--text.text--darken-1{color:#3949ab!important;caret-color:#3949ab!important}.v-application .indigo.darken-2{background-color:#303f9f!important;border-color:#303f9f!important}.v-application .indigo--text.text--darken-2{color:#303f9f!important;caret-color:#303f9f!important}.v-application .indigo.darken-3{background-color:#283593!important;border-color:#283593!important}.v-application .indigo--text.text--darken-3{color:#283593!important;caret-color:#283593!important}.v-application .indigo.darken-4{background-color:#1a237e!important;border-color:#1a237e!important}.v-application .indigo--text.text--darken-4{color:#1a237e!important;caret-color:#1a237e!important}.v-application .indigo.accent-1{background-color:#8c9eff!important;border-color:#8c9eff!important}.v-application .indigo--text.text--accent-1{color:#8c9eff!important;caret-color:#8c9eff!important}.v-application .indigo.accent-2{background-color:#536dfe!important;border-color:#536dfe!important}.v-application .indigo--text.text--accent-2{color:#536dfe!important;caret-color:#536dfe!important}.v-application .indigo.accent-3{background-color:#3d5afe!important;border-color:#3d5afe!important}.v-application .indigo--text.text--accent-3{color:#3d5afe!important;caret-color:#3d5afe!important}.v-application .indigo.accent-4{background-color:#304ffe!important;border-color:#304ffe!important}.v-application .indigo--text.text--accent-4{color:#304ffe!important;caret-color:#304ffe!important}.v-application .blue{background-color:#2196f3!important;border-color:#2196f3!important}.v-application .blue--text{color:#2196f3!important;caret-color:#2196f3!important}.v-application .blue.lighten-5{background-color:#e3f2fd!important;border-color:#e3f2fd!important}.v-application .blue--text.text--lighten-5{color:#e3f2fd!important;caret-color:#e3f2fd!important}.v-application .blue.lighten-4{background-color:#bbdefb!important;border-color:#bbdefb!important}.v-application .blue--text.text--lighten-4{color:#bbdefb!important;caret-color:#bbdefb!important}.v-application .blue.lighten-3{background-color:#90caf9!important;border-color:#90caf9!important}.v-application .blue--text.text--lighten-3{color:#90caf9!important;caret-color:#90caf9!important}.v-application .blue.lighten-2{background-color:#64b5f6!important;border-color:#64b5f6!important}.v-application .blue--text.text--lighten-2{color:#64b5f6!important;caret-color:#64b5f6!important}.v-application .blue.lighten-1{background-color:#42a5f5!important;border-color:#42a5f5!important}.v-application .blue--text.text--lighten-1{color:#42a5f5!important;caret-color:#42a5f5!important}.v-application .blue.darken-1{background-color:#1e88e5!important;border-color:#1e88e5!important}.v-application .blue--text.text--darken-1{color:#1e88e5!important;caret-color:#1e88e5!important}.v-application .blue.darken-2{background-color:#1976d2!important;border-color:#1976d2!important}.v-application .blue--text.text--darken-2{color:#1976d2!important;caret-color:#1976d2!important}.v-application .blue.darken-3{background-color:#1565c0!important;border-color:#1565c0!important}.v-application .blue--text.text--darken-3{color:#1565c0!important;caret-color:#1565c0!important}.v-application .blue.darken-4{background-color:#0d47a1!important;border-color:#0d47a1!important}.v-application .blue--text.text--darken-4{color:#0d47a1!important;caret-color:#0d47a1!important}.v-application .blue.accent-1{background-color:#82b1ff!important;border-color:#82b1ff!important}.v-application .blue--text.text--accent-1{color:#82b1ff!important;caret-color:#82b1ff!important}.v-application .blue.accent-2{background-color:#448aff!important;border-color:#448aff!important}.v-application .blue--text.text--accent-2{color:#448aff!important;caret-color:#448aff!important}.v-application .blue.accent-3{background-color:#2979ff!important;border-color:#2979ff!important}.v-application .blue--text.text--accent-3{color:#2979ff!important;caret-color:#2979ff!important}.v-application .blue.accent-4{background-color:#2962ff!important;border-color:#2962ff!important}.v-application .blue--text.text--accent-4{color:#2962ff!important;caret-color:#2962ff!important}.v-application .light-blue{background-color:#03a9f4!important;border-color:#03a9f4!important}.v-application .light-blue--text{color:#03a9f4!important;caret-color:#03a9f4!important}.v-application .light-blue.lighten-5{background-color:#e1f5fe!important;border-color:#e1f5fe!important}.v-application .light-blue--text.text--lighten-5{color:#e1f5fe!important;caret-color:#e1f5fe!important}.v-application .light-blue.lighten-4{background-color:#b3e5fc!important;border-color:#b3e5fc!important}.v-application .light-blue--text.text--lighten-4{color:#b3e5fc!important;caret-color:#b3e5fc!important}.v-application .light-blue.lighten-3{background-color:#81d4fa!important;border-color:#81d4fa!important}.v-application .light-blue--text.text--lighten-3{color:#81d4fa!important;caret-color:#81d4fa!important}.v-application .light-blue.lighten-2{background-color:#4fc3f7!important;border-color:#4fc3f7!important}.v-application .light-blue--text.text--lighten-2{color:#4fc3f7!important;caret-color:#4fc3f7!important}.v-application .light-blue.lighten-1{background-color:#29b6f6!important;border-color:#29b6f6!important}.v-application .light-blue--text.text--lighten-1{color:#29b6f6!important;caret-color:#29b6f6!important}.v-application .light-blue.darken-1{background-color:#039be5!important;border-color:#039be5!important}.v-application .light-blue--text.text--darken-1{color:#039be5!important;caret-color:#039be5!important}.v-application .light-blue.darken-2{background-color:#0288d1!important;border-color:#0288d1!important}.v-application .light-blue--text.text--darken-2{color:#0288d1!important;caret-color:#0288d1!important}.v-application .light-blue.darken-3{background-color:#0277bd!important;border-color:#0277bd!important}.v-application .light-blue--text.text--darken-3{color:#0277bd!important;caret-color:#0277bd!important}.v-application .light-blue.darken-4{background-color:#01579b!important;border-color:#01579b!important}.v-application .light-blue--text.text--darken-4{color:#01579b!important;caret-color:#01579b!important}.v-application .light-blue.accent-1{background-color:#80d8ff!important;border-color:#80d8ff!important}.v-application .light-blue--text.text--accent-1{color:#80d8ff!important;caret-color:#80d8ff!important}.v-application .light-blue.accent-2{background-color:#40c4ff!important;border-color:#40c4ff!important}.v-application .light-blue--text.text--accent-2{color:#40c4ff!important;caret-color:#40c4ff!important}.v-application .light-blue.accent-3{background-color:#00b0ff!important;border-color:#00b0ff!important}.v-application .light-blue--text.text--accent-3{color:#00b0ff!important;caret-color:#00b0ff!important}.v-application .light-blue.accent-4{background-color:#0091ea!important;border-color:#0091ea!important}.v-application .light-blue--text.text--accent-4{color:#0091ea!important;caret-color:#0091ea!important}.v-application .cyan{background-color:#00bcd4!important;border-color:#00bcd4!important}.v-application .cyan--text{color:#00bcd4!important;caret-color:#00bcd4!important}.v-application .cyan.lighten-5{background-color:#e0f7fa!important;border-color:#e0f7fa!important}.v-application .cyan--text.text--lighten-5{color:#e0f7fa!important;caret-color:#e0f7fa!important}.v-application .cyan.lighten-4{background-color:#b2ebf2!important;border-color:#b2ebf2!important}.v-application .cyan--text.text--lighten-4{color:#b2ebf2!important;caret-color:#b2ebf2!important}.v-application .cyan.lighten-3{background-color:#80deea!important;border-color:#80deea!important}.v-application .cyan--text.text--lighten-3{color:#80deea!important;caret-color:#80deea!important}.v-application .cyan.lighten-2{background-color:#4dd0e1!important;border-color:#4dd0e1!important}.v-application .cyan--text.text--lighten-2{color:#4dd0e1!important;caret-color:#4dd0e1!important}.v-application .cyan.lighten-1{background-color:#26c6da!important;border-color:#26c6da!important}.v-application .cyan--text.text--lighten-1{color:#26c6da!important;caret-color:#26c6da!important}.v-application .cyan.darken-1{background-color:#00acc1!important;border-color:#00acc1!important}.v-application .cyan--text.text--darken-1{color:#00acc1!important;caret-color:#00acc1!important}.v-application .cyan.darken-2{background-color:#0097a7!important;border-color:#0097a7!important}.v-application .cyan--text.text--darken-2{color:#0097a7!important;caret-color:#0097a7!important}.v-application .cyan.darken-3{background-color:#00838f!important;border-color:#00838f!important}.v-application .cyan--text.text--darken-3{color:#00838f!important;caret-color:#00838f!important}.v-application .cyan.darken-4{background-color:#006064!important;border-color:#006064!important}.v-application .cyan--text.text--darken-4{color:#006064!important;caret-color:#006064!important}.v-application .cyan.accent-1{background-color:#84ffff!important;border-color:#84ffff!important}.v-application .cyan--text.text--accent-1{color:#84ffff!important;caret-color:#84ffff!important}.v-application .cyan.accent-2{background-color:#18ffff!important;border-color:#18ffff!important}.v-application .cyan--text.text--accent-2{color:#18ffff!important;caret-color:#18ffff!important}.v-application .cyan.accent-3{background-color:#00e5ff!important;border-color:#00e5ff!important}.v-application .cyan--text.text--accent-3{color:#00e5ff!important;caret-color:#00e5ff!important}.v-application .cyan.accent-4{background-color:#00b8d4!important;border-color:#00b8d4!important}.v-application .cyan--text.text--accent-4{color:#00b8d4!important;caret-color:#00b8d4!important}.v-application .teal{background-color:#009688!important;border-color:#009688!important}.v-application .teal--text{color:#009688!important;caret-color:#009688!important}.v-application .teal.lighten-5{background-color:#e0f2f1!important;border-color:#e0f2f1!important}.v-application .teal--text.text--lighten-5{color:#e0f2f1!important;caret-color:#e0f2f1!important}.v-application .teal.lighten-4{background-color:#b2dfdb!important;border-color:#b2dfdb!important}.v-application .teal--text.text--lighten-4{color:#b2dfdb!important;caret-color:#b2dfdb!important}.v-application .teal.lighten-3{background-color:#80cbc4!important;border-color:#80cbc4!important}.v-application .teal--text.text--lighten-3{color:#80cbc4!important;caret-color:#80cbc4!important}.v-application .teal.lighten-2{background-color:#4db6ac!important;border-color:#4db6ac!important}.v-application .teal--text.text--lighten-2{color:#4db6ac!important;caret-color:#4db6ac!important}.v-application .teal.lighten-1{background-color:#26a69a!important;border-color:#26a69a!important}.v-application .teal--text.text--lighten-1{color:#26a69a!important;caret-color:#26a69a!important}.v-application .teal.darken-1{background-color:#00897b!important;border-color:#00897b!important}.v-application .teal--text.text--darken-1{color:#00897b!important;caret-color:#00897b!important}.v-application .teal.darken-2{background-color:#00796b!important;border-color:#00796b!important}.v-application .teal--text.text--darken-2{color:#00796b!important;caret-color:#00796b!important}.v-application .teal.darken-3{background-color:#00695c!important;border-color:#00695c!important}.v-application .teal--text.text--darken-3{color:#00695c!important;caret-color:#00695c!important}.v-application .teal.darken-4{background-color:#004d40!important;border-color:#004d40!important}.v-application .teal--text.text--darken-4{color:#004d40!important;caret-color:#004d40!important}.v-application .teal.accent-1{background-color:#a7ffeb!important;border-color:#a7ffeb!important}.v-application .teal--text.text--accent-1{color:#a7ffeb!important;caret-color:#a7ffeb!important}.v-application .teal.accent-2{background-color:#64ffda!important;border-color:#64ffda!important}.v-application .teal--text.text--accent-2{color:#64ffda!important;caret-color:#64ffda!important}.v-application .teal.accent-3{background-color:#1de9b6!important;border-color:#1de9b6!important}.v-application .teal--text.text--accent-3{color:#1de9b6!important;caret-color:#1de9b6!important}.v-application .teal.accent-4{background-color:#00bfa5!important;border-color:#00bfa5!important}.v-application .teal--text.text--accent-4{color:#00bfa5!important;caret-color:#00bfa5!important}.v-application .green{background-color:#4caf50!important;border-color:#4caf50!important}.v-application .green--text{color:#4caf50!important;caret-color:#4caf50!important}.v-application .green.lighten-5{background-color:#e8f5e9!important;border-color:#e8f5e9!important}.v-application .green--text.text--lighten-5{color:#e8f5e9!important;caret-color:#e8f5e9!important}.v-application .green.lighten-4{background-color:#c8e6c9!important;border-color:#c8e6c9!important}.v-application .green--text.text--lighten-4{color:#c8e6c9!important;caret-color:#c8e6c9!important}.v-application .green.lighten-3{background-color:#a5d6a7!important;border-color:#a5d6a7!important}.v-application .green--text.text--lighten-3{color:#a5d6a7!important;caret-color:#a5d6a7!important}.v-application .green.lighten-2{background-color:#81c784!important;border-color:#81c784!important}.v-application .green--text.text--lighten-2{color:#81c784!important;caret-color:#81c784!important}.v-application .green.lighten-1{background-color:#66bb6a!important;border-color:#66bb6a!important}.v-application .green--text.text--lighten-1{color:#66bb6a!important;caret-color:#66bb6a!important}.v-application .green.darken-1{background-color:#43a047!important;border-color:#43a047!important}.v-application .green--text.text--darken-1{color:#43a047!important;caret-color:#43a047!important}.v-application .green.darken-2{background-color:#388e3c!important;border-color:#388e3c!important}.v-application .green--text.text--darken-2{color:#388e3c!important;caret-color:#388e3c!important}.v-application .green.darken-3{background-color:#2e7d32!important;border-color:#2e7d32!important}.v-application .green--text.text--darken-3{color:#2e7d32!important;caret-color:#2e7d32!important}.v-application .green.darken-4{background-color:#1b5e20!important;border-color:#1b5e20!important}.v-application .green--text.text--darken-4{color:#1b5e20!important;caret-color:#1b5e20!important}.v-application .green.accent-1{background-color:#b9f6ca!important;border-color:#b9f6ca!important}.v-application .green--text.text--accent-1{color:#b9f6ca!important;caret-color:#b9f6ca!important}.v-application .green.accent-2{background-color:#69f0ae!important;border-color:#69f0ae!important}.v-application .green--text.text--accent-2{color:#69f0ae!important;caret-color:#69f0ae!important}.v-application .green.accent-3{background-color:#00e676!important;border-color:#00e676!important}.v-application .green--text.text--accent-3{color:#00e676!important;caret-color:#00e676!important}.v-application .green.accent-4{background-color:#00c853!important;border-color:#00c853!important}.v-application .green--text.text--accent-4{color:#00c853!important;caret-color:#00c853!important}.v-application .light-green{background-color:#8bc34a!important;border-color:#8bc34a!important}.v-application .light-green--text{color:#8bc34a!important;caret-color:#8bc34a!important}.v-application .light-green.lighten-5{background-color:#f1f8e9!important;border-color:#f1f8e9!important}.v-application .light-green--text.text--lighten-5{color:#f1f8e9!important;caret-color:#f1f8e9!important}.v-application .light-green.lighten-4{background-color:#dcedc8!important;border-color:#dcedc8!important}.v-application .light-green--text.text--lighten-4{color:#dcedc8!important;caret-color:#dcedc8!important}.v-application .light-green.lighten-3{background-color:#c5e1a5!important;border-color:#c5e1a5!important}.v-application .light-green--text.text--lighten-3{color:#c5e1a5!important;caret-color:#c5e1a5!important}.v-application .light-green.lighten-2{background-color:#aed581!important;border-color:#aed581!important}.v-application .light-green--text.text--lighten-2{color:#aed581!important;caret-color:#aed581!important}.v-application .light-green.lighten-1{background-color:#9ccc65!important;border-color:#9ccc65!important}.v-application .light-green--text.text--lighten-1{color:#9ccc65!important;caret-color:#9ccc65!important}.v-application .light-green.darken-1{background-color:#7cb342!important;border-color:#7cb342!important}.v-application .light-green--text.text--darken-1{color:#7cb342!important;caret-color:#7cb342!important}.v-application .light-green.darken-2{background-color:#689f38!important;border-color:#689f38!important}.v-application .light-green--text.text--darken-2{color:#689f38!important;caret-color:#689f38!important}.v-application .light-green.darken-3{background-color:#558b2f!important;border-color:#558b2f!important}.v-application .light-green--text.text--darken-3{color:#558b2f!important;caret-color:#558b2f!important}.v-application .light-green.darken-4{background-color:#33691e!important;border-color:#33691e!important}.v-application .light-green--text.text--darken-4{color:#33691e!important;caret-color:#33691e!important}.v-application .light-green.accent-1{background-color:#ccff90!important;border-color:#ccff90!important}.v-application .light-green--text.text--accent-1{color:#ccff90!important;caret-color:#ccff90!important}.v-application .light-green.accent-2{background-color:#b2ff59!important;border-color:#b2ff59!important}.v-application .light-green--text.text--accent-2{color:#b2ff59!important;caret-color:#b2ff59!important}.v-application .light-green.accent-3{background-color:#76ff03!important;border-color:#76ff03!important}.v-application .light-green--text.text--accent-3{color:#76ff03!important;caret-color:#76ff03!important}.v-application .light-green.accent-4{background-color:#64dd17!important;border-color:#64dd17!important}.v-application .light-green--text.text--accent-4{color:#64dd17!important;caret-color:#64dd17!important}.v-application .lime{background-color:#cddc39!important;border-color:#cddc39!important}.v-application .lime--text{color:#cddc39!important;caret-color:#cddc39!important}.v-application .lime.lighten-5{background-color:#f9fbe7!important;border-color:#f9fbe7!important}.v-application .lime--text.text--lighten-5{color:#f9fbe7!important;caret-color:#f9fbe7!important}.v-application .lime.lighten-4{background-color:#f0f4c3!important;border-color:#f0f4c3!important}.v-application .lime--text.text--lighten-4{color:#f0f4c3!important;caret-color:#f0f4c3!important}.v-application .lime.lighten-3{background-color:#e6ee9c!important;border-color:#e6ee9c!important}.v-application .lime--text.text--lighten-3{color:#e6ee9c!important;caret-color:#e6ee9c!important}.v-application .lime.lighten-2{background-color:#dce775!important;border-color:#dce775!important}.v-application .lime--text.text--lighten-2{color:#dce775!important;caret-color:#dce775!important}.v-application .lime.lighten-1{background-color:#d4e157!important;border-color:#d4e157!important}.v-application .lime--text.text--lighten-1{color:#d4e157!important;caret-color:#d4e157!important}.v-application .lime.darken-1{background-color:#c0ca33!important;border-color:#c0ca33!important}.v-application .lime--text.text--darken-1{color:#c0ca33!important;caret-color:#c0ca33!important}.v-application .lime.darken-2{background-color:#afb42b!important;border-color:#afb42b!important}.v-application .lime--text.text--darken-2{color:#afb42b!important;caret-color:#afb42b!important}.v-application .lime.darken-3{background-color:#9e9d24!important;border-color:#9e9d24!important}.v-application .lime--text.text--darken-3{color:#9e9d24!important;caret-color:#9e9d24!important}.v-application .lime.darken-4{background-color:#827717!important;border-color:#827717!important}.v-application .lime--text.text--darken-4{color:#827717!important;caret-color:#827717!important}.v-application .lime.accent-1{background-color:#f4ff81!important;border-color:#f4ff81!important}.v-application .lime--text.text--accent-1{color:#f4ff81!important;caret-color:#f4ff81!important}.v-application .lime.accent-2{background-color:#eeff41!important;border-color:#eeff41!important}.v-application .lime--text.text--accent-2{color:#eeff41!important;caret-color:#eeff41!important}.v-application .lime.accent-3{background-color:#c6ff00!important;border-color:#c6ff00!important}.v-application .lime--text.text--accent-3{color:#c6ff00!important;caret-color:#c6ff00!important}.v-application .lime.accent-4{background-color:#aeea00!important;border-color:#aeea00!important}.v-application .lime--text.text--accent-4{color:#aeea00!important;caret-color:#aeea00!important}.v-application .yellow{background-color:#ffeb3b!important;border-color:#ffeb3b!important}.v-application .yellow--text{color:#ffeb3b!important;caret-color:#ffeb3b!important}.v-application .yellow.lighten-5{background-color:#fffde7!important;border-color:#fffde7!important}.v-application .yellow--text.text--lighten-5{color:#fffde7!important;caret-color:#fffde7!important}.v-application .yellow.lighten-4{background-color:#fff9c4!important;border-color:#fff9c4!important}.v-application .yellow--text.text--lighten-4{color:#fff9c4!important;caret-color:#fff9c4!important}.v-application .yellow.lighten-3{background-color:#fff59d!important;border-color:#fff59d!important}.v-application .yellow--text.text--lighten-3{color:#fff59d!important;caret-color:#fff59d!important}.v-application .yellow.lighten-2{background-color:#fff176!important;border-color:#fff176!important}.v-application .yellow--text.text--lighten-2{color:#fff176!important;caret-color:#fff176!important}.v-application .yellow.lighten-1{background-color:#ffee58!important;border-color:#ffee58!important}.v-application .yellow--text.text--lighten-1{color:#ffee58!important;caret-color:#ffee58!important}.v-application .yellow.darken-1{background-color:#fdd835!important;border-color:#fdd835!important}.v-application .yellow--text.text--darken-1{color:#fdd835!important;caret-color:#fdd835!important}.v-application .yellow.darken-2{background-color:#fbc02d!important;border-color:#fbc02d!important}.v-application .yellow--text.text--darken-2{color:#fbc02d!important;caret-color:#fbc02d!important}.v-application .yellow.darken-3{background-color:#f9a825!important;border-color:#f9a825!important}.v-application .yellow--text.text--darken-3{color:#f9a825!important;caret-color:#f9a825!important}.v-application .yellow.darken-4{background-color:#f57f17!important;border-color:#f57f17!important}.v-application .yellow--text.text--darken-4{color:#f57f17!important;caret-color:#f57f17!important}.v-application .yellow.accent-1{background-color:#ffff8d!important;border-color:#ffff8d!important}.v-application .yellow--text.text--accent-1{color:#ffff8d!important;caret-color:#ffff8d!important}.v-application .yellow.accent-2{background-color:#ff0!important;border-color:#ff0!important}.v-application .yellow--text.text--accent-2{color:#ff0!important;caret-color:#ff0!important}.v-application .yellow.accent-3{background-color:#ffea00!important;border-color:#ffea00!important}.v-application .yellow--text.text--accent-3{color:#ffea00!important;caret-color:#ffea00!important}.v-application .yellow.accent-4{background-color:#ffd600!important;border-color:#ffd600!important}.v-application .yellow--text.text--accent-4{color:#ffd600!important;caret-color:#ffd600!important}.v-application .amber{background-color:#ffc107!important;border-color:#ffc107!important}.v-application .amber--text{color:#ffc107!important;caret-color:#ffc107!important}.v-application .amber.lighten-5{background-color:#fff8e1!important;border-color:#fff8e1!important}.v-application .amber--text.text--lighten-5{color:#fff8e1!important;caret-color:#fff8e1!important}.v-application .amber.lighten-4{background-color:#ffecb3!important;border-color:#ffecb3!important}.v-application .amber--text.text--lighten-4{color:#ffecb3!important;caret-color:#ffecb3!important}.v-application .amber.lighten-3{background-color:#ffe082!important;border-color:#ffe082!important}.v-application .amber--text.text--lighten-3{color:#ffe082!important;caret-color:#ffe082!important}.v-application .amber.lighten-2{background-color:#ffd54f!important;border-color:#ffd54f!important}.v-application .amber--text.text--lighten-2{color:#ffd54f!important;caret-color:#ffd54f!important}.v-application .amber.lighten-1{background-color:#ffca28!important;border-color:#ffca28!important}.v-application .amber--text.text--lighten-1{color:#ffca28!important;caret-color:#ffca28!important}.v-application .amber.darken-1{background-color:#ffb300!important;border-color:#ffb300!important}.v-application .amber--text.text--darken-1{color:#ffb300!important;caret-color:#ffb300!important}.v-application .amber.darken-2{background-color:#ffa000!important;border-color:#ffa000!important}.v-application .amber--text.text--darken-2{color:#ffa000!important;caret-color:#ffa000!important}.v-application .amber.darken-3{background-color:#ff8f00!important;border-color:#ff8f00!important}.v-application .amber--text.text--darken-3{color:#ff8f00!important;caret-color:#ff8f00!important}.v-application .amber.darken-4{background-color:#ff6f00!important;border-color:#ff6f00!important}.v-application .amber--text.text--darken-4{color:#ff6f00!important;caret-color:#ff6f00!important}.v-application .amber.accent-1{background-color:#ffe57f!important;border-color:#ffe57f!important}.v-application .amber--text.text--accent-1{color:#ffe57f!important;caret-color:#ffe57f!important}.v-application .amber.accent-2{background-color:#ffd740!important;border-color:#ffd740!important}.v-application .amber--text.text--accent-2{color:#ffd740!important;caret-color:#ffd740!important}.v-application .amber.accent-3{background-color:#ffc400!important;border-color:#ffc400!important}.v-application .amber--text.text--accent-3{color:#ffc400!important;caret-color:#ffc400!important}.v-application .amber.accent-4{background-color:#ffab00!important;border-color:#ffab00!important}.v-application .amber--text.text--accent-4{color:#ffab00!important;caret-color:#ffab00!important}.v-application .orange{background-color:#ff9800!important;border-color:#ff9800!important}.v-application .orange--text{color:#ff9800!important;caret-color:#ff9800!important}.v-application .orange.lighten-5{background-color:#fff3e0!important;border-color:#fff3e0!important}.v-application .orange--text.text--lighten-5{color:#fff3e0!important;caret-color:#fff3e0!important}.v-application .orange.lighten-4{background-color:#ffe0b2!important;border-color:#ffe0b2!important}.v-application .orange--text.text--lighten-4{color:#ffe0b2!important;caret-color:#ffe0b2!important}.v-application .orange.lighten-3{background-color:#ffcc80!important;border-color:#ffcc80!important}.v-application .orange--text.text--lighten-3{color:#ffcc80!important;caret-color:#ffcc80!important}.v-application .orange.lighten-2{background-color:#ffb74d!important;border-color:#ffb74d!important}.v-application .orange--text.text--lighten-2{color:#ffb74d!important;caret-color:#ffb74d!important}.v-application .orange.lighten-1{background-color:#ffa726!important;border-color:#ffa726!important}.v-application .orange--text.text--lighten-1{color:#ffa726!important;caret-color:#ffa726!important}.v-application .orange.darken-1{background-color:#fb8c00!important;border-color:#fb8c00!important}.v-application .orange--text.text--darken-1{color:#fb8c00!important;caret-color:#fb8c00!important}.v-application .orange.darken-2{background-color:#f57c00!important;border-color:#f57c00!important}.v-application .orange--text.text--darken-2{color:#f57c00!important;caret-color:#f57c00!important}.v-application .orange.darken-3{background-color:#ef6c00!important;border-color:#ef6c00!important}.v-application .orange--text.text--darken-3{color:#ef6c00!important;caret-color:#ef6c00!important}.v-application .orange.darken-4{background-color:#e65100!important;border-color:#e65100!important}.v-application .orange--text.text--darken-4{color:#e65100!important;caret-color:#e65100!important}.v-application .orange.accent-1{background-color:#ffd180!important;border-color:#ffd180!important}.v-application .orange--text.text--accent-1{color:#ffd180!important;caret-color:#ffd180!important}.v-application .orange.accent-2{background-color:#ffab40!important;border-color:#ffab40!important}.v-application .orange--text.text--accent-2{color:#ffab40!important;caret-color:#ffab40!important}.v-application .orange.accent-3{background-color:#ff9100!important;border-color:#ff9100!important}.v-application .orange--text.text--accent-3{color:#ff9100!important;caret-color:#ff9100!important}.v-application .orange.accent-4{background-color:#ff6d00!important;border-color:#ff6d00!important}.v-application .orange--text.text--accent-4{color:#ff6d00!important;caret-color:#ff6d00!important}.v-application .deep-orange{background-color:#ff5722!important;border-color:#ff5722!important}.v-application .deep-orange--text{color:#ff5722!important;caret-color:#ff5722!important}.v-application .deep-orange.lighten-5{background-color:#fbe9e7!important;border-color:#fbe9e7!important}.v-application .deep-orange--text.text--lighten-5{color:#fbe9e7!important;caret-color:#fbe9e7!important}.v-application .deep-orange.lighten-4{background-color:#ffccbc!important;border-color:#ffccbc!important}.v-application .deep-orange--text.text--lighten-4{color:#ffccbc!important;caret-color:#ffccbc!important}.v-application .deep-orange.lighten-3{background-color:#ffab91!important;border-color:#ffab91!important}.v-application .deep-orange--text.text--lighten-3{color:#ffab91!important;caret-color:#ffab91!important}.v-application .deep-orange.lighten-2{background-color:#ff8a65!important;border-color:#ff8a65!important}.v-application .deep-orange--text.text--lighten-2{color:#ff8a65!important;caret-color:#ff8a65!important}.v-application .deep-orange.lighten-1{background-color:#ff7043!important;border-color:#ff7043!important}.v-application .deep-orange--text.text--lighten-1{color:#ff7043!important;caret-color:#ff7043!important}.v-application .deep-orange.darken-1{background-color:#f4511e!important;border-color:#f4511e!important}.v-application .deep-orange--text.text--darken-1{color:#f4511e!important;caret-color:#f4511e!important}.v-application .deep-orange.darken-2{background-color:#e64a19!important;border-color:#e64a19!important}.v-application .deep-orange--text.text--darken-2{color:#e64a19!important;caret-color:#e64a19!important}.v-application .deep-orange.darken-3{background-color:#d84315!important;border-color:#d84315!important}.v-application .deep-orange--text.text--darken-3{color:#d84315!important;caret-color:#d84315!important}.v-application .deep-orange.darken-4{background-color:#bf360c!important;border-color:#bf360c!important}.v-application .deep-orange--text.text--darken-4{color:#bf360c!important;caret-color:#bf360c!important}.v-application .deep-orange.accent-1{background-color:#ff9e80!important;border-color:#ff9e80!important}.v-application .deep-orange--text.text--accent-1{color:#ff9e80!important;caret-color:#ff9e80!important}.v-application .deep-orange.accent-2{background-color:#ff6e40!important;border-color:#ff6e40!important}.v-application .deep-orange--text.text--accent-2{color:#ff6e40!important;caret-color:#ff6e40!important}.v-application .deep-orange.accent-3{background-color:#ff3d00!important;border-color:#ff3d00!important}.v-application .deep-orange--text.text--accent-3{color:#ff3d00!important;caret-color:#ff3d00!important}.v-application .deep-orange.accent-4{background-color:#dd2c00!important;border-color:#dd2c00!important}.v-application .deep-orange--text.text--accent-4{color:#dd2c00!important;caret-color:#dd2c00!important}.v-application .brown{background-color:#795548!important;border-color:#795548!important}.v-application .brown--text{color:#795548!important;caret-color:#795548!important}.v-application .brown.lighten-5{background-color:#efebe9!important;border-color:#efebe9!important}.v-application .brown--text.text--lighten-5{color:#efebe9!important;caret-color:#efebe9!important}.v-application .brown.lighten-4{background-color:#d7ccc8!important;border-color:#d7ccc8!important}.v-application .brown--text.text--lighten-4{color:#d7ccc8!important;caret-color:#d7ccc8!important}.v-application .brown.lighten-3{background-color:#bcaaa4!important;border-color:#bcaaa4!important}.v-application .brown--text.text--lighten-3{color:#bcaaa4!important;caret-color:#bcaaa4!important}.v-application .brown.lighten-2{background-color:#a1887f!important;border-color:#a1887f!important}.v-application .brown--text.text--lighten-2{color:#a1887f!important;caret-color:#a1887f!important}.v-application .brown.lighten-1{background-color:#8d6e63!important;border-color:#8d6e63!important}.v-application .brown--text.text--lighten-1{color:#8d6e63!important;caret-color:#8d6e63!important}.v-application .brown.darken-1{background-color:#6d4c41!important;border-color:#6d4c41!important}.v-application .brown--text.text--darken-1{color:#6d4c41!important;caret-color:#6d4c41!important}.v-application .brown.darken-2{background-color:#5d4037!important;border-color:#5d4037!important}.v-application .brown--text.text--darken-2{color:#5d4037!important;caret-color:#5d4037!important}.v-application .brown.darken-3{background-color:#4e342e!important;border-color:#4e342e!important}.v-application .brown--text.text--darken-3{color:#4e342e!important;caret-color:#4e342e!important}.v-application .brown.darken-4{background-color:#3e2723!important;border-color:#3e2723!important}.v-application .brown--text.text--darken-4{color:#3e2723!important;caret-color:#3e2723!important}.v-application .blue-grey{background-color:#607d8b!important;border-color:#607d8b!important}.v-application .blue-grey--text{color:#607d8b!important;caret-color:#607d8b!important}.v-application .blue-grey.lighten-5{background-color:#eceff1!important;border-color:#eceff1!important}.v-application .blue-grey--text.text--lighten-5{color:#eceff1!important;caret-color:#eceff1!important}.v-application .blue-grey.lighten-4{background-color:#cfd8dc!important;border-color:#cfd8dc!important}.v-application .blue-grey--text.text--lighten-4{color:#cfd8dc!important;caret-color:#cfd8dc!important}.v-application .blue-grey.lighten-3{background-color:#b0bec5!important;border-color:#b0bec5!important}.v-application .blue-grey--text.text--lighten-3{color:#b0bec5!important;caret-color:#b0bec5!important}.v-application .blue-grey.lighten-2{background-color:#90a4ae!important;border-color:#90a4ae!important}.v-application .blue-grey--text.text--lighten-2{color:#90a4ae!important;caret-color:#90a4ae!important}.v-application .blue-grey.lighten-1{background-color:#78909c!important;border-color:#78909c!important}.v-application .blue-grey--text.text--lighten-1{color:#78909c!important;caret-color:#78909c!important}.v-application .blue-grey.darken-1{background-color:#546e7a!important;border-color:#546e7a!important}.v-application .blue-grey--text.text--darken-1{color:#546e7a!important;caret-color:#546e7a!important}.v-application .blue-grey.darken-2{background-color:#455a64!important;border-color:#455a64!important}.v-application .blue-grey--text.text--darken-2{color:#455a64!important;caret-color:#455a64!important}.v-application .blue-grey.darken-3{background-color:#37474f!important;border-color:#37474f!important}.v-application .blue-grey--text.text--darken-3{color:#37474f!important;caret-color:#37474f!important}.v-application .blue-grey.darken-4{background-color:#263238!important;border-color:#263238!important}.v-application .blue-grey--text.text--darken-4{color:#263238!important;caret-color:#263238!important}.v-application .grey{background-color:#9e9e9e!important;border-color:#9e9e9e!important}.v-application .grey--text{color:#9e9e9e!important;caret-color:#9e9e9e!important}.v-application .grey.lighten-5{background-color:#fafafa!important;border-color:#fafafa!important}.v-application .grey--text.text--lighten-5{color:#fafafa!important;caret-color:#fafafa!important}.v-application .grey.lighten-4{background-color:#f5f5f5!important;border-color:#f5f5f5!important}.v-application .grey--text.text--lighten-4{color:#f5f5f5!important;caret-color:#f5f5f5!important}.v-application .grey.lighten-3{background-color:#eee!important;border-color:#eee!important}.v-application .grey--text.text--lighten-3{color:#eee!important;caret-color:#eee!important}.v-application .grey.lighten-2{background-color:#e0e0e0!important;border-color:#e0e0e0!important}.v-application .grey--text.text--lighten-2{color:#e0e0e0!important;caret-color:#e0e0e0!important}.v-application .grey.lighten-1{background-color:#bdbdbd!important;border-color:#bdbdbd!important}.v-application .grey--text.text--lighten-1{color:#bdbdbd!important;caret-color:#bdbdbd!important}.v-application .grey.darken-1{background-color:#757575!important;border-color:#757575!important}.v-application .grey--text.text--darken-1{color:#757575!important;caret-color:#757575!important}.v-application .grey.darken-2{background-color:#616161!important;border-color:#616161!important}.v-application .grey--text.text--darken-2{color:#616161!important;caret-color:#616161!important}.v-application .grey.darken-3{background-color:#424242!important;border-color:#424242!important}.v-application .grey--text.text--darken-3{color:#424242!important;caret-color:#424242!important}.v-application .grey.darken-4{background-color:#212121!important;border-color:#212121!important}.v-application .grey--text.text--darken-4{color:#212121!important;caret-color:#212121!important}.v-application .shades.black{background-color:#000!important;border-color:#000!important}.v-application .shades--text.text--black{color:#000!important;caret-color:#000!important}.v-application .shades.white{background-color:#fff!important;border-color:#fff!important}.v-application .shades--text.text--white{color:#fff!important;caret-color:#fff!important}.v-application .shades.transparent{background-color:transparent!important;border-color:transparent!important}.v-application .shades--text.text--transparent{color:transparent!important;caret-color:transparent!important}/*!\n * ress.css • v2.0.4\n * MIT License\n * github.com/filipelinhares/ress\n */html{box-sizing:border-box;overflow-y:scroll;-webkit-text-size-adjust:100%;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4}*,:after,:before{background-repeat:no-repeat;box-sizing:inherit}:after,:before{text-decoration:inherit;vertical-align:inherit}*{padding:0;margin:0}hr{overflow:visible;height:0}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace,monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}input{border-radius:0}[disabled]{cursor:default}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}[role=button],[type=button],[type=reset],[type=submit],button{cursor:pointer;color:inherit}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button:-moz-focusring{outline:1px dotted ButtonText}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}select{-moz-appearance:none;-webkit-appearance:none}select::-ms-expand{display:none}select::-ms-value{color:currentColor}legend{border:0;color:inherit;display:table;white-space:normal;max-width:100%}::-webkit-file-upload-button{-webkit-appearance:button;color:inherit;font:inherit}img{border-style:none}progress{vertical-align:baseline}@media screen{[hidden~=screen]{display:inherit}[hidden~=screen]:not(:active):not(:focus):not(:target){position:absolute!important;clip:rect(0 0 0 0)!important}}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}.v-application .elevation-24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)!important}.v-application .elevation-23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)!important}.v-application .elevation-22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)!important}.v-application .elevation-21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)!important}.v-application .elevation-20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)!important}.v-application .elevation-19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)!important}.v-application .elevation-18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)!important}.v-application .elevation-17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)!important}.v-application .elevation-16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)!important}.v-application .elevation-15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)!important}.v-application .elevation-14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)!important}.v-application .elevation-13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)!important}.v-application .elevation-12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important}.v-application .elevation-11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)!important}.v-application .elevation-10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)!important}.v-application .elevation-9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)!important}.v-application .elevation-8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)!important}.v-application .elevation-7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)!important}.v-application .elevation-6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)!important}.v-application .elevation-5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)!important}.v-application .elevation-4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.v-application .elevation-3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)!important}.v-application .elevation-2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important}.v-application .elevation-1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)!important}.v-application .elevation-0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.v-application .carousel-transition-enter{transform:translate(100%)}.v-application .carousel-transition-leave,.v-application .carousel-transition-leave-to{position:absolute;top:0;transform:translate(-100%)}.carousel-reverse-transition-enter{transform:translate(-100%)}.carousel-reverse-transition-leave,.carousel-reverse-transition-leave-to{position:absolute;top:0;transform:translate(100%)}.dialog-transition-enter,.dialog-transition-leave-to{transform:scale(.5);opacity:0}.dialog-transition-enter-to,.dialog-transition-leave{opacity:1}.dialog-bottom-transition-enter,.dialog-bottom-transition-leave-to{transform:translateY(100%)}.dialog-top-transition-enter,.dialog-top-transition-leave-to{transform:translateY(-100%)}.picker-reverse-transition-enter-active,.picker-reverse-transition-leave-active,.picker-transition-enter-active,.picker-transition-leave-active{transition:.3s cubic-bezier(0,0,.2,1)}.picker-reverse-transition-enter,.picker-reverse-transition-leave-to,.picker-transition-enter,.picker-transition-leave-to{opacity:0}.picker-reverse-transition-leave,.picker-reverse-transition-leave-active,.picker-reverse-transition-leave-to,.picker-transition-leave,.picker-transition-leave-active,.picker-transition-leave-to{position:absolute!important}.picker-transition-enter{transform:translateY(100%)}.picker-reverse-transition-enter,.picker-transition-leave-to{transform:translateY(-100%)}.picker-reverse-transition-leave-to{transform:translateY(100%)}.picker-title-transition-enter-to,.picker-title-transition-leave{transform:translate(0)}.picker-title-transition-enter{transform:translate(-100%)}.picker-title-transition-leave-to{opacity:0;transform:translate(100%)}.picker-title-transition-leave,.picker-title-transition-leave-active,.picker-title-transition-leave-to{position:absolute!important}.tab-transition-enter{transform:translate(100%)}.tab-transition-leave,.tab-transition-leave-active{position:absolute;top:0}.tab-transition-leave-to{position:absolute}.tab-reverse-transition-enter,.tab-transition-leave-to{transform:translate(-100%)}.tab-reverse-transition-leave,.tab-reverse-transition-leave-to{top:0;position:absolute;transform:translate(100%)}.expand-transition-enter-active,.expand-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.expand-transition-move{transition:transform .6s}.expand-x-transition-enter-active,.expand-x-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.expand-x-transition-move{transition:transform .6s}.scale-transition-enter-active,.scale-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scale-transition-move{transition:transform .6s}.scale-transition-enter,.scale-transition-leave,.scale-transition-leave-to{opacity:0;transform:scale(0)}.scale-rotate-transition-enter-active,.scale-rotate-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scale-rotate-transition-move{transition:transform .6s}.scale-rotate-transition-enter,.scale-rotate-transition-leave,.scale-rotate-transition-leave-to{opacity:0;transform:scale(0) rotate(-45deg)}.scale-rotate-reverse-transition-enter-active,.scale-rotate-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scale-rotate-reverse-transition-move{transition:transform .6s}.scale-rotate-reverse-transition-enter,.scale-rotate-reverse-transition-leave,.scale-rotate-reverse-transition-leave-to{opacity:0;transform:scale(0) rotate(45deg)}.message-transition-enter-active,.message-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.message-transition-move{transition:transform .6s}.message-transition-enter,.message-transition-leave-to{opacity:0;transform:translateY(-15px)}.message-transition-leave,.message-transition-leave-active{position:absolute}.slide-y-transition-enter-active,.slide-y-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-y-transition-move{transition:transform .6s}.slide-y-transition-enter,.slide-y-transition-leave-to{opacity:0;transform:translateY(-15px)}.slide-y-reverse-transition-enter-active,.slide-y-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-y-reverse-transition-move{transition:transform .6s}.slide-y-reverse-transition-enter,.slide-y-reverse-transition-leave-to{opacity:0;transform:translateY(15px)}.scroll-y-transition-enter-active,.scroll-y-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-y-transition-move{transition:transform .6s}.scroll-y-transition-enter,.scroll-y-transition-leave-to{opacity:0}.scroll-y-transition-enter{transform:translateY(-15px)}.scroll-y-transition-leave-to{transform:translateY(15px)}.scroll-y-reverse-transition-enter-active,.scroll-y-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-y-reverse-transition-move{transition:transform .6s}.scroll-y-reverse-transition-enter,.scroll-y-reverse-transition-leave-to{opacity:0}.scroll-y-reverse-transition-enter{transform:translateY(15px)}.scroll-y-reverse-transition-leave-to{transform:translateY(-15px)}.scroll-x-transition-enter-active,.scroll-x-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-x-transition-move{transition:transform .6s}.scroll-x-transition-enter,.scroll-x-transition-leave-to{opacity:0}.scroll-x-transition-enter{transform:translateX(-15px)}.scroll-x-transition-leave-to{transform:translateX(15px)}.scroll-x-reverse-transition-enter-active,.scroll-x-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-x-reverse-transition-move{transition:transform .6s}.scroll-x-reverse-transition-enter,.scroll-x-reverse-transition-leave-to{opacity:0}.scroll-x-reverse-transition-enter{transform:translateX(15px)}.scroll-x-reverse-transition-leave-to{transform:translateX(-15px)}.slide-x-transition-enter-active,.slide-x-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-x-transition-move{transition:transform .6s}.slide-x-transition-enter,.slide-x-transition-leave-to{opacity:0;transform:translateX(-15px)}.slide-x-reverse-transition-enter-active,.slide-x-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-x-reverse-transition-move{transition:transform .6s}.slide-x-reverse-transition-enter,.slide-x-reverse-transition-leave-to{opacity:0;transform:translateX(15px)}.fade-transition-enter-active,.fade-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.fade-transition-move{transition:transform .6s}.fade-transition-enter,.fade-transition-leave-to{opacity:0!important}.fab-transition-enter-active,.fab-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.fab-transition-move{transition:transform .6s}.fab-transition-enter,.fab-transition-leave-to{transform:scale(0) rotate(-45deg)}.v-application .blockquote{padding:16px 0 16px 24px;font-size:18px;font-weight:300}.v-application code,.v-application kbd{border-radius:3px;font-size:85%;font-weight:400}.v-application code{padding:.2em .4em}.v-application kbd{padding:.2em .4rem;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.theme--light.v-application code{background-color:rgba(0,0,0,.05);color:currentColor}.theme--light.v-application kbd{background:#212529;color:#fff}.theme--dark.v-application code{background-color:hsla(0,0%,100%,.1);color:currentColor}.theme--dark.v-application kbd{background:#212529;color:#fff}html{font-size:16px;overflow-x:hidden;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:rgba(0,0,0,0)}html.overflow-y-hidden{overflow-y:hidden!important}.v-application{font-family:"Roboto",sans-serif;line-height:1.5}.v-application ::-ms-clear,.v-application ::-ms-reveal{display:none}.v-application .theme--light.heading{color:rgba(0,0,0,.87)}.v-application .theme--dark.heading{color:#fff}.v-application ol,.v-application ul{padding-left:24px}.v-application .display-4{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .display-3,.v-application .display-4{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .display-3{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .display-2{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .display-1,.v-application .display-2{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .display-1{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .headline{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .headline,.v-application .title{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .title{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .subtitle-2{font-size:.875rem!important;font-weight:500;letter-spacing:.0071428571em!important;line-height:1.375rem;font-family:"Roboto",sans-serif!important}.v-application .subtitle-1{font-size:1rem!important;letter-spacing:.009375em!important;line-height:1.75rem}.v-application .body-2,.v-application .subtitle-1{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .body-2{font-size:.875rem!important;letter-spacing:.0178571429em!important;line-height:1.25rem}.v-application .body-1{font-size:1rem!important;letter-spacing:.03125em!important;line-height:1.5rem}.v-application .body-1,.v-application .caption{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .caption{font-size:.75rem!important;letter-spacing:.0333333333em!important;line-height:1.25rem}.v-application .overline{font-size:.75rem!important;font-weight:500;letter-spacing:.1666666667em!important;line-height:2rem;text-transform:uppercase;font-family:"Roboto",sans-serif!important}.v-application p{margin-bottom:16px}@media only print{.v-application .hidden-print-only{display:none!important}}@media only screen{.v-application .hidden-screen-only{display:none!important}}@media only screen and (max-width:599px){.v-application .hidden-xs-only{display:none!important}}@media only screen and (min-width:600px)and (max-width:959px){.v-application .hidden-sm-only{display:none!important}}@media only screen and (max-width:959px){.v-application .hidden-sm-and-down{display:none!important}}@media only screen and (min-width:600px){.v-application .hidden-sm-and-up{display:none!important}}@media only screen and (min-width:960px)and (max-width:1263px){.v-application .hidden-md-only{display:none!important}}@media only screen and (max-width:1263px){.v-application .hidden-md-and-down{display:none!important}}@media only screen and (min-width:960px){.v-application .hidden-md-and-up{display:none!important}}@media only screen and (min-width:1264px)and (max-width:1903px){.v-application .hidden-lg-only{display:none!important}}@media only screen and (max-width:1903px){.v-application .hidden-lg-and-down{display:none!important}}@media only screen and (min-width:1264px){.v-application .hidden-lg-and-up{display:none!important}}@media only screen and (min-width:1904px){.v-application .hidden-xl-only{display:none!important}}.d-sr-only,.d-sr-only-focusable:not(:focus){border:0!important;clip:rect(0,0,0,0)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.v-application .font-weight-thin{font-weight:100!important}.v-application .font-weight-light{font-weight:300!important}.v-application .font-weight-regular{font-weight:400!important}.v-application .font-weight-medium{font-weight:500!important}.v-application .font-weight-bold{font-weight:700!important}.v-application .font-weight-black{font-weight:900!important}.v-application .font-italic{font-style:italic!important}.v-application .transition-fast-out-slow-in{transition:.3s cubic-bezier(.4,0,.2,1)!important}.v-application .transition-linear-out-slow-in{transition:.3s cubic-bezier(0,0,.2,1)!important}.v-application .transition-fast-out-linear-in{transition:.3s cubic-bezier(.4,0,1,1)!important}.v-application .transition-ease-in-out{transition:.3s cubic-bezier(.4,0,.6,1)!important}.v-application .transition-fast-in-fast-out{transition:.3s cubic-bezier(.25,.8,.25,1)!important}.v-application .transition-swing{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.v-application .overflow-auto{overflow:auto!important}.v-application .overflow-hidden{overflow:hidden!important}.v-application .overflow-visible{overflow:visible!important}.v-application .overflow-x-auto{overflow-x:auto!important}.v-application .overflow-x-hidden{overflow-x:hidden!important}.v-application .overflow-y-auto{overflow-y:auto!important}.v-application .overflow-y-hidden{overflow-y:hidden!important}.v-application .d-none{display:none!important}.v-application .d-inline{display:inline!important}.v-application .d-inline-block{display:inline-block!important}.v-application .d-block{display:block!important}.v-application .d-table{display:table!important}.v-application .d-table-row{display:table-row!important}.v-application .d-table-cell{display:table-cell!important}.v-application .d-flex{display:flex!important}.v-application .d-inline-flex{display:inline-flex!important}.v-application .float-none{float:none!important}.v-application .float-left{float:left!important}.v-application .float-right{float:right!important}.v-application .flex-fill{flex:1 1 auto!important}.v-application .flex-row{flex-direction:row!important}.v-application .flex-column{flex-direction:column!important}.v-application .flex-row-reverse{flex-direction:row-reverse!important}.v-application .flex-column-reverse{flex-direction:column-reverse!important}.v-application .flex-grow-0{flex-grow:0!important}.v-application .flex-grow-1{flex-grow:1!important}.v-application .flex-shrink-0{flex-shrink:0!important}.v-application .flex-shrink-1{flex-shrink:1!important}.v-application .flex-wrap{flex-wrap:wrap!important}.v-application .flex-nowrap{flex-wrap:nowrap!important}.v-application .flex-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-start{justify-content:flex-start!important}.v-application .justify-end{justify-content:flex-end!important}.v-application .justify-center{justify-content:center!important}.v-application .justify-space-between{justify-content:space-between!important}.v-application .justify-space-around{justify-content:space-around!important}.v-application .align-start{align-items:flex-start!important}.v-application .align-end{align-items:flex-end!important}.v-application .align-center{align-items:center!important}.v-application .align-baseline{align-items:baseline!important}.v-application .align-stretch{align-items:stretch!important}.v-application .align-content-start{align-content:flex-start!important}.v-application .align-content-end{align-content:flex-end!important}.v-application .align-content-center{align-content:center!important}.v-application .align-content-space-between{align-content:space-between!important}.v-application .align-content-space-around{align-content:space-around!important}.v-application .align-content-stretch{align-content:stretch!important}.v-application .align-self-auto{align-self:auto!important}.v-application .align-self-start{align-self:flex-start!important}.v-application .align-self-end{align-self:flex-end!important}.v-application .align-self-center{align-self:center!important}.v-application .align-self-baseline{align-self:baseline!important}.v-application .align-self-stretch{align-self:stretch!important}.v-application .order-first{order:-1!important}.v-application .order-0{order:0!important}.v-application .order-1{order:1!important}.v-application .order-2{order:2!important}.v-application .order-3{order:3!important}.v-application .order-4{order:4!important}.v-application .order-5{order:5!important}.v-application .order-6{order:6!important}.v-application .order-7{order:7!important}.v-application .order-8{order:8!important}.v-application .order-9{order:9!important}.v-application .order-10{order:10!important}.v-application .order-11{order:11!important}.v-application .order-12{order:12!important}.v-application .order-last{order:13!important}.v-application .ma-0{margin:0!important}.v-application .ma-1{margin:4px!important}.v-application .ma-2{margin:8px!important}.v-application .ma-3{margin:12px!important}.v-application .ma-4{margin:16px!important}.v-application .ma-5{margin:20px!important}.v-application .ma-6{margin:24px!important}.v-application .ma-7{margin:28px!important}.v-application .ma-8{margin:32px!important}.v-application .ma-9{margin:36px!important}.v-application .ma-10{margin:40px!important}.v-application .ma-11{margin:44px!important}.v-application .ma-12{margin:48px!important}.v-application .ma-13{margin:52px!important}.v-application .ma-14{margin:56px!important}.v-application .ma-15{margin:60px!important}.v-application .ma-16{margin:64px!important}.v-application .ma-auto{margin:auto!important}.v-application .mx-0{margin-right:0!important;margin-left:0!important}.v-application .mx-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-0{margin-top:0!important}.v-application .mt-1{margin-top:4px!important}.v-application .mt-2{margin-top:8px!important}.v-application .mt-3{margin-top:12px!important}.v-application .mt-4{margin-top:16px!important}.v-application .mt-5{margin-top:20px!important}.v-application .mt-6{margin-top:24px!important}.v-application .mt-7{margin-top:28px!important}.v-application .mt-8{margin-top:32px!important}.v-application .mt-9{margin-top:36px!important}.v-application .mt-10{margin-top:40px!important}.v-application .mt-11{margin-top:44px!important}.v-application .mt-12{margin-top:48px!important}.v-application .mt-13{margin-top:52px!important}.v-application .mt-14{margin-top:56px!important}.v-application .mt-15{margin-top:60px!important}.v-application .mt-16{margin-top:64px!important}.v-application .mt-auto{margin-top:auto!important}.v-application .mr-0{margin-right:0!important}.v-application .mr-1{margin-right:4px!important}.v-application .mr-2{margin-right:8px!important}.v-application .mr-3{margin-right:12px!important}.v-application .mr-4{margin-right:16px!important}.v-application .mr-5{margin-right:20px!important}.v-application .mr-6{margin-right:24px!important}.v-application .mr-7{margin-right:28px!important}.v-application .mr-8{margin-right:32px!important}.v-application .mr-9{margin-right:36px!important}.v-application .mr-10{margin-right:40px!important}.v-application .mr-11{margin-right:44px!important}.v-application .mr-12{margin-right:48px!important}.v-application .mr-13{margin-right:52px!important}.v-application .mr-14{margin-right:56px!important}.v-application .mr-15{margin-right:60px!important}.v-application .mr-16{margin-right:64px!important}.v-application .mr-auto{margin-right:auto!important}.v-application .mb-0{margin-bottom:0!important}.v-application .mb-1{margin-bottom:4px!important}.v-application .mb-2{margin-bottom:8px!important}.v-application .mb-3{margin-bottom:12px!important}.v-application .mb-4{margin-bottom:16px!important}.v-application .mb-5{margin-bottom:20px!important}.v-application .mb-6{margin-bottom:24px!important}.v-application .mb-7{margin-bottom:28px!important}.v-application .mb-8{margin-bottom:32px!important}.v-application .mb-9{margin-bottom:36px!important}.v-application .mb-10{margin-bottom:40px!important}.v-application .mb-11{margin-bottom:44px!important}.v-application .mb-12{margin-bottom:48px!important}.v-application .mb-13{margin-bottom:52px!important}.v-application .mb-14{margin-bottom:56px!important}.v-application .mb-15{margin-bottom:60px!important}.v-application .mb-16{margin-bottom:64px!important}.v-application .mb-auto{margin-bottom:auto!important}.v-application .ml-0{margin-left:0!important}.v-application .ml-1{margin-left:4px!important}.v-application .ml-2{margin-left:8px!important}.v-application .ml-3{margin-left:12px!important}.v-application .ml-4{margin-left:16px!important}.v-application .ml-5{margin-left:20px!important}.v-application .ml-6{margin-left:24px!important}.v-application .ml-7{margin-left:28px!important}.v-application .ml-8{margin-left:32px!important}.v-application .ml-9{margin-left:36px!important}.v-application .ml-10{margin-left:40px!important}.v-application .ml-11{margin-left:44px!important}.v-application .ml-12{margin-left:48px!important}.v-application .ml-13{margin-left:52px!important}.v-application .ml-14{margin-left:56px!important}.v-application .ml-15{margin-left:60px!important}.v-application .ml-16{margin-left:64px!important}.v-application .ml-auto{margin-left:auto!important}.v-application--is-ltr .ms-0{margin-left:0!important}.v-application--is-rtl .ms-0{margin-right:0!important}.v-application--is-ltr .ms-1{margin-left:4px!important}.v-application--is-rtl .ms-1{margin-right:4px!important}.v-application--is-ltr .ms-2{margin-left:8px!important}.v-application--is-rtl .ms-2{margin-right:8px!important}.v-application--is-ltr .ms-3{margin-left:12px!important}.v-application--is-rtl .ms-3{margin-right:12px!important}.v-application--is-ltr .ms-4{margin-left:16px!important}.v-application--is-rtl .ms-4{margin-right:16px!important}.v-application--is-ltr .ms-5{margin-left:20px!important}.v-application--is-rtl .ms-5{margin-right:20px!important}.v-application--is-ltr .ms-6{margin-left:24px!important}.v-application--is-rtl .ms-6{margin-right:24px!important}.v-application--is-ltr .ms-7{margin-left:28px!important}.v-application--is-rtl .ms-7{margin-right:28px!important}.v-application--is-ltr .ms-8{margin-left:32px!important}.v-application--is-rtl .ms-8{margin-right:32px!important}.v-application--is-ltr .ms-9{margin-left:36px!important}.v-application--is-rtl .ms-9{margin-right:36px!important}.v-application--is-ltr .ms-10{margin-left:40px!important}.v-application--is-rtl .ms-10{margin-right:40px!important}.v-application--is-ltr .ms-11{margin-left:44px!important}.v-application--is-rtl .ms-11{margin-right:44px!important}.v-application--is-ltr .ms-12{margin-left:48px!important}.v-application--is-rtl .ms-12{margin-right:48px!important}.v-application--is-ltr .ms-13{margin-left:52px!important}.v-application--is-rtl .ms-13{margin-right:52px!important}.v-application--is-ltr .ms-14{margin-left:56px!important}.v-application--is-rtl .ms-14{margin-right:56px!important}.v-application--is-ltr .ms-15{margin-left:60px!important}.v-application--is-rtl .ms-15{margin-right:60px!important}.v-application--is-ltr .ms-16{margin-left:64px!important}.v-application--is-rtl .ms-16{margin-right:64px!important}.v-application--is-ltr .ms-auto{margin-left:auto!important}.v-application--is-rtl .ms-auto{margin-right:auto!important}.v-application--is-ltr .me-0{margin-right:0!important}.v-application--is-rtl .me-0{margin-left:0!important}.v-application--is-ltr .me-1{margin-right:4px!important}.v-application--is-rtl .me-1{margin-left:4px!important}.v-application--is-ltr .me-2{margin-right:8px!important}.v-application--is-rtl .me-2{margin-left:8px!important}.v-application--is-ltr .me-3{margin-right:12px!important}.v-application--is-rtl .me-3{margin-left:12px!important}.v-application--is-ltr .me-4{margin-right:16px!important}.v-application--is-rtl .me-4{margin-left:16px!important}.v-application--is-ltr .me-5{margin-right:20px!important}.v-application--is-rtl .me-5{margin-left:20px!important}.v-application--is-ltr .me-6{margin-right:24px!important}.v-application--is-rtl .me-6{margin-left:24px!important}.v-application--is-ltr .me-7{margin-right:28px!important}.v-application--is-rtl .me-7{margin-left:28px!important}.v-application--is-ltr .me-8{margin-right:32px!important}.v-application--is-rtl .me-8{margin-left:32px!important}.v-application--is-ltr .me-9{margin-right:36px!important}.v-application--is-rtl .me-9{margin-left:36px!important}.v-application--is-ltr .me-10{margin-right:40px!important}.v-application--is-rtl .me-10{margin-left:40px!important}.v-application--is-ltr .me-11{margin-right:44px!important}.v-application--is-rtl .me-11{margin-left:44px!important}.v-application--is-ltr .me-12{margin-right:48px!important}.v-application--is-rtl .me-12{margin-left:48px!important}.v-application--is-ltr .me-13{margin-right:52px!important}.v-application--is-rtl .me-13{margin-left:52px!important}.v-application--is-ltr .me-14{margin-right:56px!important}.v-application--is-rtl .me-14{margin-left:56px!important}.v-application--is-ltr .me-15{margin-right:60px!important}.v-application--is-rtl .me-15{margin-left:60px!important}.v-application--is-ltr .me-16{margin-right:64px!important}.v-application--is-rtl .me-16{margin-left:64px!important}.v-application--is-ltr .me-auto{margin-right:auto!important}.v-application--is-rtl .me-auto{margin-left:auto!important}.v-application .ma-n1{margin:-4px!important}.v-application .ma-n2{margin:-8px!important}.v-application .ma-n3{margin:-12px!important}.v-application .ma-n4{margin:-16px!important}.v-application .ma-n5{margin:-20px!important}.v-application .ma-n6{margin:-24px!important}.v-application .ma-n7{margin:-28px!important}.v-application .ma-n8{margin:-32px!important}.v-application .ma-n9{margin:-36px!important}.v-application .ma-n10{margin:-40px!important}.v-application .ma-n11{margin:-44px!important}.v-application .ma-n12{margin:-48px!important}.v-application .ma-n13{margin:-52px!important}.v-application .ma-n14{margin:-56px!important}.v-application .ma-n15{margin:-60px!important}.v-application .ma-n16{margin:-64px!important}.v-application .mx-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-n1{margin-top:-4px!important}.v-application .mt-n2{margin-top:-8px!important}.v-application .mt-n3{margin-top:-12px!important}.v-application .mt-n4{margin-top:-16px!important}.v-application .mt-n5{margin-top:-20px!important}.v-application .mt-n6{margin-top:-24px!important}.v-application .mt-n7{margin-top:-28px!important}.v-application .mt-n8{margin-top:-32px!important}.v-application .mt-n9{margin-top:-36px!important}.v-application .mt-n10{margin-top:-40px!important}.v-application .mt-n11{margin-top:-44px!important}.v-application .mt-n12{margin-top:-48px!important}.v-application .mt-n13{margin-top:-52px!important}.v-application .mt-n14{margin-top:-56px!important}.v-application .mt-n15{margin-top:-60px!important}.v-application .mt-n16{margin-top:-64px!important}.v-application .mr-n1{margin-right:-4px!important}.v-application .mr-n2{margin-right:-8px!important}.v-application .mr-n3{margin-right:-12px!important}.v-application .mr-n4{margin-right:-16px!important}.v-application .mr-n5{margin-right:-20px!important}.v-application .mr-n6{margin-right:-24px!important}.v-application .mr-n7{margin-right:-28px!important}.v-application .mr-n8{margin-right:-32px!important}.v-application .mr-n9{margin-right:-36px!important}.v-application .mr-n10{margin-right:-40px!important}.v-application .mr-n11{margin-right:-44px!important}.v-application .mr-n12{margin-right:-48px!important}.v-application .mr-n13{margin-right:-52px!important}.v-application .mr-n14{margin-right:-56px!important}.v-application .mr-n15{margin-right:-60px!important}.v-application .mr-n16{margin-right:-64px!important}.v-application .mb-n1{margin-bottom:-4px!important}.v-application .mb-n2{margin-bottom:-8px!important}.v-application .mb-n3{margin-bottom:-12px!important}.v-application .mb-n4{margin-bottom:-16px!important}.v-application .mb-n5{margin-bottom:-20px!important}.v-application .mb-n6{margin-bottom:-24px!important}.v-application .mb-n7{margin-bottom:-28px!important}.v-application .mb-n8{margin-bottom:-32px!important}.v-application .mb-n9{margin-bottom:-36px!important}.v-application .mb-n10{margin-bottom:-40px!important}.v-application .mb-n11{margin-bottom:-44px!important}.v-application .mb-n12{margin-bottom:-48px!important}.v-application .mb-n13{margin-bottom:-52px!important}.v-application .mb-n14{margin-bottom:-56px!important}.v-application .mb-n15{margin-bottom:-60px!important}.v-application .mb-n16{margin-bottom:-64px!important}.v-application .ml-n1{margin-left:-4px!important}.v-application .ml-n2{margin-left:-8px!important}.v-application .ml-n3{margin-left:-12px!important}.v-application .ml-n4{margin-left:-16px!important}.v-application .ml-n5{margin-left:-20px!important}.v-application .ml-n6{margin-left:-24px!important}.v-application .ml-n7{margin-left:-28px!important}.v-application .ml-n8{margin-left:-32px!important}.v-application .ml-n9{margin-left:-36px!important}.v-application .ml-n10{margin-left:-40px!important}.v-application .ml-n11{margin-left:-44px!important}.v-application .ml-n12{margin-left:-48px!important}.v-application .ml-n13{margin-left:-52px!important}.v-application .ml-n14{margin-left:-56px!important}.v-application .ml-n15{margin-left:-60px!important}.v-application .ml-n16{margin-left:-64px!important}.v-application--is-ltr .ms-n1{margin-left:-4px!important}.v-application--is-rtl .ms-n1{margin-right:-4px!important}.v-application--is-ltr .ms-n2{margin-left:-8px!important}.v-application--is-rtl .ms-n2{margin-right:-8px!important}.v-application--is-ltr .ms-n3{margin-left:-12px!important}.v-application--is-rtl .ms-n3{margin-right:-12px!important}.v-application--is-ltr .ms-n4{margin-left:-16px!important}.v-application--is-rtl .ms-n4{margin-right:-16px!important}.v-application--is-ltr .ms-n5{margin-left:-20px!important}.v-application--is-rtl .ms-n5{margin-right:-20px!important}.v-application--is-ltr .ms-n6{margin-left:-24px!important}.v-application--is-rtl .ms-n6{margin-right:-24px!important}.v-application--is-ltr .ms-n7{margin-left:-28px!important}.v-application--is-rtl .ms-n7{margin-right:-28px!important}.v-application--is-ltr .ms-n8{margin-left:-32px!important}.v-application--is-rtl .ms-n8{margin-right:-32px!important}.v-application--is-ltr .ms-n9{margin-left:-36px!important}.v-application--is-rtl .ms-n9{margin-right:-36px!important}.v-application--is-ltr .ms-n10{margin-left:-40px!important}.v-application--is-rtl .ms-n10{margin-right:-40px!important}.v-application--is-ltr .ms-n11{margin-left:-44px!important}.v-application--is-rtl .ms-n11{margin-right:-44px!important}.v-application--is-ltr .ms-n12{margin-left:-48px!important}.v-application--is-rtl .ms-n12{margin-right:-48px!important}.v-application--is-ltr .ms-n13{margin-left:-52px!important}.v-application--is-rtl .ms-n13{margin-right:-52px!important}.v-application--is-ltr .ms-n14{margin-left:-56px!important}.v-application--is-rtl .ms-n14{margin-right:-56px!important}.v-application--is-ltr .ms-n15{margin-left:-60px!important}.v-application--is-rtl .ms-n15{margin-right:-60px!important}.v-application--is-ltr .ms-n16{margin-left:-64px!important}.v-application--is-rtl .ms-n16{margin-right:-64px!important}.v-application--is-ltr .me-n1{margin-right:-4px!important}.v-application--is-rtl .me-n1{margin-left:-4px!important}.v-application--is-ltr .me-n2{margin-right:-8px!important}.v-application--is-rtl .me-n2{margin-left:-8px!important}.v-application--is-ltr .me-n3{margin-right:-12px!important}.v-application--is-rtl .me-n3{margin-left:-12px!important}.v-application--is-ltr .me-n4{margin-right:-16px!important}.v-application--is-rtl .me-n4{margin-left:-16px!important}.v-application--is-ltr .me-n5{margin-right:-20px!important}.v-application--is-rtl .me-n5{margin-left:-20px!important}.v-application--is-ltr .me-n6{margin-right:-24px!important}.v-application--is-rtl .me-n6{margin-left:-24px!important}.v-application--is-ltr .me-n7{margin-right:-28px!important}.v-application--is-rtl .me-n7{margin-left:-28px!important}.v-application--is-ltr .me-n8{margin-right:-32px!important}.v-application--is-rtl .me-n8{margin-left:-32px!important}.v-application--is-ltr .me-n9{margin-right:-36px!important}.v-application--is-rtl .me-n9{margin-left:-36px!important}.v-application--is-ltr .me-n10{margin-right:-40px!important}.v-application--is-rtl .me-n10{margin-left:-40px!important}.v-application--is-ltr .me-n11{margin-right:-44px!important}.v-application--is-rtl .me-n11{margin-left:-44px!important}.v-application--is-ltr .me-n12{margin-right:-48px!important}.v-application--is-rtl .me-n12{margin-left:-48px!important}.v-application--is-ltr .me-n13{margin-right:-52px!important}.v-application--is-rtl .me-n13{margin-left:-52px!important}.v-application--is-ltr .me-n14{margin-right:-56px!important}.v-application--is-rtl .me-n14{margin-left:-56px!important}.v-application--is-ltr .me-n15{margin-right:-60px!important}.v-application--is-rtl .me-n15{margin-left:-60px!important}.v-application--is-ltr .me-n16{margin-right:-64px!important}.v-application--is-rtl .me-n16{margin-left:-64px!important}.v-application .pa-0{padding:0!important}.v-application .pa-1{padding:4px!important}.v-application .pa-2{padding:8px!important}.v-application .pa-3{padding:12px!important}.v-application .pa-4{padding:16px!important}.v-application .pa-5{padding:20px!important}.v-application .pa-6{padding:24px!important}.v-application .pa-7{padding:28px!important}.v-application .pa-8{padding:32px!important}.v-application .pa-9{padding:36px!important}.v-application .pa-10{padding:40px!important}.v-application .pa-11{padding:44px!important}.v-application .pa-12{padding:48px!important}.v-application .pa-13{padding:52px!important}.v-application .pa-14{padding:56px!important}.v-application .pa-15{padding:60px!important}.v-application .pa-16{padding:64px!important}.v-application .px-0{padding-right:0!important;padding-left:0!important}.v-application .px-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-0{padding-top:0!important}.v-application .pt-1{padding-top:4px!important}.v-application .pt-2{padding-top:8px!important}.v-application .pt-3{padding-top:12px!important}.v-application .pt-4{padding-top:16px!important}.v-application .pt-5{padding-top:20px!important}.v-application .pt-6{padding-top:24px!important}.v-application .pt-7{padding-top:28px!important}.v-application .pt-8{padding-top:32px!important}.v-application .pt-9{padding-top:36px!important}.v-application .pt-10{padding-top:40px!important}.v-application .pt-11{padding-top:44px!important}.v-application .pt-12{padding-top:48px!important}.v-application .pt-13{padding-top:52px!important}.v-application .pt-14{padding-top:56px!important}.v-application .pt-15{padding-top:60px!important}.v-application .pt-16{padding-top:64px!important}.v-application .pr-0{padding-right:0!important}.v-application .pr-1{padding-right:4px!important}.v-application .pr-2{padding-right:8px!important}.v-application .pr-3{padding-right:12px!important}.v-application .pr-4{padding-right:16px!important}.v-application .pr-5{padding-right:20px!important}.v-application .pr-6{padding-right:24px!important}.v-application .pr-7{padding-right:28px!important}.v-application .pr-8{padding-right:32px!important}.v-application .pr-9{padding-right:36px!important}.v-application .pr-10{padding-right:40px!important}.v-application .pr-11{padding-right:44px!important}.v-application .pr-12{padding-right:48px!important}.v-application .pr-13{padding-right:52px!important}.v-application .pr-14{padding-right:56px!important}.v-application .pr-15{padding-right:60px!important}.v-application .pr-16{padding-right:64px!important}.v-application .pb-0{padding-bottom:0!important}.v-application .pb-1{padding-bottom:4px!important}.v-application .pb-2{padding-bottom:8px!important}.v-application .pb-3{padding-bottom:12px!important}.v-application .pb-4{padding-bottom:16px!important}.v-application .pb-5{padding-bottom:20px!important}.v-application .pb-6{padding-bottom:24px!important}.v-application .pb-7{padding-bottom:28px!important}.v-application .pb-8{padding-bottom:32px!important}.v-application .pb-9{padding-bottom:36px!important}.v-application .pb-10{padding-bottom:40px!important}.v-application .pb-11{padding-bottom:44px!important}.v-application .pb-12{padding-bottom:48px!important}.v-application .pb-13{padding-bottom:52px!important}.v-application .pb-14{padding-bottom:56px!important}.v-application .pb-15{padding-bottom:60px!important}.v-application .pb-16{padding-bottom:64px!important}.v-application .pl-0{padding-left:0!important}.v-application .pl-1{padding-left:4px!important}.v-application .pl-2{padding-left:8px!important}.v-application .pl-3{padding-left:12px!important}.v-application .pl-4{padding-left:16px!important}.v-application .pl-5{padding-left:20px!important}.v-application .pl-6{padding-left:24px!important}.v-application .pl-7{padding-left:28px!important}.v-application .pl-8{padding-left:32px!important}.v-application .pl-9{padding-left:36px!important}.v-application .pl-10{padding-left:40px!important}.v-application .pl-11{padding-left:44px!important}.v-application .pl-12{padding-left:48px!important}.v-application .pl-13{padding-left:52px!important}.v-application .pl-14{padding-left:56px!important}.v-application .pl-15{padding-left:60px!important}.v-application .pl-16{padding-left:64px!important}.v-application--is-ltr .ps-0{padding-left:0!important}.v-application--is-rtl .ps-0{padding-right:0!important}.v-application--is-ltr .ps-1{padding-left:4px!important}.v-application--is-rtl .ps-1{padding-right:4px!important}.v-application--is-ltr .ps-2{padding-left:8px!important}.v-application--is-rtl .ps-2{padding-right:8px!important}.v-application--is-ltr .ps-3{padding-left:12px!important}.v-application--is-rtl .ps-3{padding-right:12px!important}.v-application--is-ltr .ps-4{padding-left:16px!important}.v-application--is-rtl .ps-4{padding-right:16px!important}.v-application--is-ltr .ps-5{padding-left:20px!important}.v-application--is-rtl .ps-5{padding-right:20px!important}.v-application--is-ltr .ps-6{padding-left:24px!important}.v-application--is-rtl .ps-6{padding-right:24px!important}.v-application--is-ltr .ps-7{padding-left:28px!important}.v-application--is-rtl .ps-7{padding-right:28px!important}.v-application--is-ltr .ps-8{padding-left:32px!important}.v-application--is-rtl .ps-8{padding-right:32px!important}.v-application--is-ltr .ps-9{padding-left:36px!important}.v-application--is-rtl .ps-9{padding-right:36px!important}.v-application--is-ltr .ps-10{padding-left:40px!important}.v-application--is-rtl .ps-10{padding-right:40px!important}.v-application--is-ltr .ps-11{padding-left:44px!important}.v-application--is-rtl .ps-11{padding-right:44px!important}.v-application--is-ltr .ps-12{padding-left:48px!important}.v-application--is-rtl .ps-12{padding-right:48px!important}.v-application--is-ltr .ps-13{padding-left:52px!important}.v-application--is-rtl .ps-13{padding-right:52px!important}.v-application--is-ltr .ps-14{padding-left:56px!important}.v-application--is-rtl .ps-14{padding-right:56px!important}.v-application--is-ltr .ps-15{padding-left:60px!important}.v-application--is-rtl .ps-15{padding-right:60px!important}.v-application--is-ltr .ps-16{padding-left:64px!important}.v-application--is-rtl .ps-16{padding-right:64px!important}.v-application--is-ltr .pe-0{padding-right:0!important}.v-application--is-rtl .pe-0{padding-left:0!important}.v-application--is-ltr .pe-1{padding-right:4px!important}.v-application--is-rtl .pe-1{padding-left:4px!important}.v-application--is-ltr .pe-2{padding-right:8px!important}.v-application--is-rtl .pe-2{padding-left:8px!important}.v-application--is-ltr .pe-3{padding-right:12px!important}.v-application--is-rtl .pe-3{padding-left:12px!important}.v-application--is-ltr .pe-4{padding-right:16px!important}.v-application--is-rtl .pe-4{padding-left:16px!important}.v-application--is-ltr .pe-5{padding-right:20px!important}.v-application--is-rtl .pe-5{padding-left:20px!important}.v-application--is-ltr .pe-6{padding-right:24px!important}.v-application--is-rtl .pe-6{padding-left:24px!important}.v-application--is-ltr .pe-7{padding-right:28px!important}.v-application--is-rtl .pe-7{padding-left:28px!important}.v-application--is-ltr .pe-8{padding-right:32px!important}.v-application--is-rtl .pe-8{padding-left:32px!important}.v-application--is-ltr .pe-9{padding-right:36px!important}.v-application--is-rtl .pe-9{padding-left:36px!important}.v-application--is-ltr .pe-10{padding-right:40px!important}.v-application--is-rtl .pe-10{padding-left:40px!important}.v-application--is-ltr .pe-11{padding-right:44px!important}.v-application--is-rtl .pe-11{padding-left:44px!important}.v-application--is-ltr .pe-12{padding-right:48px!important}.v-application--is-rtl .pe-12{padding-left:48px!important}.v-application--is-ltr .pe-13{padding-right:52px!important}.v-application--is-rtl .pe-13{padding-left:52px!important}.v-application--is-ltr .pe-14{padding-right:56px!important}.v-application--is-rtl .pe-14{padding-left:56px!important}.v-application--is-ltr .pe-15{padding-right:60px!important}.v-application--is-rtl .pe-15{padding-left:60px!important}.v-application--is-ltr .pe-16{padding-right:64px!important}.v-application--is-rtl .pe-16{padding-left:64px!important}.v-application .rounded-0{border-radius:0!important}.v-application .rounded-sm{border-radius:2px!important}.v-application .rounded{border-radius:4px!important}.v-application .rounded-lg{border-radius:8px!important}.v-application .rounded-xl{border-radius:24px!important}.v-application .rounded-pill{border-radius:9999px!important}.v-application .rounded-circle{border-radius:50%!important}.v-application .rounded-t-0{border-top-left-radius:0!important;border-top-right-radius:0!important}.v-application .rounded-t-sm{border-top-left-radius:2px!important;border-top-right-radius:2px!important}.v-application .rounded-t{border-top-left-radius:4px!important;border-top-right-radius:4px!important}.v-application .rounded-t-lg{border-top-left-radius:8px!important;border-top-right-radius:8px!important}.v-application .rounded-t-xl{border-top-left-radius:24px!important;border-top-right-radius:24px!important}.v-application .rounded-t-pill{border-top-left-radius:9999px!important;border-top-right-radius:9999px!important}.v-application .rounded-t-circle{border-top-left-radius:50%!important;border-top-right-radius:50%!important}.v-application .rounded-r-0{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.v-application .rounded-r-sm{border-top-right-radius:2px!important;border-bottom-right-radius:2px!important}.v-application .rounded-r{border-top-right-radius:4px!important;border-bottom-right-radius:4px!important}.v-application .rounded-r-lg{border-top-right-radius:8px!important;border-bottom-right-radius:8px!important}.v-application .rounded-r-xl{border-top-right-radius:24px!important;border-bottom-right-radius:24px!important}.v-application .rounded-r-pill{border-top-right-radius:9999px!important;border-bottom-right-radius:9999px!important}.v-application .rounded-r-circle{border-top-right-radius:50%!important;border-bottom-right-radius:50%!important}.v-application .rounded-b-0{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important}.v-application .rounded-b-sm{border-bottom-left-radius:2px!important;border-bottom-right-radius:2px!important}.v-application .rounded-b{border-bottom-left-radius:4px!important;border-bottom-right-radius:4px!important}.v-application .rounded-b-lg{border-bottom-left-radius:8px!important;border-bottom-right-radius:8px!important}.v-application .rounded-b-xl{border-bottom-left-radius:24px!important;border-bottom-right-radius:24px!important}.v-application .rounded-b-pill{border-bottom-left-radius:9999px!important;border-bottom-right-radius:9999px!important}.v-application .rounded-b-circle{border-bottom-left-radius:50%!important;border-bottom-right-radius:50%!important}.v-application .rounded-l-0{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.v-application .rounded-l-sm{border-top-left-radius:2px!important;border-bottom-left-radius:2px!important}.v-application .rounded-l{border-top-left-radius:4px!important;border-bottom-left-radius:4px!important}.v-application .rounded-l-lg{border-top-left-radius:8px!important;border-bottom-left-radius:8px!important}.v-application .rounded-l-xl{border-top-left-radius:24px!important;border-bottom-left-radius:24px!important}.v-application .rounded-l-pill{border-top-left-radius:9999px!important;border-bottom-left-radius:9999px!important}.v-application .rounded-l-circle{border-top-left-radius:50%!important;border-bottom-left-radius:50%!important}.v-application .rounded-tl-0{border-top-left-radius:0!important}.v-application .rounded-tl-sm{border-top-left-radius:2px!important}.v-application .rounded-tl{border-top-left-radius:4px!important}.v-application .rounded-tl-lg{border-top-left-radius:8px!important}.v-application .rounded-tl-xl{border-top-left-radius:24px!important}.v-application .rounded-tl-pill{border-top-left-radius:9999px!important}.v-application .rounded-tl-circle{border-top-left-radius:50%!important}.v-application .rounded-tr-0{border-top-right-radius:0!important}.v-application .rounded-tr-sm{border-top-right-radius:2px!important}.v-application .rounded-tr{border-top-right-radius:4px!important}.v-application .rounded-tr-lg{border-top-right-radius:8px!important}.v-application .rounded-tr-xl{border-top-right-radius:24px!important}.v-application .rounded-tr-pill{border-top-right-radius:9999px!important}.v-application .rounded-tr-circle{border-top-right-radius:50%!important}.v-application .rounded-br-0{border-bottom-right-radius:0!important}.v-application .rounded-br-sm{border-bottom-right-radius:2px!important}.v-application .rounded-br{border-bottom-right-radius:4px!important}.v-application .rounded-br-lg{border-bottom-right-radius:8px!important}.v-application .rounded-br-xl{border-bottom-right-radius:24px!important}.v-application .rounded-br-pill{border-bottom-right-radius:9999px!important}.v-application .rounded-br-circle{border-bottom-right-radius:50%!important}.v-application .rounded-bl-0{border-bottom-left-radius:0!important}.v-application .rounded-bl-sm{border-bottom-left-radius:2px!important}.v-application .rounded-bl{border-bottom-left-radius:4px!important}.v-application .rounded-bl-lg{border-bottom-left-radius:8px!important}.v-application .rounded-bl-xl{border-bottom-left-radius:24px!important}.v-application .rounded-bl-pill{border-bottom-left-radius:9999px!important}.v-application .rounded-bl-circle{border-bottom-left-radius:50%!important}.v-application .text-left{text-align:left!important}.v-application .text-right{text-align:right!important}.v-application .text-center{text-align:center!important}.v-application .text-justify{text-align:justify!important}[dir=ltr] .v-application .text-start{text-align:left!important}[dir=ltr] .v-application .text-end,[dir=rtl] .v-application .text-start{text-align:right!important}[dir=rtl] .v-application .text-end{text-align:left!important}.v-application .text-decoration-line-through{text-decoration:line-through!important}.v-application .text-decoration-none{text-decoration:none!important}.v-application .text-decoration-overline{text-decoration:overline!important}.v-application .text-decoration-underline{text-decoration:underline!important}.v-application .text-wrap{white-space:normal!important}.v-application .text-no-wrap{white-space:nowrap!important}.v-application .text-pre{white-space:pre!important}.v-application .text-pre-line{white-space:pre-line!important}.v-application .text-pre-wrap{white-space:pre-wrap!important}.v-application .text-break{word-wrap:break-word!important;word-break:break-word!important}.v-application .text-truncate{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.v-application .text-none{text-transform:none!important}.v-application .text-capitalize{text-transform:capitalize!important}.v-application .text-lowercase{text-transform:lowercase!important}.v-application .text-uppercase{text-transform:uppercase!important}.v-application .text-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-h1,.v-application .text-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-h3,.v-application .text-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-h5,.v-application .text-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-body-1{font-size:1rem!important;line-height:1.5rem;letter-spacing:.03125em!important}.v-application .text-body-1,.v-application .text-body-2{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-body-2{font-size:.875rem!important;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-button{font-size:.875rem!important;font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;font-family:"Roboto",sans-serif!important;text-transform:uppercase!important}.v-application .text-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-caption,.v-application .text-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}@media(min-width:600px){.v-application .d-sm-none{display:none!important}.v-application .d-sm-inline{display:inline!important}.v-application .d-sm-inline-block{display:inline-block!important}.v-application .d-sm-block{display:block!important}.v-application .d-sm-table{display:table!important}.v-application .d-sm-table-row{display:table-row!important}.v-application .d-sm-table-cell{display:table-cell!important}.v-application .d-sm-flex{display:flex!important}.v-application .d-sm-inline-flex{display:inline-flex!important}.v-application .float-sm-none{float:none!important}.v-application .float-sm-left{float:left!important}.v-application .float-sm-right{float:right!important}.v-application .flex-sm-fill{flex:1 1 auto!important}.v-application .flex-sm-row{flex-direction:row!important}.v-application .flex-sm-column{flex-direction:column!important}.v-application .flex-sm-row-reverse{flex-direction:row-reverse!important}.v-application .flex-sm-column-reverse{flex-direction:column-reverse!important}.v-application .flex-sm-grow-0{flex-grow:0!important}.v-application .flex-sm-grow-1{flex-grow:1!important}.v-application .flex-sm-shrink-0{flex-shrink:0!important}.v-application .flex-sm-shrink-1{flex-shrink:1!important}.v-application .flex-sm-wrap{flex-wrap:wrap!important}.v-application .flex-sm-nowrap{flex-wrap:nowrap!important}.v-application .flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-sm-start{justify-content:flex-start!important}.v-application .justify-sm-end{justify-content:flex-end!important}.v-application .justify-sm-center{justify-content:center!important}.v-application .justify-sm-space-between{justify-content:space-between!important}.v-application .justify-sm-space-around{justify-content:space-around!important}.v-application .align-sm-start{align-items:flex-start!important}.v-application .align-sm-end{align-items:flex-end!important}.v-application .align-sm-center{align-items:center!important}.v-application .align-sm-baseline{align-items:baseline!important}.v-application .align-sm-stretch{align-items:stretch!important}.v-application .align-content-sm-start{align-content:flex-start!important}.v-application .align-content-sm-end{align-content:flex-end!important}.v-application .align-content-sm-center{align-content:center!important}.v-application .align-content-sm-space-between{align-content:space-between!important}.v-application .align-content-sm-space-around{align-content:space-around!important}.v-application .align-content-sm-stretch{align-content:stretch!important}.v-application .align-self-sm-auto{align-self:auto!important}.v-application .align-self-sm-start{align-self:flex-start!important}.v-application .align-self-sm-end{align-self:flex-end!important}.v-application .align-self-sm-center{align-self:center!important}.v-application .align-self-sm-baseline{align-self:baseline!important}.v-application .align-self-sm-stretch{align-self:stretch!important}.v-application .order-sm-first{order:-1!important}.v-application .order-sm-0{order:0!important}.v-application .order-sm-1{order:1!important}.v-application .order-sm-2{order:2!important}.v-application .order-sm-3{order:3!important}.v-application .order-sm-4{order:4!important}.v-application .order-sm-5{order:5!important}.v-application .order-sm-6{order:6!important}.v-application .order-sm-7{order:7!important}.v-application .order-sm-8{order:8!important}.v-application .order-sm-9{order:9!important}.v-application .order-sm-10{order:10!important}.v-application .order-sm-11{order:11!important}.v-application .order-sm-12{order:12!important}.v-application .order-sm-last{order:13!important}.v-application .ma-sm-0{margin:0!important}.v-application .ma-sm-1{margin:4px!important}.v-application .ma-sm-2{margin:8px!important}.v-application .ma-sm-3{margin:12px!important}.v-application .ma-sm-4{margin:16px!important}.v-application .ma-sm-5{margin:20px!important}.v-application .ma-sm-6{margin:24px!important}.v-application .ma-sm-7{margin:28px!important}.v-application .ma-sm-8{margin:32px!important}.v-application .ma-sm-9{margin:36px!important}.v-application .ma-sm-10{margin:40px!important}.v-application .ma-sm-11{margin:44px!important}.v-application .ma-sm-12{margin:48px!important}.v-application .ma-sm-13{margin:52px!important}.v-application .ma-sm-14{margin:56px!important}.v-application .ma-sm-15{margin:60px!important}.v-application .ma-sm-16{margin:64px!important}.v-application .ma-sm-auto{margin:auto!important}.v-application .mx-sm-0{margin-right:0!important;margin-left:0!important}.v-application .mx-sm-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-sm-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-sm-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-sm-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-sm-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-sm-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-sm-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-sm-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-sm-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-sm-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-sm-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-sm-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-sm-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-sm-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-sm-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-sm-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-sm-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-sm-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-sm-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-sm-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-sm-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-sm-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-sm-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-sm-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-sm-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-sm-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-sm-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-sm-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-sm-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-sm-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-sm-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-sm-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-sm-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-sm-0{margin-top:0!important}.v-application .mt-sm-1{margin-top:4px!important}.v-application .mt-sm-2{margin-top:8px!important}.v-application .mt-sm-3{margin-top:12px!important}.v-application .mt-sm-4{margin-top:16px!important}.v-application .mt-sm-5{margin-top:20px!important}.v-application .mt-sm-6{margin-top:24px!important}.v-application .mt-sm-7{margin-top:28px!important}.v-application .mt-sm-8{margin-top:32px!important}.v-application .mt-sm-9{margin-top:36px!important}.v-application .mt-sm-10{margin-top:40px!important}.v-application .mt-sm-11{margin-top:44px!important}.v-application .mt-sm-12{margin-top:48px!important}.v-application .mt-sm-13{margin-top:52px!important}.v-application .mt-sm-14{margin-top:56px!important}.v-application .mt-sm-15{margin-top:60px!important}.v-application .mt-sm-16{margin-top:64px!important}.v-application .mt-sm-auto{margin-top:auto!important}.v-application .mr-sm-0{margin-right:0!important}.v-application .mr-sm-1{margin-right:4px!important}.v-application .mr-sm-2{margin-right:8px!important}.v-application .mr-sm-3{margin-right:12px!important}.v-application .mr-sm-4{margin-right:16px!important}.v-application .mr-sm-5{margin-right:20px!important}.v-application .mr-sm-6{margin-right:24px!important}.v-application .mr-sm-7{margin-right:28px!important}.v-application .mr-sm-8{margin-right:32px!important}.v-application .mr-sm-9{margin-right:36px!important}.v-application .mr-sm-10{margin-right:40px!important}.v-application .mr-sm-11{margin-right:44px!important}.v-application .mr-sm-12{margin-right:48px!important}.v-application .mr-sm-13{margin-right:52px!important}.v-application .mr-sm-14{margin-right:56px!important}.v-application .mr-sm-15{margin-right:60px!important}.v-application .mr-sm-16{margin-right:64px!important}.v-application .mr-sm-auto{margin-right:auto!important}.v-application .mb-sm-0{margin-bottom:0!important}.v-application .mb-sm-1{margin-bottom:4px!important}.v-application .mb-sm-2{margin-bottom:8px!important}.v-application .mb-sm-3{margin-bottom:12px!important}.v-application .mb-sm-4{margin-bottom:16px!important}.v-application .mb-sm-5{margin-bottom:20px!important}.v-application .mb-sm-6{margin-bottom:24px!important}.v-application .mb-sm-7{margin-bottom:28px!important}.v-application .mb-sm-8{margin-bottom:32px!important}.v-application .mb-sm-9{margin-bottom:36px!important}.v-application .mb-sm-10{margin-bottom:40px!important}.v-application .mb-sm-11{margin-bottom:44px!important}.v-application .mb-sm-12{margin-bottom:48px!important}.v-application .mb-sm-13{margin-bottom:52px!important}.v-application .mb-sm-14{margin-bottom:56px!important}.v-application .mb-sm-15{margin-bottom:60px!important}.v-application .mb-sm-16{margin-bottom:64px!important}.v-application .mb-sm-auto{margin-bottom:auto!important}.v-application .ml-sm-0{margin-left:0!important}.v-application .ml-sm-1{margin-left:4px!important}.v-application .ml-sm-2{margin-left:8px!important}.v-application .ml-sm-3{margin-left:12px!important}.v-application .ml-sm-4{margin-left:16px!important}.v-application .ml-sm-5{margin-left:20px!important}.v-application .ml-sm-6{margin-left:24px!important}.v-application .ml-sm-7{margin-left:28px!important}.v-application .ml-sm-8{margin-left:32px!important}.v-application .ml-sm-9{margin-left:36px!important}.v-application .ml-sm-10{margin-left:40px!important}.v-application .ml-sm-11{margin-left:44px!important}.v-application .ml-sm-12{margin-left:48px!important}.v-application .ml-sm-13{margin-left:52px!important}.v-application .ml-sm-14{margin-left:56px!important}.v-application .ml-sm-15{margin-left:60px!important}.v-application .ml-sm-16{margin-left:64px!important}.v-application .ml-sm-auto{margin-left:auto!important}.v-application--is-ltr .ms-sm-0{margin-left:0!important}.v-application--is-rtl .ms-sm-0{margin-right:0!important}.v-application--is-ltr .ms-sm-1{margin-left:4px!important}.v-application--is-rtl .ms-sm-1{margin-right:4px!important}.v-application--is-ltr .ms-sm-2{margin-left:8px!important}.v-application--is-rtl .ms-sm-2{margin-right:8px!important}.v-application--is-ltr .ms-sm-3{margin-left:12px!important}.v-application--is-rtl .ms-sm-3{margin-right:12px!important}.v-application--is-ltr .ms-sm-4{margin-left:16px!important}.v-application--is-rtl .ms-sm-4{margin-right:16px!important}.v-application--is-ltr .ms-sm-5{margin-left:20px!important}.v-application--is-rtl .ms-sm-5{margin-right:20px!important}.v-application--is-ltr .ms-sm-6{margin-left:24px!important}.v-application--is-rtl .ms-sm-6{margin-right:24px!important}.v-application--is-ltr .ms-sm-7{margin-left:28px!important}.v-application--is-rtl .ms-sm-7{margin-right:28px!important}.v-application--is-ltr .ms-sm-8{margin-left:32px!important}.v-application--is-rtl .ms-sm-8{margin-right:32px!important}.v-application--is-ltr .ms-sm-9{margin-left:36px!important}.v-application--is-rtl .ms-sm-9{margin-right:36px!important}.v-application--is-ltr .ms-sm-10{margin-left:40px!important}.v-application--is-rtl .ms-sm-10{margin-right:40px!important}.v-application--is-ltr .ms-sm-11{margin-left:44px!important}.v-application--is-rtl .ms-sm-11{margin-right:44px!important}.v-application--is-ltr .ms-sm-12{margin-left:48px!important}.v-application--is-rtl .ms-sm-12{margin-right:48px!important}.v-application--is-ltr .ms-sm-13{margin-left:52px!important}.v-application--is-rtl .ms-sm-13{margin-right:52px!important}.v-application--is-ltr .ms-sm-14{margin-left:56px!important}.v-application--is-rtl .ms-sm-14{margin-right:56px!important}.v-application--is-ltr .ms-sm-15{margin-left:60px!important}.v-application--is-rtl .ms-sm-15{margin-right:60px!important}.v-application--is-ltr .ms-sm-16{margin-left:64px!important}.v-application--is-rtl .ms-sm-16{margin-right:64px!important}.v-application--is-ltr .ms-sm-auto{margin-left:auto!important}.v-application--is-rtl .ms-sm-auto{margin-right:auto!important}.v-application--is-ltr .me-sm-0{margin-right:0!important}.v-application--is-rtl .me-sm-0{margin-left:0!important}.v-application--is-ltr .me-sm-1{margin-right:4px!important}.v-application--is-rtl .me-sm-1{margin-left:4px!important}.v-application--is-ltr .me-sm-2{margin-right:8px!important}.v-application--is-rtl .me-sm-2{margin-left:8px!important}.v-application--is-ltr .me-sm-3{margin-right:12px!important}.v-application--is-rtl .me-sm-3{margin-left:12px!important}.v-application--is-ltr .me-sm-4{margin-right:16px!important}.v-application--is-rtl .me-sm-4{margin-left:16px!important}.v-application--is-ltr .me-sm-5{margin-right:20px!important}.v-application--is-rtl .me-sm-5{margin-left:20px!important}.v-application--is-ltr .me-sm-6{margin-right:24px!important}.v-application--is-rtl .me-sm-6{margin-left:24px!important}.v-application--is-ltr .me-sm-7{margin-right:28px!important}.v-application--is-rtl .me-sm-7{margin-left:28px!important}.v-application--is-ltr .me-sm-8{margin-right:32px!important}.v-application--is-rtl .me-sm-8{margin-left:32px!important}.v-application--is-ltr .me-sm-9{margin-right:36px!important}.v-application--is-rtl .me-sm-9{margin-left:36px!important}.v-application--is-ltr .me-sm-10{margin-right:40px!important}.v-application--is-rtl .me-sm-10{margin-left:40px!important}.v-application--is-ltr .me-sm-11{margin-right:44px!important}.v-application--is-rtl .me-sm-11{margin-left:44px!important}.v-application--is-ltr .me-sm-12{margin-right:48px!important}.v-application--is-rtl .me-sm-12{margin-left:48px!important}.v-application--is-ltr .me-sm-13{margin-right:52px!important}.v-application--is-rtl .me-sm-13{margin-left:52px!important}.v-application--is-ltr .me-sm-14{margin-right:56px!important}.v-application--is-rtl .me-sm-14{margin-left:56px!important}.v-application--is-ltr .me-sm-15{margin-right:60px!important}.v-application--is-rtl .me-sm-15{margin-left:60px!important}.v-application--is-ltr .me-sm-16{margin-right:64px!important}.v-application--is-rtl .me-sm-16{margin-left:64px!important}.v-application--is-ltr .me-sm-auto{margin-right:auto!important}.v-application--is-rtl .me-sm-auto{margin-left:auto!important}.v-application .ma-sm-n1{margin:-4px!important}.v-application .ma-sm-n2{margin:-8px!important}.v-application .ma-sm-n3{margin:-12px!important}.v-application .ma-sm-n4{margin:-16px!important}.v-application .ma-sm-n5{margin:-20px!important}.v-application .ma-sm-n6{margin:-24px!important}.v-application .ma-sm-n7{margin:-28px!important}.v-application .ma-sm-n8{margin:-32px!important}.v-application .ma-sm-n9{margin:-36px!important}.v-application .ma-sm-n10{margin:-40px!important}.v-application .ma-sm-n11{margin:-44px!important}.v-application .ma-sm-n12{margin:-48px!important}.v-application .ma-sm-n13{margin:-52px!important}.v-application .ma-sm-n14{margin:-56px!important}.v-application .ma-sm-n15{margin:-60px!important}.v-application .ma-sm-n16{margin:-64px!important}.v-application .mx-sm-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-sm-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-sm-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-sm-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-sm-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-sm-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-sm-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-sm-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-sm-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-sm-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-sm-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-sm-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-sm-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-sm-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-sm-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-sm-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-sm-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-sm-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-sm-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-sm-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-sm-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-sm-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-sm-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-sm-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-sm-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-sm-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-sm-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-sm-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-sm-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-sm-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-sm-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-sm-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-sm-n1{margin-top:-4px!important}.v-application .mt-sm-n2{margin-top:-8px!important}.v-application .mt-sm-n3{margin-top:-12px!important}.v-application .mt-sm-n4{margin-top:-16px!important}.v-application .mt-sm-n5{margin-top:-20px!important}.v-application .mt-sm-n6{margin-top:-24px!important}.v-application .mt-sm-n7{margin-top:-28px!important}.v-application .mt-sm-n8{margin-top:-32px!important}.v-application .mt-sm-n9{margin-top:-36px!important}.v-application .mt-sm-n10{margin-top:-40px!important}.v-application .mt-sm-n11{margin-top:-44px!important}.v-application .mt-sm-n12{margin-top:-48px!important}.v-application .mt-sm-n13{margin-top:-52px!important}.v-application .mt-sm-n14{margin-top:-56px!important}.v-application .mt-sm-n15{margin-top:-60px!important}.v-application .mt-sm-n16{margin-top:-64px!important}.v-application .mr-sm-n1{margin-right:-4px!important}.v-application .mr-sm-n2{margin-right:-8px!important}.v-application .mr-sm-n3{margin-right:-12px!important}.v-application .mr-sm-n4{margin-right:-16px!important}.v-application .mr-sm-n5{margin-right:-20px!important}.v-application .mr-sm-n6{margin-right:-24px!important}.v-application .mr-sm-n7{margin-right:-28px!important}.v-application .mr-sm-n8{margin-right:-32px!important}.v-application .mr-sm-n9{margin-right:-36px!important}.v-application .mr-sm-n10{margin-right:-40px!important}.v-application .mr-sm-n11{margin-right:-44px!important}.v-application .mr-sm-n12{margin-right:-48px!important}.v-application .mr-sm-n13{margin-right:-52px!important}.v-application .mr-sm-n14{margin-right:-56px!important}.v-application .mr-sm-n15{margin-right:-60px!important}.v-application .mr-sm-n16{margin-right:-64px!important}.v-application .mb-sm-n1{margin-bottom:-4px!important}.v-application .mb-sm-n2{margin-bottom:-8px!important}.v-application .mb-sm-n3{margin-bottom:-12px!important}.v-application .mb-sm-n4{margin-bottom:-16px!important}.v-application .mb-sm-n5{margin-bottom:-20px!important}.v-application .mb-sm-n6{margin-bottom:-24px!important}.v-application .mb-sm-n7{margin-bottom:-28px!important}.v-application .mb-sm-n8{margin-bottom:-32px!important}.v-application .mb-sm-n9{margin-bottom:-36px!important}.v-application .mb-sm-n10{margin-bottom:-40px!important}.v-application .mb-sm-n11{margin-bottom:-44px!important}.v-application .mb-sm-n12{margin-bottom:-48px!important}.v-application .mb-sm-n13{margin-bottom:-52px!important}.v-application .mb-sm-n14{margin-bottom:-56px!important}.v-application .mb-sm-n15{margin-bottom:-60px!important}.v-application .mb-sm-n16{margin-bottom:-64px!important}.v-application .ml-sm-n1{margin-left:-4px!important}.v-application .ml-sm-n2{margin-left:-8px!important}.v-application .ml-sm-n3{margin-left:-12px!important}.v-application .ml-sm-n4{margin-left:-16px!important}.v-application .ml-sm-n5{margin-left:-20px!important}.v-application .ml-sm-n6{margin-left:-24px!important}.v-application .ml-sm-n7{margin-left:-28px!important}.v-application .ml-sm-n8{margin-left:-32px!important}.v-application .ml-sm-n9{margin-left:-36px!important}.v-application .ml-sm-n10{margin-left:-40px!important}.v-application .ml-sm-n11{margin-left:-44px!important}.v-application .ml-sm-n12{margin-left:-48px!important}.v-application .ml-sm-n13{margin-left:-52px!important}.v-application .ml-sm-n14{margin-left:-56px!important}.v-application .ml-sm-n15{margin-left:-60px!important}.v-application .ml-sm-n16{margin-left:-64px!important}.v-application--is-ltr .ms-sm-n1{margin-left:-4px!important}.v-application--is-rtl .ms-sm-n1{margin-right:-4px!important}.v-application--is-ltr .ms-sm-n2{margin-left:-8px!important}.v-application--is-rtl .ms-sm-n2{margin-right:-8px!important}.v-application--is-ltr .ms-sm-n3{margin-left:-12px!important}.v-application--is-rtl .ms-sm-n3{margin-right:-12px!important}.v-application--is-ltr .ms-sm-n4{margin-left:-16px!important}.v-application--is-rtl .ms-sm-n4{margin-right:-16px!important}.v-application--is-ltr .ms-sm-n5{margin-left:-20px!important}.v-application--is-rtl .ms-sm-n5{margin-right:-20px!important}.v-application--is-ltr .ms-sm-n6{margin-left:-24px!important}.v-application--is-rtl .ms-sm-n6{margin-right:-24px!important}.v-application--is-ltr .ms-sm-n7{margin-left:-28px!important}.v-application--is-rtl .ms-sm-n7{margin-right:-28px!important}.v-application--is-ltr .ms-sm-n8{margin-left:-32px!important}.v-application--is-rtl .ms-sm-n8{margin-right:-32px!important}.v-application--is-ltr .ms-sm-n9{margin-left:-36px!important}.v-application--is-rtl .ms-sm-n9{margin-right:-36px!important}.v-application--is-ltr .ms-sm-n10{margin-left:-40px!important}.v-application--is-rtl .ms-sm-n10{margin-right:-40px!important}.v-application--is-ltr .ms-sm-n11{margin-left:-44px!important}.v-application--is-rtl .ms-sm-n11{margin-right:-44px!important}.v-application--is-ltr .ms-sm-n12{margin-left:-48px!important}.v-application--is-rtl .ms-sm-n12{margin-right:-48px!important}.v-application--is-ltr .ms-sm-n13{margin-left:-52px!important}.v-application--is-rtl .ms-sm-n13{margin-right:-52px!important}.v-application--is-ltr .ms-sm-n14{margin-left:-56px!important}.v-application--is-rtl .ms-sm-n14{margin-right:-56px!important}.v-application--is-ltr .ms-sm-n15{margin-left:-60px!important}.v-application--is-rtl .ms-sm-n15{margin-right:-60px!important}.v-application--is-ltr .ms-sm-n16{margin-left:-64px!important}.v-application--is-rtl .ms-sm-n16{margin-right:-64px!important}.v-application--is-ltr .me-sm-n1{margin-right:-4px!important}.v-application--is-rtl .me-sm-n1{margin-left:-4px!important}.v-application--is-ltr .me-sm-n2{margin-right:-8px!important}.v-application--is-rtl .me-sm-n2{margin-left:-8px!important}.v-application--is-ltr .me-sm-n3{margin-right:-12px!important}.v-application--is-rtl .me-sm-n3{margin-left:-12px!important}.v-application--is-ltr .me-sm-n4{margin-right:-16px!important}.v-application--is-rtl .me-sm-n4{margin-left:-16px!important}.v-application--is-ltr .me-sm-n5{margin-right:-20px!important}.v-application--is-rtl .me-sm-n5{margin-left:-20px!important}.v-application--is-ltr .me-sm-n6{margin-right:-24px!important}.v-application--is-rtl .me-sm-n6{margin-left:-24px!important}.v-application--is-ltr .me-sm-n7{margin-right:-28px!important}.v-application--is-rtl .me-sm-n7{margin-left:-28px!important}.v-application--is-ltr .me-sm-n8{margin-right:-32px!important}.v-application--is-rtl .me-sm-n8{margin-left:-32px!important}.v-application--is-ltr .me-sm-n9{margin-right:-36px!important}.v-application--is-rtl .me-sm-n9{margin-left:-36px!important}.v-application--is-ltr .me-sm-n10{margin-right:-40px!important}.v-application--is-rtl .me-sm-n10{margin-left:-40px!important}.v-application--is-ltr .me-sm-n11{margin-right:-44px!important}.v-application--is-rtl .me-sm-n11{margin-left:-44px!important}.v-application--is-ltr .me-sm-n12{margin-right:-48px!important}.v-application--is-rtl .me-sm-n12{margin-left:-48px!important}.v-application--is-ltr .me-sm-n13{margin-right:-52px!important}.v-application--is-rtl .me-sm-n13{margin-left:-52px!important}.v-application--is-ltr .me-sm-n14{margin-right:-56px!important}.v-application--is-rtl .me-sm-n14{margin-left:-56px!important}.v-application--is-ltr .me-sm-n15{margin-right:-60px!important}.v-application--is-rtl .me-sm-n15{margin-left:-60px!important}.v-application--is-ltr .me-sm-n16{margin-right:-64px!important}.v-application--is-rtl .me-sm-n16{margin-left:-64px!important}.v-application .pa-sm-0{padding:0!important}.v-application .pa-sm-1{padding:4px!important}.v-application .pa-sm-2{padding:8px!important}.v-application .pa-sm-3{padding:12px!important}.v-application .pa-sm-4{padding:16px!important}.v-application .pa-sm-5{padding:20px!important}.v-application .pa-sm-6{padding:24px!important}.v-application .pa-sm-7{padding:28px!important}.v-application .pa-sm-8{padding:32px!important}.v-application .pa-sm-9{padding:36px!important}.v-application .pa-sm-10{padding:40px!important}.v-application .pa-sm-11{padding:44px!important}.v-application .pa-sm-12{padding:48px!important}.v-application .pa-sm-13{padding:52px!important}.v-application .pa-sm-14{padding:56px!important}.v-application .pa-sm-15{padding:60px!important}.v-application .pa-sm-16{padding:64px!important}.v-application .px-sm-0{padding-right:0!important;padding-left:0!important}.v-application .px-sm-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-sm-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-sm-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-sm-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-sm-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-sm-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-sm-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-sm-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-sm-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-sm-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-sm-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-sm-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-sm-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-sm-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-sm-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-sm-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-sm-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-sm-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-sm-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-sm-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-sm-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-sm-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-sm-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-sm-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-sm-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-sm-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-sm-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-sm-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-sm-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-sm-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-sm-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-sm-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-sm-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-sm-0{padding-top:0!important}.v-application .pt-sm-1{padding-top:4px!important}.v-application .pt-sm-2{padding-top:8px!important}.v-application .pt-sm-3{padding-top:12px!important}.v-application .pt-sm-4{padding-top:16px!important}.v-application .pt-sm-5{padding-top:20px!important}.v-application .pt-sm-6{padding-top:24px!important}.v-application .pt-sm-7{padding-top:28px!important}.v-application .pt-sm-8{padding-top:32px!important}.v-application .pt-sm-9{padding-top:36px!important}.v-application .pt-sm-10{padding-top:40px!important}.v-application .pt-sm-11{padding-top:44px!important}.v-application .pt-sm-12{padding-top:48px!important}.v-application .pt-sm-13{padding-top:52px!important}.v-application .pt-sm-14{padding-top:56px!important}.v-application .pt-sm-15{padding-top:60px!important}.v-application .pt-sm-16{padding-top:64px!important}.v-application .pr-sm-0{padding-right:0!important}.v-application .pr-sm-1{padding-right:4px!important}.v-application .pr-sm-2{padding-right:8px!important}.v-application .pr-sm-3{padding-right:12px!important}.v-application .pr-sm-4{padding-right:16px!important}.v-application .pr-sm-5{padding-right:20px!important}.v-application .pr-sm-6{padding-right:24px!important}.v-application .pr-sm-7{padding-right:28px!important}.v-application .pr-sm-8{padding-right:32px!important}.v-application .pr-sm-9{padding-right:36px!important}.v-application .pr-sm-10{padding-right:40px!important}.v-application .pr-sm-11{padding-right:44px!important}.v-application .pr-sm-12{padding-right:48px!important}.v-application .pr-sm-13{padding-right:52px!important}.v-application .pr-sm-14{padding-right:56px!important}.v-application .pr-sm-15{padding-right:60px!important}.v-application .pr-sm-16{padding-right:64px!important}.v-application .pb-sm-0{padding-bottom:0!important}.v-application .pb-sm-1{padding-bottom:4px!important}.v-application .pb-sm-2{padding-bottom:8px!important}.v-application .pb-sm-3{padding-bottom:12px!important}.v-application .pb-sm-4{padding-bottom:16px!important}.v-application .pb-sm-5{padding-bottom:20px!important}.v-application .pb-sm-6{padding-bottom:24px!important}.v-application .pb-sm-7{padding-bottom:28px!important}.v-application .pb-sm-8{padding-bottom:32px!important}.v-application .pb-sm-9{padding-bottom:36px!important}.v-application .pb-sm-10{padding-bottom:40px!important}.v-application .pb-sm-11{padding-bottom:44px!important}.v-application .pb-sm-12{padding-bottom:48px!important}.v-application .pb-sm-13{padding-bottom:52px!important}.v-application .pb-sm-14{padding-bottom:56px!important}.v-application .pb-sm-15{padding-bottom:60px!important}.v-application .pb-sm-16{padding-bottom:64px!important}.v-application .pl-sm-0{padding-left:0!important}.v-application .pl-sm-1{padding-left:4px!important}.v-application .pl-sm-2{padding-left:8px!important}.v-application .pl-sm-3{padding-left:12px!important}.v-application .pl-sm-4{padding-left:16px!important}.v-application .pl-sm-5{padding-left:20px!important}.v-application .pl-sm-6{padding-left:24px!important}.v-application .pl-sm-7{padding-left:28px!important}.v-application .pl-sm-8{padding-left:32px!important}.v-application .pl-sm-9{padding-left:36px!important}.v-application .pl-sm-10{padding-left:40px!important}.v-application .pl-sm-11{padding-left:44px!important}.v-application .pl-sm-12{padding-left:48px!important}.v-application .pl-sm-13{padding-left:52px!important}.v-application .pl-sm-14{padding-left:56px!important}.v-application .pl-sm-15{padding-left:60px!important}.v-application .pl-sm-16{padding-left:64px!important}.v-application--is-ltr .ps-sm-0{padding-left:0!important}.v-application--is-rtl .ps-sm-0{padding-right:0!important}.v-application--is-ltr .ps-sm-1{padding-left:4px!important}.v-application--is-rtl .ps-sm-1{padding-right:4px!important}.v-application--is-ltr .ps-sm-2{padding-left:8px!important}.v-application--is-rtl .ps-sm-2{padding-right:8px!important}.v-application--is-ltr .ps-sm-3{padding-left:12px!important}.v-application--is-rtl .ps-sm-3{padding-right:12px!important}.v-application--is-ltr .ps-sm-4{padding-left:16px!important}.v-application--is-rtl .ps-sm-4{padding-right:16px!important}.v-application--is-ltr .ps-sm-5{padding-left:20px!important}.v-application--is-rtl .ps-sm-5{padding-right:20px!important}.v-application--is-ltr .ps-sm-6{padding-left:24px!important}.v-application--is-rtl .ps-sm-6{padding-right:24px!important}.v-application--is-ltr .ps-sm-7{padding-left:28px!important}.v-application--is-rtl .ps-sm-7{padding-right:28px!important}.v-application--is-ltr .ps-sm-8{padding-left:32px!important}.v-application--is-rtl .ps-sm-8{padding-right:32px!important}.v-application--is-ltr .ps-sm-9{padding-left:36px!important}.v-application--is-rtl .ps-sm-9{padding-right:36px!important}.v-application--is-ltr .ps-sm-10{padding-left:40px!important}.v-application--is-rtl .ps-sm-10{padding-right:40px!important}.v-application--is-ltr .ps-sm-11{padding-left:44px!important}.v-application--is-rtl .ps-sm-11{padding-right:44px!important}.v-application--is-ltr .ps-sm-12{padding-left:48px!important}.v-application--is-rtl .ps-sm-12{padding-right:48px!important}.v-application--is-ltr .ps-sm-13{padding-left:52px!important}.v-application--is-rtl .ps-sm-13{padding-right:52px!important}.v-application--is-ltr .ps-sm-14{padding-left:56px!important}.v-application--is-rtl .ps-sm-14{padding-right:56px!important}.v-application--is-ltr .ps-sm-15{padding-left:60px!important}.v-application--is-rtl .ps-sm-15{padding-right:60px!important}.v-application--is-ltr .ps-sm-16{padding-left:64px!important}.v-application--is-rtl .ps-sm-16{padding-right:64px!important}.v-application--is-ltr .pe-sm-0{padding-right:0!important}.v-application--is-rtl .pe-sm-0{padding-left:0!important}.v-application--is-ltr .pe-sm-1{padding-right:4px!important}.v-application--is-rtl .pe-sm-1{padding-left:4px!important}.v-application--is-ltr .pe-sm-2{padding-right:8px!important}.v-application--is-rtl .pe-sm-2{padding-left:8px!important}.v-application--is-ltr .pe-sm-3{padding-right:12px!important}.v-application--is-rtl .pe-sm-3{padding-left:12px!important}.v-application--is-ltr .pe-sm-4{padding-right:16px!important}.v-application--is-rtl .pe-sm-4{padding-left:16px!important}.v-application--is-ltr .pe-sm-5{padding-right:20px!important}.v-application--is-rtl .pe-sm-5{padding-left:20px!important}.v-application--is-ltr .pe-sm-6{padding-right:24px!important}.v-application--is-rtl .pe-sm-6{padding-left:24px!important}.v-application--is-ltr .pe-sm-7{padding-right:28px!important}.v-application--is-rtl .pe-sm-7{padding-left:28px!important}.v-application--is-ltr .pe-sm-8{padding-right:32px!important}.v-application--is-rtl .pe-sm-8{padding-left:32px!important}.v-application--is-ltr .pe-sm-9{padding-right:36px!important}.v-application--is-rtl .pe-sm-9{padding-left:36px!important}.v-application--is-ltr .pe-sm-10{padding-right:40px!important}.v-application--is-rtl .pe-sm-10{padding-left:40px!important}.v-application--is-ltr .pe-sm-11{padding-right:44px!important}.v-application--is-rtl .pe-sm-11{padding-left:44px!important}.v-application--is-ltr .pe-sm-12{padding-right:48px!important}.v-application--is-rtl .pe-sm-12{padding-left:48px!important}.v-application--is-ltr .pe-sm-13{padding-right:52px!important}.v-application--is-rtl .pe-sm-13{padding-left:52px!important}.v-application--is-ltr .pe-sm-14{padding-right:56px!important}.v-application--is-rtl .pe-sm-14{padding-left:56px!important}.v-application--is-ltr .pe-sm-15{padding-right:60px!important}.v-application--is-rtl .pe-sm-15{padding-left:60px!important}.v-application--is-ltr .pe-sm-16{padding-right:64px!important}.v-application--is-rtl .pe-sm-16{padding-left:64px!important}.v-application .text-sm-left{text-align:left!important}.v-application .text-sm-right{text-align:right!important}.v-application .text-sm-center{text-align:center!important}.v-application .text-sm-justify{text-align:justify!important}[dir=ltr] .v-application .text-sm-start{text-align:left!important}[dir=ltr] .v-application .text-sm-end,[dir=rtl] .v-application .text-sm-start{text-align:right!important}[dir=rtl] .v-application .text-sm-end{text-align:left!important}.v-application .text-sm-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-sm-h1,.v-application .text-sm-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-sm-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-sm-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-sm-h3,.v-application .text-sm-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-sm-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-sm-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-sm-h5,.v-application .text-sm-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-sm-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-sm-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-sm-body-2,.v-application .text-sm-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-sm-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-sm-caption,.v-application .text-sm-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media(min-width:960px){.v-application .d-md-none{display:none!important}.v-application .d-md-inline{display:inline!important}.v-application .d-md-inline-block{display:inline-block!important}.v-application .d-md-block{display:block!important}.v-application .d-md-table{display:table!important}.v-application .d-md-table-row{display:table-row!important}.v-application .d-md-table-cell{display:table-cell!important}.v-application .d-md-flex{display:flex!important}.v-application .d-md-inline-flex{display:inline-flex!important}.v-application .float-md-none{float:none!important}.v-application .float-md-left{float:left!important}.v-application .float-md-right{float:right!important}.v-application .flex-md-fill{flex:1 1 auto!important}.v-application .flex-md-row{flex-direction:row!important}.v-application .flex-md-column{flex-direction:column!important}.v-application .flex-md-row-reverse{flex-direction:row-reverse!important}.v-application .flex-md-column-reverse{flex-direction:column-reverse!important}.v-application .flex-md-grow-0{flex-grow:0!important}.v-application .flex-md-grow-1{flex-grow:1!important}.v-application .flex-md-shrink-0{flex-shrink:0!important}.v-application .flex-md-shrink-1{flex-shrink:1!important}.v-application .flex-md-wrap{flex-wrap:wrap!important}.v-application .flex-md-nowrap{flex-wrap:nowrap!important}.v-application .flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-md-start{justify-content:flex-start!important}.v-application .justify-md-end{justify-content:flex-end!important}.v-application .justify-md-center{justify-content:center!important}.v-application .justify-md-space-between{justify-content:space-between!important}.v-application .justify-md-space-around{justify-content:space-around!important}.v-application .align-md-start{align-items:flex-start!important}.v-application .align-md-end{align-items:flex-end!important}.v-application .align-md-center{align-items:center!important}.v-application .align-md-baseline{align-items:baseline!important}.v-application .align-md-stretch{align-items:stretch!important}.v-application .align-content-md-start{align-content:flex-start!important}.v-application .align-content-md-end{align-content:flex-end!important}.v-application .align-content-md-center{align-content:center!important}.v-application .align-content-md-space-between{align-content:space-between!important}.v-application .align-content-md-space-around{align-content:space-around!important}.v-application .align-content-md-stretch{align-content:stretch!important}.v-application .align-self-md-auto{align-self:auto!important}.v-application .align-self-md-start{align-self:flex-start!important}.v-application .align-self-md-end{align-self:flex-end!important}.v-application .align-self-md-center{align-self:center!important}.v-application .align-self-md-baseline{align-self:baseline!important}.v-application .align-self-md-stretch{align-self:stretch!important}.v-application .order-md-first{order:-1!important}.v-application .order-md-0{order:0!important}.v-application .order-md-1{order:1!important}.v-application .order-md-2{order:2!important}.v-application .order-md-3{order:3!important}.v-application .order-md-4{order:4!important}.v-application .order-md-5{order:5!important}.v-application .order-md-6{order:6!important}.v-application .order-md-7{order:7!important}.v-application .order-md-8{order:8!important}.v-application .order-md-9{order:9!important}.v-application .order-md-10{order:10!important}.v-application .order-md-11{order:11!important}.v-application .order-md-12{order:12!important}.v-application .order-md-last{order:13!important}.v-application .ma-md-0{margin:0!important}.v-application .ma-md-1{margin:4px!important}.v-application .ma-md-2{margin:8px!important}.v-application .ma-md-3{margin:12px!important}.v-application .ma-md-4{margin:16px!important}.v-application .ma-md-5{margin:20px!important}.v-application .ma-md-6{margin:24px!important}.v-application .ma-md-7{margin:28px!important}.v-application .ma-md-8{margin:32px!important}.v-application .ma-md-9{margin:36px!important}.v-application .ma-md-10{margin:40px!important}.v-application .ma-md-11{margin:44px!important}.v-application .ma-md-12{margin:48px!important}.v-application .ma-md-13{margin:52px!important}.v-application .ma-md-14{margin:56px!important}.v-application .ma-md-15{margin:60px!important}.v-application .ma-md-16{margin:64px!important}.v-application .ma-md-auto{margin:auto!important}.v-application .mx-md-0{margin-right:0!important;margin-left:0!important}.v-application .mx-md-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-md-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-md-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-md-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-md-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-md-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-md-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-md-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-md-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-md-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-md-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-md-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-md-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-md-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-md-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-md-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-md-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-md-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-md-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-md-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-md-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-md-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-md-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-md-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-md-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-md-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-md-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-md-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-md-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-md-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-md-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-md-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-md-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-md-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-md-0{margin-top:0!important}.v-application .mt-md-1{margin-top:4px!important}.v-application .mt-md-2{margin-top:8px!important}.v-application .mt-md-3{margin-top:12px!important}.v-application .mt-md-4{margin-top:16px!important}.v-application .mt-md-5{margin-top:20px!important}.v-application .mt-md-6{margin-top:24px!important}.v-application .mt-md-7{margin-top:28px!important}.v-application .mt-md-8{margin-top:32px!important}.v-application .mt-md-9{margin-top:36px!important}.v-application .mt-md-10{margin-top:40px!important}.v-application .mt-md-11{margin-top:44px!important}.v-application .mt-md-12{margin-top:48px!important}.v-application .mt-md-13{margin-top:52px!important}.v-application .mt-md-14{margin-top:56px!important}.v-application .mt-md-15{margin-top:60px!important}.v-application .mt-md-16{margin-top:64px!important}.v-application .mt-md-auto{margin-top:auto!important}.v-application .mr-md-0{margin-right:0!important}.v-application .mr-md-1{margin-right:4px!important}.v-application .mr-md-2{margin-right:8px!important}.v-application .mr-md-3{margin-right:12px!important}.v-application .mr-md-4{margin-right:16px!important}.v-application .mr-md-5{margin-right:20px!important}.v-application .mr-md-6{margin-right:24px!important}.v-application .mr-md-7{margin-right:28px!important}.v-application .mr-md-8{margin-right:32px!important}.v-application .mr-md-9{margin-right:36px!important}.v-application .mr-md-10{margin-right:40px!important}.v-application .mr-md-11{margin-right:44px!important}.v-application .mr-md-12{margin-right:48px!important}.v-application .mr-md-13{margin-right:52px!important}.v-application .mr-md-14{margin-right:56px!important}.v-application .mr-md-15{margin-right:60px!important}.v-application .mr-md-16{margin-right:64px!important}.v-application .mr-md-auto{margin-right:auto!important}.v-application .mb-md-0{margin-bottom:0!important}.v-application .mb-md-1{margin-bottom:4px!important}.v-application .mb-md-2{margin-bottom:8px!important}.v-application .mb-md-3{margin-bottom:12px!important}.v-application .mb-md-4{margin-bottom:16px!important}.v-application .mb-md-5{margin-bottom:20px!important}.v-application .mb-md-6{margin-bottom:24px!important}.v-application .mb-md-7{margin-bottom:28px!important}.v-application .mb-md-8{margin-bottom:32px!important}.v-application .mb-md-9{margin-bottom:36px!important}.v-application .mb-md-10{margin-bottom:40px!important}.v-application .mb-md-11{margin-bottom:44px!important}.v-application .mb-md-12{margin-bottom:48px!important}.v-application .mb-md-13{margin-bottom:52px!important}.v-application .mb-md-14{margin-bottom:56px!important}.v-application .mb-md-15{margin-bottom:60px!important}.v-application .mb-md-16{margin-bottom:64px!important}.v-application .mb-md-auto{margin-bottom:auto!important}.v-application .ml-md-0{margin-left:0!important}.v-application .ml-md-1{margin-left:4px!important}.v-application .ml-md-2{margin-left:8px!important}.v-application .ml-md-3{margin-left:12px!important}.v-application .ml-md-4{margin-left:16px!important}.v-application .ml-md-5{margin-left:20px!important}.v-application .ml-md-6{margin-left:24px!important}.v-application .ml-md-7{margin-left:28px!important}.v-application .ml-md-8{margin-left:32px!important}.v-application .ml-md-9{margin-left:36px!important}.v-application .ml-md-10{margin-left:40px!important}.v-application .ml-md-11{margin-left:44px!important}.v-application .ml-md-12{margin-left:48px!important}.v-application .ml-md-13{margin-left:52px!important}.v-application .ml-md-14{margin-left:56px!important}.v-application .ml-md-15{margin-left:60px!important}.v-application .ml-md-16{margin-left:64px!important}.v-application .ml-md-auto{margin-left:auto!important}.v-application--is-ltr .ms-md-0{margin-left:0!important}.v-application--is-rtl .ms-md-0{margin-right:0!important}.v-application--is-ltr .ms-md-1{margin-left:4px!important}.v-application--is-rtl .ms-md-1{margin-right:4px!important}.v-application--is-ltr .ms-md-2{margin-left:8px!important}.v-application--is-rtl .ms-md-2{margin-right:8px!important}.v-application--is-ltr .ms-md-3{margin-left:12px!important}.v-application--is-rtl .ms-md-3{margin-right:12px!important}.v-application--is-ltr .ms-md-4{margin-left:16px!important}.v-application--is-rtl .ms-md-4{margin-right:16px!important}.v-application--is-ltr .ms-md-5{margin-left:20px!important}.v-application--is-rtl .ms-md-5{margin-right:20px!important}.v-application--is-ltr .ms-md-6{margin-left:24px!important}.v-application--is-rtl .ms-md-6{margin-right:24px!important}.v-application--is-ltr .ms-md-7{margin-left:28px!important}.v-application--is-rtl .ms-md-7{margin-right:28px!important}.v-application--is-ltr .ms-md-8{margin-left:32px!important}.v-application--is-rtl .ms-md-8{margin-right:32px!important}.v-application--is-ltr .ms-md-9{margin-left:36px!important}.v-application--is-rtl .ms-md-9{margin-right:36px!important}.v-application--is-ltr .ms-md-10{margin-left:40px!important}.v-application--is-rtl .ms-md-10{margin-right:40px!important}.v-application--is-ltr .ms-md-11{margin-left:44px!important}.v-application--is-rtl .ms-md-11{margin-right:44px!important}.v-application--is-ltr .ms-md-12{margin-left:48px!important}.v-application--is-rtl .ms-md-12{margin-right:48px!important}.v-application--is-ltr .ms-md-13{margin-left:52px!important}.v-application--is-rtl .ms-md-13{margin-right:52px!important}.v-application--is-ltr .ms-md-14{margin-left:56px!important}.v-application--is-rtl .ms-md-14{margin-right:56px!important}.v-application--is-ltr .ms-md-15{margin-left:60px!important}.v-application--is-rtl .ms-md-15{margin-right:60px!important}.v-application--is-ltr .ms-md-16{margin-left:64px!important}.v-application--is-rtl .ms-md-16{margin-right:64px!important}.v-application--is-ltr .ms-md-auto{margin-left:auto!important}.v-application--is-rtl .ms-md-auto{margin-right:auto!important}.v-application--is-ltr .me-md-0{margin-right:0!important}.v-application--is-rtl .me-md-0{margin-left:0!important}.v-application--is-ltr .me-md-1{margin-right:4px!important}.v-application--is-rtl .me-md-1{margin-left:4px!important}.v-application--is-ltr .me-md-2{margin-right:8px!important}.v-application--is-rtl .me-md-2{margin-left:8px!important}.v-application--is-ltr .me-md-3{margin-right:12px!important}.v-application--is-rtl .me-md-3{margin-left:12px!important}.v-application--is-ltr .me-md-4{margin-right:16px!important}.v-application--is-rtl .me-md-4{margin-left:16px!important}.v-application--is-ltr .me-md-5{margin-right:20px!important}.v-application--is-rtl .me-md-5{margin-left:20px!important}.v-application--is-ltr .me-md-6{margin-right:24px!important}.v-application--is-rtl .me-md-6{margin-left:24px!important}.v-application--is-ltr .me-md-7{margin-right:28px!important}.v-application--is-rtl .me-md-7{margin-left:28px!important}.v-application--is-ltr .me-md-8{margin-right:32px!important}.v-application--is-rtl .me-md-8{margin-left:32px!important}.v-application--is-ltr .me-md-9{margin-right:36px!important}.v-application--is-rtl .me-md-9{margin-left:36px!important}.v-application--is-ltr .me-md-10{margin-right:40px!important}.v-application--is-rtl .me-md-10{margin-left:40px!important}.v-application--is-ltr .me-md-11{margin-right:44px!important}.v-application--is-rtl .me-md-11{margin-left:44px!important}.v-application--is-ltr .me-md-12{margin-right:48px!important}.v-application--is-rtl .me-md-12{margin-left:48px!important}.v-application--is-ltr .me-md-13{margin-right:52px!important}.v-application--is-rtl .me-md-13{margin-left:52px!important}.v-application--is-ltr .me-md-14{margin-right:56px!important}.v-application--is-rtl .me-md-14{margin-left:56px!important}.v-application--is-ltr .me-md-15{margin-right:60px!important}.v-application--is-rtl .me-md-15{margin-left:60px!important}.v-application--is-ltr .me-md-16{margin-right:64px!important}.v-application--is-rtl .me-md-16{margin-left:64px!important}.v-application--is-ltr .me-md-auto{margin-right:auto!important}.v-application--is-rtl .me-md-auto{margin-left:auto!important}.v-application .ma-md-n1{margin:-4px!important}.v-application .ma-md-n2{margin:-8px!important}.v-application .ma-md-n3{margin:-12px!important}.v-application .ma-md-n4{margin:-16px!important}.v-application .ma-md-n5{margin:-20px!important}.v-application .ma-md-n6{margin:-24px!important}.v-application .ma-md-n7{margin:-28px!important}.v-application .ma-md-n8{margin:-32px!important}.v-application .ma-md-n9{margin:-36px!important}.v-application .ma-md-n10{margin:-40px!important}.v-application .ma-md-n11{margin:-44px!important}.v-application .ma-md-n12{margin:-48px!important}.v-application .ma-md-n13{margin:-52px!important}.v-application .ma-md-n14{margin:-56px!important}.v-application .ma-md-n15{margin:-60px!important}.v-application .ma-md-n16{margin:-64px!important}.v-application .mx-md-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-md-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-md-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-md-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-md-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-md-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-md-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-md-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-md-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-md-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-md-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-md-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-md-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-md-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-md-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-md-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-md-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-md-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-md-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-md-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-md-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-md-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-md-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-md-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-md-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-md-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-md-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-md-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-md-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-md-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-md-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-md-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-md-n1{margin-top:-4px!important}.v-application .mt-md-n2{margin-top:-8px!important}.v-application .mt-md-n3{margin-top:-12px!important}.v-application .mt-md-n4{margin-top:-16px!important}.v-application .mt-md-n5{margin-top:-20px!important}.v-application .mt-md-n6{margin-top:-24px!important}.v-application .mt-md-n7{margin-top:-28px!important}.v-application .mt-md-n8{margin-top:-32px!important}.v-application .mt-md-n9{margin-top:-36px!important}.v-application .mt-md-n10{margin-top:-40px!important}.v-application .mt-md-n11{margin-top:-44px!important}.v-application .mt-md-n12{margin-top:-48px!important}.v-application .mt-md-n13{margin-top:-52px!important}.v-application .mt-md-n14{margin-top:-56px!important}.v-application .mt-md-n15{margin-top:-60px!important}.v-application .mt-md-n16{margin-top:-64px!important}.v-application .mr-md-n1{margin-right:-4px!important}.v-application .mr-md-n2{margin-right:-8px!important}.v-application .mr-md-n3{margin-right:-12px!important}.v-application .mr-md-n4{margin-right:-16px!important}.v-application .mr-md-n5{margin-right:-20px!important}.v-application .mr-md-n6{margin-right:-24px!important}.v-application .mr-md-n7{margin-right:-28px!important}.v-application .mr-md-n8{margin-right:-32px!important}.v-application .mr-md-n9{margin-right:-36px!important}.v-application .mr-md-n10{margin-right:-40px!important}.v-application .mr-md-n11{margin-right:-44px!important}.v-application .mr-md-n12{margin-right:-48px!important}.v-application .mr-md-n13{margin-right:-52px!important}.v-application .mr-md-n14{margin-right:-56px!important}.v-application .mr-md-n15{margin-right:-60px!important}.v-application .mr-md-n16{margin-right:-64px!important}.v-application .mb-md-n1{margin-bottom:-4px!important}.v-application .mb-md-n2{margin-bottom:-8px!important}.v-application .mb-md-n3{margin-bottom:-12px!important}.v-application .mb-md-n4{margin-bottom:-16px!important}.v-application .mb-md-n5{margin-bottom:-20px!important}.v-application .mb-md-n6{margin-bottom:-24px!important}.v-application .mb-md-n7{margin-bottom:-28px!important}.v-application .mb-md-n8{margin-bottom:-32px!important}.v-application .mb-md-n9{margin-bottom:-36px!important}.v-application .mb-md-n10{margin-bottom:-40px!important}.v-application .mb-md-n11{margin-bottom:-44px!important}.v-application .mb-md-n12{margin-bottom:-48px!important}.v-application .mb-md-n13{margin-bottom:-52px!important}.v-application .mb-md-n14{margin-bottom:-56px!important}.v-application .mb-md-n15{margin-bottom:-60px!important}.v-application .mb-md-n16{margin-bottom:-64px!important}.v-application .ml-md-n1{margin-left:-4px!important}.v-application .ml-md-n2{margin-left:-8px!important}.v-application .ml-md-n3{margin-left:-12px!important}.v-application .ml-md-n4{margin-left:-16px!important}.v-application .ml-md-n5{margin-left:-20px!important}.v-application .ml-md-n6{margin-left:-24px!important}.v-application .ml-md-n7{margin-left:-28px!important}.v-application .ml-md-n8{margin-left:-32px!important}.v-application .ml-md-n9{margin-left:-36px!important}.v-application .ml-md-n10{margin-left:-40px!important}.v-application .ml-md-n11{margin-left:-44px!important}.v-application .ml-md-n12{margin-left:-48px!important}.v-application .ml-md-n13{margin-left:-52px!important}.v-application .ml-md-n14{margin-left:-56px!important}.v-application .ml-md-n15{margin-left:-60px!important}.v-application .ml-md-n16{margin-left:-64px!important}.v-application--is-ltr .ms-md-n1{margin-left:-4px!important}.v-application--is-rtl .ms-md-n1{margin-right:-4px!important}.v-application--is-ltr .ms-md-n2{margin-left:-8px!important}.v-application--is-rtl .ms-md-n2{margin-right:-8px!important}.v-application--is-ltr .ms-md-n3{margin-left:-12px!important}.v-application--is-rtl .ms-md-n3{margin-right:-12px!important}.v-application--is-ltr .ms-md-n4{margin-left:-16px!important}.v-application--is-rtl .ms-md-n4{margin-right:-16px!important}.v-application--is-ltr .ms-md-n5{margin-left:-20px!important}.v-application--is-rtl .ms-md-n5{margin-right:-20px!important}.v-application--is-ltr .ms-md-n6{margin-left:-24px!important}.v-application--is-rtl .ms-md-n6{margin-right:-24px!important}.v-application--is-ltr .ms-md-n7{margin-left:-28px!important}.v-application--is-rtl .ms-md-n7{margin-right:-28px!important}.v-application--is-ltr .ms-md-n8{margin-left:-32px!important}.v-application--is-rtl .ms-md-n8{margin-right:-32px!important}.v-application--is-ltr .ms-md-n9{margin-left:-36px!important}.v-application--is-rtl .ms-md-n9{margin-right:-36px!important}.v-application--is-ltr .ms-md-n10{margin-left:-40px!important}.v-application--is-rtl .ms-md-n10{margin-right:-40px!important}.v-application--is-ltr .ms-md-n11{margin-left:-44px!important}.v-application--is-rtl .ms-md-n11{margin-right:-44px!important}.v-application--is-ltr .ms-md-n12{margin-left:-48px!important}.v-application--is-rtl .ms-md-n12{margin-right:-48px!important}.v-application--is-ltr .ms-md-n13{margin-left:-52px!important}.v-application--is-rtl .ms-md-n13{margin-right:-52px!important}.v-application--is-ltr .ms-md-n14{margin-left:-56px!important}.v-application--is-rtl .ms-md-n14{margin-right:-56px!important}.v-application--is-ltr .ms-md-n15{margin-left:-60px!important}.v-application--is-rtl .ms-md-n15{margin-right:-60px!important}.v-application--is-ltr .ms-md-n16{margin-left:-64px!important}.v-application--is-rtl .ms-md-n16{margin-right:-64px!important}.v-application--is-ltr .me-md-n1{margin-right:-4px!important}.v-application--is-rtl .me-md-n1{margin-left:-4px!important}.v-application--is-ltr .me-md-n2{margin-right:-8px!important}.v-application--is-rtl .me-md-n2{margin-left:-8px!important}.v-application--is-ltr .me-md-n3{margin-right:-12px!important}.v-application--is-rtl .me-md-n3{margin-left:-12px!important}.v-application--is-ltr .me-md-n4{margin-right:-16px!important}.v-application--is-rtl .me-md-n4{margin-left:-16px!important}.v-application--is-ltr .me-md-n5{margin-right:-20px!important}.v-application--is-rtl .me-md-n5{margin-left:-20px!important}.v-application--is-ltr .me-md-n6{margin-right:-24px!important}.v-application--is-rtl .me-md-n6{margin-left:-24px!important}.v-application--is-ltr .me-md-n7{margin-right:-28px!important}.v-application--is-rtl .me-md-n7{margin-left:-28px!important}.v-application--is-ltr .me-md-n8{margin-right:-32px!important}.v-application--is-rtl .me-md-n8{margin-left:-32px!important}.v-application--is-ltr .me-md-n9{margin-right:-36px!important}.v-application--is-rtl .me-md-n9{margin-left:-36px!important}.v-application--is-ltr .me-md-n10{margin-right:-40px!important}.v-application--is-rtl .me-md-n10{margin-left:-40px!important}.v-application--is-ltr .me-md-n11{margin-right:-44px!important}.v-application--is-rtl .me-md-n11{margin-left:-44px!important}.v-application--is-ltr .me-md-n12{margin-right:-48px!important}.v-application--is-rtl .me-md-n12{margin-left:-48px!important}.v-application--is-ltr .me-md-n13{margin-right:-52px!important}.v-application--is-rtl .me-md-n13{margin-left:-52px!important}.v-application--is-ltr .me-md-n14{margin-right:-56px!important}.v-application--is-rtl .me-md-n14{margin-left:-56px!important}.v-application--is-ltr .me-md-n15{margin-right:-60px!important}.v-application--is-rtl .me-md-n15{margin-left:-60px!important}.v-application--is-ltr .me-md-n16{margin-right:-64px!important}.v-application--is-rtl .me-md-n16{margin-left:-64px!important}.v-application .pa-md-0{padding:0!important}.v-application .pa-md-1{padding:4px!important}.v-application .pa-md-2{padding:8px!important}.v-application .pa-md-3{padding:12px!important}.v-application .pa-md-4{padding:16px!important}.v-application .pa-md-5{padding:20px!important}.v-application .pa-md-6{padding:24px!important}.v-application .pa-md-7{padding:28px!important}.v-application .pa-md-8{padding:32px!important}.v-application .pa-md-9{padding:36px!important}.v-application .pa-md-10{padding:40px!important}.v-application .pa-md-11{padding:44px!important}.v-application .pa-md-12{padding:48px!important}.v-application .pa-md-13{padding:52px!important}.v-application .pa-md-14{padding:56px!important}.v-application .pa-md-15{padding:60px!important}.v-application .pa-md-16{padding:64px!important}.v-application .px-md-0{padding-right:0!important;padding-left:0!important}.v-application .px-md-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-md-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-md-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-md-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-md-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-md-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-md-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-md-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-md-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-md-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-md-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-md-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-md-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-md-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-md-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-md-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-md-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-md-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-md-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-md-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-md-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-md-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-md-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-md-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-md-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-md-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-md-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-md-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-md-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-md-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-md-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-md-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-md-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-md-0{padding-top:0!important}.v-application .pt-md-1{padding-top:4px!important}.v-application .pt-md-2{padding-top:8px!important}.v-application .pt-md-3{padding-top:12px!important}.v-application .pt-md-4{padding-top:16px!important}.v-application .pt-md-5{padding-top:20px!important}.v-application .pt-md-6{padding-top:24px!important}.v-application .pt-md-7{padding-top:28px!important}.v-application .pt-md-8{padding-top:32px!important}.v-application .pt-md-9{padding-top:36px!important}.v-application .pt-md-10{padding-top:40px!important}.v-application .pt-md-11{padding-top:44px!important}.v-application .pt-md-12{padding-top:48px!important}.v-application .pt-md-13{padding-top:52px!important}.v-application .pt-md-14{padding-top:56px!important}.v-application .pt-md-15{padding-top:60px!important}.v-application .pt-md-16{padding-top:64px!important}.v-application .pr-md-0{padding-right:0!important}.v-application .pr-md-1{padding-right:4px!important}.v-application .pr-md-2{padding-right:8px!important}.v-application .pr-md-3{padding-right:12px!important}.v-application .pr-md-4{padding-right:16px!important}.v-application .pr-md-5{padding-right:20px!important}.v-application .pr-md-6{padding-right:24px!important}.v-application .pr-md-7{padding-right:28px!important}.v-application .pr-md-8{padding-right:32px!important}.v-application .pr-md-9{padding-right:36px!important}.v-application .pr-md-10{padding-right:40px!important}.v-application .pr-md-11{padding-right:44px!important}.v-application .pr-md-12{padding-right:48px!important}.v-application .pr-md-13{padding-right:52px!important}.v-application .pr-md-14{padding-right:56px!important}.v-application .pr-md-15{padding-right:60px!important}.v-application .pr-md-16{padding-right:64px!important}.v-application .pb-md-0{padding-bottom:0!important}.v-application .pb-md-1{padding-bottom:4px!important}.v-application .pb-md-2{padding-bottom:8px!important}.v-application .pb-md-3{padding-bottom:12px!important}.v-application .pb-md-4{padding-bottom:16px!important}.v-application .pb-md-5{padding-bottom:20px!important}.v-application .pb-md-6{padding-bottom:24px!important}.v-application .pb-md-7{padding-bottom:28px!important}.v-application .pb-md-8{padding-bottom:32px!important}.v-application .pb-md-9{padding-bottom:36px!important}.v-application .pb-md-10{padding-bottom:40px!important}.v-application .pb-md-11{padding-bottom:44px!important}.v-application .pb-md-12{padding-bottom:48px!important}.v-application .pb-md-13{padding-bottom:52px!important}.v-application .pb-md-14{padding-bottom:56px!important}.v-application .pb-md-15{padding-bottom:60px!important}.v-application .pb-md-16{padding-bottom:64px!important}.v-application .pl-md-0{padding-left:0!important}.v-application .pl-md-1{padding-left:4px!important}.v-application .pl-md-2{padding-left:8px!important}.v-application .pl-md-3{padding-left:12px!important}.v-application .pl-md-4{padding-left:16px!important}.v-application .pl-md-5{padding-left:20px!important}.v-application .pl-md-6{padding-left:24px!important}.v-application .pl-md-7{padding-left:28px!important}.v-application .pl-md-8{padding-left:32px!important}.v-application .pl-md-9{padding-left:36px!important}.v-application .pl-md-10{padding-left:40px!important}.v-application .pl-md-11{padding-left:44px!important}.v-application .pl-md-12{padding-left:48px!important}.v-application .pl-md-13{padding-left:52px!important}.v-application .pl-md-14{padding-left:56px!important}.v-application .pl-md-15{padding-left:60px!important}.v-application .pl-md-16{padding-left:64px!important}.v-application--is-ltr .ps-md-0{padding-left:0!important}.v-application--is-rtl .ps-md-0{padding-right:0!important}.v-application--is-ltr .ps-md-1{padding-left:4px!important}.v-application--is-rtl .ps-md-1{padding-right:4px!important}.v-application--is-ltr .ps-md-2{padding-left:8px!important}.v-application--is-rtl .ps-md-2{padding-right:8px!important}.v-application--is-ltr .ps-md-3{padding-left:12px!important}.v-application--is-rtl .ps-md-3{padding-right:12px!important}.v-application--is-ltr .ps-md-4{padding-left:16px!important}.v-application--is-rtl .ps-md-4{padding-right:16px!important}.v-application--is-ltr .ps-md-5{padding-left:20px!important}.v-application--is-rtl .ps-md-5{padding-right:20px!important}.v-application--is-ltr .ps-md-6{padding-left:24px!important}.v-application--is-rtl .ps-md-6{padding-right:24px!important}.v-application--is-ltr .ps-md-7{padding-left:28px!important}.v-application--is-rtl .ps-md-7{padding-right:28px!important}.v-application--is-ltr .ps-md-8{padding-left:32px!important}.v-application--is-rtl .ps-md-8{padding-right:32px!important}.v-application--is-ltr .ps-md-9{padding-left:36px!important}.v-application--is-rtl .ps-md-9{padding-right:36px!important}.v-application--is-ltr .ps-md-10{padding-left:40px!important}.v-application--is-rtl .ps-md-10{padding-right:40px!important}.v-application--is-ltr .ps-md-11{padding-left:44px!important}.v-application--is-rtl .ps-md-11{padding-right:44px!important}.v-application--is-ltr .ps-md-12{padding-left:48px!important}.v-application--is-rtl .ps-md-12{padding-right:48px!important}.v-application--is-ltr .ps-md-13{padding-left:52px!important}.v-application--is-rtl .ps-md-13{padding-right:52px!important}.v-application--is-ltr .ps-md-14{padding-left:56px!important}.v-application--is-rtl .ps-md-14{padding-right:56px!important}.v-application--is-ltr .ps-md-15{padding-left:60px!important}.v-application--is-rtl .ps-md-15{padding-right:60px!important}.v-application--is-ltr .ps-md-16{padding-left:64px!important}.v-application--is-rtl .ps-md-16{padding-right:64px!important}.v-application--is-ltr .pe-md-0{padding-right:0!important}.v-application--is-rtl .pe-md-0{padding-left:0!important}.v-application--is-ltr .pe-md-1{padding-right:4px!important}.v-application--is-rtl .pe-md-1{padding-left:4px!important}.v-application--is-ltr .pe-md-2{padding-right:8px!important}.v-application--is-rtl .pe-md-2{padding-left:8px!important}.v-application--is-ltr .pe-md-3{padding-right:12px!important}.v-application--is-rtl .pe-md-3{padding-left:12px!important}.v-application--is-ltr .pe-md-4{padding-right:16px!important}.v-application--is-rtl .pe-md-4{padding-left:16px!important}.v-application--is-ltr .pe-md-5{padding-right:20px!important}.v-application--is-rtl .pe-md-5{padding-left:20px!important}.v-application--is-ltr .pe-md-6{padding-right:24px!important}.v-application--is-rtl .pe-md-6{padding-left:24px!important}.v-application--is-ltr .pe-md-7{padding-right:28px!important}.v-application--is-rtl .pe-md-7{padding-left:28px!important}.v-application--is-ltr .pe-md-8{padding-right:32px!important}.v-application--is-rtl .pe-md-8{padding-left:32px!important}.v-application--is-ltr .pe-md-9{padding-right:36px!important}.v-application--is-rtl .pe-md-9{padding-left:36px!important}.v-application--is-ltr .pe-md-10{padding-right:40px!important}.v-application--is-rtl .pe-md-10{padding-left:40px!important}.v-application--is-ltr .pe-md-11{padding-right:44px!important}.v-application--is-rtl .pe-md-11{padding-left:44px!important}.v-application--is-ltr .pe-md-12{padding-right:48px!important}.v-application--is-rtl .pe-md-12{padding-left:48px!important}.v-application--is-ltr .pe-md-13{padding-right:52px!important}.v-application--is-rtl .pe-md-13{padding-left:52px!important}.v-application--is-ltr .pe-md-14{padding-right:56px!important}.v-application--is-rtl .pe-md-14{padding-left:56px!important}.v-application--is-ltr .pe-md-15{padding-right:60px!important}.v-application--is-rtl .pe-md-15{padding-left:60px!important}.v-application--is-ltr .pe-md-16{padding-right:64px!important}.v-application--is-rtl .pe-md-16{padding-left:64px!important}.v-application .text-md-left{text-align:left!important}.v-application .text-md-right{text-align:right!important}.v-application .text-md-center{text-align:center!important}.v-application .text-md-justify{text-align:justify!important}[dir=ltr] .v-application .text-md-start{text-align:left!important}[dir=ltr] .v-application .text-md-end,[dir=rtl] .v-application .text-md-start{text-align:right!important}[dir=rtl] .v-application .text-md-end{text-align:left!important}.v-application .text-md-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-md-h1,.v-application .text-md-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-md-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-md-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-md-h3,.v-application .text-md-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-md-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-md-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-md-h5,.v-application .text-md-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-md-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-md-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-md-body-2,.v-application .text-md-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-md-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-md-caption,.v-application .text-md-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media(min-width:1264px){.v-application .d-lg-none{display:none!important}.v-application .d-lg-inline{display:inline!important}.v-application .d-lg-inline-block{display:inline-block!important}.v-application .d-lg-block{display:block!important}.v-application .d-lg-table{display:table!important}.v-application .d-lg-table-row{display:table-row!important}.v-application .d-lg-table-cell{display:table-cell!important}.v-application .d-lg-flex{display:flex!important}.v-application .d-lg-inline-flex{display:inline-flex!important}.v-application .float-lg-none{float:none!important}.v-application .float-lg-left{float:left!important}.v-application .float-lg-right{float:right!important}.v-application .flex-lg-fill{flex:1 1 auto!important}.v-application .flex-lg-row{flex-direction:row!important}.v-application .flex-lg-column{flex-direction:column!important}.v-application .flex-lg-row-reverse{flex-direction:row-reverse!important}.v-application .flex-lg-column-reverse{flex-direction:column-reverse!important}.v-application .flex-lg-grow-0{flex-grow:0!important}.v-application .flex-lg-grow-1{flex-grow:1!important}.v-application .flex-lg-shrink-0{flex-shrink:0!important}.v-application .flex-lg-shrink-1{flex-shrink:1!important}.v-application .flex-lg-wrap{flex-wrap:wrap!important}.v-application .flex-lg-nowrap{flex-wrap:nowrap!important}.v-application .flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-lg-start{justify-content:flex-start!important}.v-application .justify-lg-end{justify-content:flex-end!important}.v-application .justify-lg-center{justify-content:center!important}.v-application .justify-lg-space-between{justify-content:space-between!important}.v-application .justify-lg-space-around{justify-content:space-around!important}.v-application .align-lg-start{align-items:flex-start!important}.v-application .align-lg-end{align-items:flex-end!important}.v-application .align-lg-center{align-items:center!important}.v-application .align-lg-baseline{align-items:baseline!important}.v-application .align-lg-stretch{align-items:stretch!important}.v-application .align-content-lg-start{align-content:flex-start!important}.v-application .align-content-lg-end{align-content:flex-end!important}.v-application .align-content-lg-center{align-content:center!important}.v-application .align-content-lg-space-between{align-content:space-between!important}.v-application .align-content-lg-space-around{align-content:space-around!important}.v-application .align-content-lg-stretch{align-content:stretch!important}.v-application .align-self-lg-auto{align-self:auto!important}.v-application .align-self-lg-start{align-self:flex-start!important}.v-application .align-self-lg-end{align-self:flex-end!important}.v-application .align-self-lg-center{align-self:center!important}.v-application .align-self-lg-baseline{align-self:baseline!important}.v-application .align-self-lg-stretch{align-self:stretch!important}.v-application .order-lg-first{order:-1!important}.v-application .order-lg-0{order:0!important}.v-application .order-lg-1{order:1!important}.v-application .order-lg-2{order:2!important}.v-application .order-lg-3{order:3!important}.v-application .order-lg-4{order:4!important}.v-application .order-lg-5{order:5!important}.v-application .order-lg-6{order:6!important}.v-application .order-lg-7{order:7!important}.v-application .order-lg-8{order:8!important}.v-application .order-lg-9{order:9!important}.v-application .order-lg-10{order:10!important}.v-application .order-lg-11{order:11!important}.v-application .order-lg-12{order:12!important}.v-application .order-lg-last{order:13!important}.v-application .ma-lg-0{margin:0!important}.v-application .ma-lg-1{margin:4px!important}.v-application .ma-lg-2{margin:8px!important}.v-application .ma-lg-3{margin:12px!important}.v-application .ma-lg-4{margin:16px!important}.v-application .ma-lg-5{margin:20px!important}.v-application .ma-lg-6{margin:24px!important}.v-application .ma-lg-7{margin:28px!important}.v-application .ma-lg-8{margin:32px!important}.v-application .ma-lg-9{margin:36px!important}.v-application .ma-lg-10{margin:40px!important}.v-application .ma-lg-11{margin:44px!important}.v-application .ma-lg-12{margin:48px!important}.v-application .ma-lg-13{margin:52px!important}.v-application .ma-lg-14{margin:56px!important}.v-application .ma-lg-15{margin:60px!important}.v-application .ma-lg-16{margin:64px!important}.v-application .ma-lg-auto{margin:auto!important}.v-application .mx-lg-0{margin-right:0!important;margin-left:0!important}.v-application .mx-lg-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-lg-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-lg-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-lg-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-lg-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-lg-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-lg-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-lg-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-lg-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-lg-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-lg-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-lg-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-lg-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-lg-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-lg-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-lg-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-lg-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-lg-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-lg-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-lg-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-lg-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-lg-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-lg-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-lg-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-lg-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-lg-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-lg-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-lg-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-lg-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-lg-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-lg-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-lg-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-lg-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-lg-0{margin-top:0!important}.v-application .mt-lg-1{margin-top:4px!important}.v-application .mt-lg-2{margin-top:8px!important}.v-application .mt-lg-3{margin-top:12px!important}.v-application .mt-lg-4{margin-top:16px!important}.v-application .mt-lg-5{margin-top:20px!important}.v-application .mt-lg-6{margin-top:24px!important}.v-application .mt-lg-7{margin-top:28px!important}.v-application .mt-lg-8{margin-top:32px!important}.v-application .mt-lg-9{margin-top:36px!important}.v-application .mt-lg-10{margin-top:40px!important}.v-application .mt-lg-11{margin-top:44px!important}.v-application .mt-lg-12{margin-top:48px!important}.v-application .mt-lg-13{margin-top:52px!important}.v-application .mt-lg-14{margin-top:56px!important}.v-application .mt-lg-15{margin-top:60px!important}.v-application .mt-lg-16{margin-top:64px!important}.v-application .mt-lg-auto{margin-top:auto!important}.v-application .mr-lg-0{margin-right:0!important}.v-application .mr-lg-1{margin-right:4px!important}.v-application .mr-lg-2{margin-right:8px!important}.v-application .mr-lg-3{margin-right:12px!important}.v-application .mr-lg-4{margin-right:16px!important}.v-application .mr-lg-5{margin-right:20px!important}.v-application .mr-lg-6{margin-right:24px!important}.v-application .mr-lg-7{margin-right:28px!important}.v-application .mr-lg-8{margin-right:32px!important}.v-application .mr-lg-9{margin-right:36px!important}.v-application .mr-lg-10{margin-right:40px!important}.v-application .mr-lg-11{margin-right:44px!important}.v-application .mr-lg-12{margin-right:48px!important}.v-application .mr-lg-13{margin-right:52px!important}.v-application .mr-lg-14{margin-right:56px!important}.v-application .mr-lg-15{margin-right:60px!important}.v-application .mr-lg-16{margin-right:64px!important}.v-application .mr-lg-auto{margin-right:auto!important}.v-application .mb-lg-0{margin-bottom:0!important}.v-application .mb-lg-1{margin-bottom:4px!important}.v-application .mb-lg-2{margin-bottom:8px!important}.v-application .mb-lg-3{margin-bottom:12px!important}.v-application .mb-lg-4{margin-bottom:16px!important}.v-application .mb-lg-5{margin-bottom:20px!important}.v-application .mb-lg-6{margin-bottom:24px!important}.v-application .mb-lg-7{margin-bottom:28px!important}.v-application .mb-lg-8{margin-bottom:32px!important}.v-application .mb-lg-9{margin-bottom:36px!important}.v-application .mb-lg-10{margin-bottom:40px!important}.v-application .mb-lg-11{margin-bottom:44px!important}.v-application .mb-lg-12{margin-bottom:48px!important}.v-application .mb-lg-13{margin-bottom:52px!important}.v-application .mb-lg-14{margin-bottom:56px!important}.v-application .mb-lg-15{margin-bottom:60px!important}.v-application .mb-lg-16{margin-bottom:64px!important}.v-application .mb-lg-auto{margin-bottom:auto!important}.v-application .ml-lg-0{margin-left:0!important}.v-application .ml-lg-1{margin-left:4px!important}.v-application .ml-lg-2{margin-left:8px!important}.v-application .ml-lg-3{margin-left:12px!important}.v-application .ml-lg-4{margin-left:16px!important}.v-application .ml-lg-5{margin-left:20px!important}.v-application .ml-lg-6{margin-left:24px!important}.v-application .ml-lg-7{margin-left:28px!important}.v-application .ml-lg-8{margin-left:32px!important}.v-application .ml-lg-9{margin-left:36px!important}.v-application .ml-lg-10{margin-left:40px!important}.v-application .ml-lg-11{margin-left:44px!important}.v-application .ml-lg-12{margin-left:48px!important}.v-application .ml-lg-13{margin-left:52px!important}.v-application .ml-lg-14{margin-left:56px!important}.v-application .ml-lg-15{margin-left:60px!important}.v-application .ml-lg-16{margin-left:64px!important}.v-application .ml-lg-auto{margin-left:auto!important}.v-application--is-ltr .ms-lg-0{margin-left:0!important}.v-application--is-rtl .ms-lg-0{margin-right:0!important}.v-application--is-ltr .ms-lg-1{margin-left:4px!important}.v-application--is-rtl .ms-lg-1{margin-right:4px!important}.v-application--is-ltr .ms-lg-2{margin-left:8px!important}.v-application--is-rtl .ms-lg-2{margin-right:8px!important}.v-application--is-ltr .ms-lg-3{margin-left:12px!important}.v-application--is-rtl .ms-lg-3{margin-right:12px!important}.v-application--is-ltr .ms-lg-4{margin-left:16px!important}.v-application--is-rtl .ms-lg-4{margin-right:16px!important}.v-application--is-ltr .ms-lg-5{margin-left:20px!important}.v-application--is-rtl .ms-lg-5{margin-right:20px!important}.v-application--is-ltr .ms-lg-6{margin-left:24px!important}.v-application--is-rtl .ms-lg-6{margin-right:24px!important}.v-application--is-ltr .ms-lg-7{margin-left:28px!important}.v-application--is-rtl .ms-lg-7{margin-right:28px!important}.v-application--is-ltr .ms-lg-8{margin-left:32px!important}.v-application--is-rtl .ms-lg-8{margin-right:32px!important}.v-application--is-ltr .ms-lg-9{margin-left:36px!important}.v-application--is-rtl .ms-lg-9{margin-right:36px!important}.v-application--is-ltr .ms-lg-10{margin-left:40px!important}.v-application--is-rtl .ms-lg-10{margin-right:40px!important}.v-application--is-ltr .ms-lg-11{margin-left:44px!important}.v-application--is-rtl .ms-lg-11{margin-right:44px!important}.v-application--is-ltr .ms-lg-12{margin-left:48px!important}.v-application--is-rtl .ms-lg-12{margin-right:48px!important}.v-application--is-ltr .ms-lg-13{margin-left:52px!important}.v-application--is-rtl .ms-lg-13{margin-right:52px!important}.v-application--is-ltr .ms-lg-14{margin-left:56px!important}.v-application--is-rtl .ms-lg-14{margin-right:56px!important}.v-application--is-ltr .ms-lg-15{margin-left:60px!important}.v-application--is-rtl .ms-lg-15{margin-right:60px!important}.v-application--is-ltr .ms-lg-16{margin-left:64px!important}.v-application--is-rtl .ms-lg-16{margin-right:64px!important}.v-application--is-ltr .ms-lg-auto{margin-left:auto!important}.v-application--is-rtl .ms-lg-auto{margin-right:auto!important}.v-application--is-ltr .me-lg-0{margin-right:0!important}.v-application--is-rtl .me-lg-0{margin-left:0!important}.v-application--is-ltr .me-lg-1{margin-right:4px!important}.v-application--is-rtl .me-lg-1{margin-left:4px!important}.v-application--is-ltr .me-lg-2{margin-right:8px!important}.v-application--is-rtl .me-lg-2{margin-left:8px!important}.v-application--is-ltr .me-lg-3{margin-right:12px!important}.v-application--is-rtl .me-lg-3{margin-left:12px!important}.v-application--is-ltr .me-lg-4{margin-right:16px!important}.v-application--is-rtl .me-lg-4{margin-left:16px!important}.v-application--is-ltr .me-lg-5{margin-right:20px!important}.v-application--is-rtl .me-lg-5{margin-left:20px!important}.v-application--is-ltr .me-lg-6{margin-right:24px!important}.v-application--is-rtl .me-lg-6{margin-left:24px!important}.v-application--is-ltr .me-lg-7{margin-right:28px!important}.v-application--is-rtl .me-lg-7{margin-left:28px!important}.v-application--is-ltr .me-lg-8{margin-right:32px!important}.v-application--is-rtl .me-lg-8{margin-left:32px!important}.v-application--is-ltr .me-lg-9{margin-right:36px!important}.v-application--is-rtl .me-lg-9{margin-left:36px!important}.v-application--is-ltr .me-lg-10{margin-right:40px!important}.v-application--is-rtl .me-lg-10{margin-left:40px!important}.v-application--is-ltr .me-lg-11{margin-right:44px!important}.v-application--is-rtl .me-lg-11{margin-left:44px!important}.v-application--is-ltr .me-lg-12{margin-right:48px!important}.v-application--is-rtl .me-lg-12{margin-left:48px!important}.v-application--is-ltr .me-lg-13{margin-right:52px!important}.v-application--is-rtl .me-lg-13{margin-left:52px!important}.v-application--is-ltr .me-lg-14{margin-right:56px!important}.v-application--is-rtl .me-lg-14{margin-left:56px!important}.v-application--is-ltr .me-lg-15{margin-right:60px!important}.v-application--is-rtl .me-lg-15{margin-left:60px!important}.v-application--is-ltr .me-lg-16{margin-right:64px!important}.v-application--is-rtl .me-lg-16{margin-left:64px!important}.v-application--is-ltr .me-lg-auto{margin-right:auto!important}.v-application--is-rtl .me-lg-auto{margin-left:auto!important}.v-application .ma-lg-n1{margin:-4px!important}.v-application .ma-lg-n2{margin:-8px!important}.v-application .ma-lg-n3{margin:-12px!important}.v-application .ma-lg-n4{margin:-16px!important}.v-application .ma-lg-n5{margin:-20px!important}.v-application .ma-lg-n6{margin:-24px!important}.v-application .ma-lg-n7{margin:-28px!important}.v-application .ma-lg-n8{margin:-32px!important}.v-application .ma-lg-n9{margin:-36px!important}.v-application .ma-lg-n10{margin:-40px!important}.v-application .ma-lg-n11{margin:-44px!important}.v-application .ma-lg-n12{margin:-48px!important}.v-application .ma-lg-n13{margin:-52px!important}.v-application .ma-lg-n14{margin:-56px!important}.v-application .ma-lg-n15{margin:-60px!important}.v-application .ma-lg-n16{margin:-64px!important}.v-application .mx-lg-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-lg-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-lg-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-lg-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-lg-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-lg-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-lg-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-lg-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-lg-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-lg-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-lg-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-lg-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-lg-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-lg-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-lg-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-lg-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-lg-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-lg-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-lg-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-lg-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-lg-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-lg-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-lg-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-lg-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-lg-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-lg-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-lg-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-lg-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-lg-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-lg-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-lg-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-lg-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-lg-n1{margin-top:-4px!important}.v-application .mt-lg-n2{margin-top:-8px!important}.v-application .mt-lg-n3{margin-top:-12px!important}.v-application .mt-lg-n4{margin-top:-16px!important}.v-application .mt-lg-n5{margin-top:-20px!important}.v-application .mt-lg-n6{margin-top:-24px!important}.v-application .mt-lg-n7{margin-top:-28px!important}.v-application .mt-lg-n8{margin-top:-32px!important}.v-application .mt-lg-n9{margin-top:-36px!important}.v-application .mt-lg-n10{margin-top:-40px!important}.v-application .mt-lg-n11{margin-top:-44px!important}.v-application .mt-lg-n12{margin-top:-48px!important}.v-application .mt-lg-n13{margin-top:-52px!important}.v-application .mt-lg-n14{margin-top:-56px!important}.v-application .mt-lg-n15{margin-top:-60px!important}.v-application .mt-lg-n16{margin-top:-64px!important}.v-application .mr-lg-n1{margin-right:-4px!important}.v-application .mr-lg-n2{margin-right:-8px!important}.v-application .mr-lg-n3{margin-right:-12px!important}.v-application .mr-lg-n4{margin-right:-16px!important}.v-application .mr-lg-n5{margin-right:-20px!important}.v-application .mr-lg-n6{margin-right:-24px!important}.v-application .mr-lg-n7{margin-right:-28px!important}.v-application .mr-lg-n8{margin-right:-32px!important}.v-application .mr-lg-n9{margin-right:-36px!important}.v-application .mr-lg-n10{margin-right:-40px!important}.v-application .mr-lg-n11{margin-right:-44px!important}.v-application .mr-lg-n12{margin-right:-48px!important}.v-application .mr-lg-n13{margin-right:-52px!important}.v-application .mr-lg-n14{margin-right:-56px!important}.v-application .mr-lg-n15{margin-right:-60px!important}.v-application .mr-lg-n16{margin-right:-64px!important}.v-application .mb-lg-n1{margin-bottom:-4px!important}.v-application .mb-lg-n2{margin-bottom:-8px!important}.v-application .mb-lg-n3{margin-bottom:-12px!important}.v-application .mb-lg-n4{margin-bottom:-16px!important}.v-application .mb-lg-n5{margin-bottom:-20px!important}.v-application .mb-lg-n6{margin-bottom:-24px!important}.v-application .mb-lg-n7{margin-bottom:-28px!important}.v-application .mb-lg-n8{margin-bottom:-32px!important}.v-application .mb-lg-n9{margin-bottom:-36px!important}.v-application .mb-lg-n10{margin-bottom:-40px!important}.v-application .mb-lg-n11{margin-bottom:-44px!important}.v-application .mb-lg-n12{margin-bottom:-48px!important}.v-application .mb-lg-n13{margin-bottom:-52px!important}.v-application .mb-lg-n14{margin-bottom:-56px!important}.v-application .mb-lg-n15{margin-bottom:-60px!important}.v-application .mb-lg-n16{margin-bottom:-64px!important}.v-application .ml-lg-n1{margin-left:-4px!important}.v-application .ml-lg-n2{margin-left:-8px!important}.v-application .ml-lg-n3{margin-left:-12px!important}.v-application .ml-lg-n4{margin-left:-16px!important}.v-application .ml-lg-n5{margin-left:-20px!important}.v-application .ml-lg-n6{margin-left:-24px!important}.v-application .ml-lg-n7{margin-left:-28px!important}.v-application .ml-lg-n8{margin-left:-32px!important}.v-application .ml-lg-n9{margin-left:-36px!important}.v-application .ml-lg-n10{margin-left:-40px!important}.v-application .ml-lg-n11{margin-left:-44px!important}.v-application .ml-lg-n12{margin-left:-48px!important}.v-application .ml-lg-n13{margin-left:-52px!important}.v-application .ml-lg-n14{margin-left:-56px!important}.v-application .ml-lg-n15{margin-left:-60px!important}.v-application .ml-lg-n16{margin-left:-64px!important}.v-application--is-ltr .ms-lg-n1{margin-left:-4px!important}.v-application--is-rtl .ms-lg-n1{margin-right:-4px!important}.v-application--is-ltr .ms-lg-n2{margin-left:-8px!important}.v-application--is-rtl .ms-lg-n2{margin-right:-8px!important}.v-application--is-ltr .ms-lg-n3{margin-left:-12px!important}.v-application--is-rtl .ms-lg-n3{margin-right:-12px!important}.v-application--is-ltr .ms-lg-n4{margin-left:-16px!important}.v-application--is-rtl .ms-lg-n4{margin-right:-16px!important}.v-application--is-ltr .ms-lg-n5{margin-left:-20px!important}.v-application--is-rtl .ms-lg-n5{margin-right:-20px!important}.v-application--is-ltr .ms-lg-n6{margin-left:-24px!important}.v-application--is-rtl .ms-lg-n6{margin-right:-24px!important}.v-application--is-ltr .ms-lg-n7{margin-left:-28px!important}.v-application--is-rtl .ms-lg-n7{margin-right:-28px!important}.v-application--is-ltr .ms-lg-n8{margin-left:-32px!important}.v-application--is-rtl .ms-lg-n8{margin-right:-32px!important}.v-application--is-ltr .ms-lg-n9{margin-left:-36px!important}.v-application--is-rtl .ms-lg-n9{margin-right:-36px!important}.v-application--is-ltr .ms-lg-n10{margin-left:-40px!important}.v-application--is-rtl .ms-lg-n10{margin-right:-40px!important}.v-application--is-ltr .ms-lg-n11{margin-left:-44px!important}.v-application--is-rtl .ms-lg-n11{margin-right:-44px!important}.v-application--is-ltr .ms-lg-n12{margin-left:-48px!important}.v-application--is-rtl .ms-lg-n12{margin-right:-48px!important}.v-application--is-ltr .ms-lg-n13{margin-left:-52px!important}.v-application--is-rtl .ms-lg-n13{margin-right:-52px!important}.v-application--is-ltr .ms-lg-n14{margin-left:-56px!important}.v-application--is-rtl .ms-lg-n14{margin-right:-56px!important}.v-application--is-ltr .ms-lg-n15{margin-left:-60px!important}.v-application--is-rtl .ms-lg-n15{margin-right:-60px!important}.v-application--is-ltr .ms-lg-n16{margin-left:-64px!important}.v-application--is-rtl .ms-lg-n16{margin-right:-64px!important}.v-application--is-ltr .me-lg-n1{margin-right:-4px!important}.v-application--is-rtl .me-lg-n1{margin-left:-4px!important}.v-application--is-ltr .me-lg-n2{margin-right:-8px!important}.v-application--is-rtl .me-lg-n2{margin-left:-8px!important}.v-application--is-ltr .me-lg-n3{margin-right:-12px!important}.v-application--is-rtl .me-lg-n3{margin-left:-12px!important}.v-application--is-ltr .me-lg-n4{margin-right:-16px!important}.v-application--is-rtl .me-lg-n4{margin-left:-16px!important}.v-application--is-ltr .me-lg-n5{margin-right:-20px!important}.v-application--is-rtl .me-lg-n5{margin-left:-20px!important}.v-application--is-ltr .me-lg-n6{margin-right:-24px!important}.v-application--is-rtl .me-lg-n6{margin-left:-24px!important}.v-application--is-ltr .me-lg-n7{margin-right:-28px!important}.v-application--is-rtl .me-lg-n7{margin-left:-28px!important}.v-application--is-ltr .me-lg-n8{margin-right:-32px!important}.v-application--is-rtl .me-lg-n8{margin-left:-32px!important}.v-application--is-ltr .me-lg-n9{margin-right:-36px!important}.v-application--is-rtl .me-lg-n9{margin-left:-36px!important}.v-application--is-ltr .me-lg-n10{margin-right:-40px!important}.v-application--is-rtl .me-lg-n10{margin-left:-40px!important}.v-application--is-ltr .me-lg-n11{margin-right:-44px!important}.v-application--is-rtl .me-lg-n11{margin-left:-44px!important}.v-application--is-ltr .me-lg-n12{margin-right:-48px!important}.v-application--is-rtl .me-lg-n12{margin-left:-48px!important}.v-application--is-ltr .me-lg-n13{margin-right:-52px!important}.v-application--is-rtl .me-lg-n13{margin-left:-52px!important}.v-application--is-ltr .me-lg-n14{margin-right:-56px!important}.v-application--is-rtl .me-lg-n14{margin-left:-56px!important}.v-application--is-ltr .me-lg-n15{margin-right:-60px!important}.v-application--is-rtl .me-lg-n15{margin-left:-60px!important}.v-application--is-ltr .me-lg-n16{margin-right:-64px!important}.v-application--is-rtl .me-lg-n16{margin-left:-64px!important}.v-application .pa-lg-0{padding:0!important}.v-application .pa-lg-1{padding:4px!important}.v-application .pa-lg-2{padding:8px!important}.v-application .pa-lg-3{padding:12px!important}.v-application .pa-lg-4{padding:16px!important}.v-application .pa-lg-5{padding:20px!important}.v-application .pa-lg-6{padding:24px!important}.v-application .pa-lg-7{padding:28px!important}.v-application .pa-lg-8{padding:32px!important}.v-application .pa-lg-9{padding:36px!important}.v-application .pa-lg-10{padding:40px!important}.v-application .pa-lg-11{padding:44px!important}.v-application .pa-lg-12{padding:48px!important}.v-application .pa-lg-13{padding:52px!important}.v-application .pa-lg-14{padding:56px!important}.v-application .pa-lg-15{padding:60px!important}.v-application .pa-lg-16{padding:64px!important}.v-application .px-lg-0{padding-right:0!important;padding-left:0!important}.v-application .px-lg-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-lg-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-lg-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-lg-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-lg-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-lg-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-lg-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-lg-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-lg-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-lg-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-lg-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-lg-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-lg-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-lg-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-lg-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-lg-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-lg-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-lg-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-lg-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-lg-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-lg-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-lg-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-lg-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-lg-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-lg-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-lg-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-lg-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-lg-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-lg-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-lg-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-lg-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-lg-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-lg-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-lg-0{padding-top:0!important}.v-application .pt-lg-1{padding-top:4px!important}.v-application .pt-lg-2{padding-top:8px!important}.v-application .pt-lg-3{padding-top:12px!important}.v-application .pt-lg-4{padding-top:16px!important}.v-application .pt-lg-5{padding-top:20px!important}.v-application .pt-lg-6{padding-top:24px!important}.v-application .pt-lg-7{padding-top:28px!important}.v-application .pt-lg-8{padding-top:32px!important}.v-application .pt-lg-9{padding-top:36px!important}.v-application .pt-lg-10{padding-top:40px!important}.v-application .pt-lg-11{padding-top:44px!important}.v-application .pt-lg-12{padding-top:48px!important}.v-application .pt-lg-13{padding-top:52px!important}.v-application .pt-lg-14{padding-top:56px!important}.v-application .pt-lg-15{padding-top:60px!important}.v-application .pt-lg-16{padding-top:64px!important}.v-application .pr-lg-0{padding-right:0!important}.v-application .pr-lg-1{padding-right:4px!important}.v-application .pr-lg-2{padding-right:8px!important}.v-application .pr-lg-3{padding-right:12px!important}.v-application .pr-lg-4{padding-right:16px!important}.v-application .pr-lg-5{padding-right:20px!important}.v-application .pr-lg-6{padding-right:24px!important}.v-application .pr-lg-7{padding-right:28px!important}.v-application .pr-lg-8{padding-right:32px!important}.v-application .pr-lg-9{padding-right:36px!important}.v-application .pr-lg-10{padding-right:40px!important}.v-application .pr-lg-11{padding-right:44px!important}.v-application .pr-lg-12{padding-right:48px!important}.v-application .pr-lg-13{padding-right:52px!important}.v-application .pr-lg-14{padding-right:56px!important}.v-application .pr-lg-15{padding-right:60px!important}.v-application .pr-lg-16{padding-right:64px!important}.v-application .pb-lg-0{padding-bottom:0!important}.v-application .pb-lg-1{padding-bottom:4px!important}.v-application .pb-lg-2{padding-bottom:8px!important}.v-application .pb-lg-3{padding-bottom:12px!important}.v-application .pb-lg-4{padding-bottom:16px!important}.v-application .pb-lg-5{padding-bottom:20px!important}.v-application .pb-lg-6{padding-bottom:24px!important}.v-application .pb-lg-7{padding-bottom:28px!important}.v-application .pb-lg-8{padding-bottom:32px!important}.v-application .pb-lg-9{padding-bottom:36px!important}.v-application .pb-lg-10{padding-bottom:40px!important}.v-application .pb-lg-11{padding-bottom:44px!important}.v-application .pb-lg-12{padding-bottom:48px!important}.v-application .pb-lg-13{padding-bottom:52px!important}.v-application .pb-lg-14{padding-bottom:56px!important}.v-application .pb-lg-15{padding-bottom:60px!important}.v-application .pb-lg-16{padding-bottom:64px!important}.v-application .pl-lg-0{padding-left:0!important}.v-application .pl-lg-1{padding-left:4px!important}.v-application .pl-lg-2{padding-left:8px!important}.v-application .pl-lg-3{padding-left:12px!important}.v-application .pl-lg-4{padding-left:16px!important}.v-application .pl-lg-5{padding-left:20px!important}.v-application .pl-lg-6{padding-left:24px!important}.v-application .pl-lg-7{padding-left:28px!important}.v-application .pl-lg-8{padding-left:32px!important}.v-application .pl-lg-9{padding-left:36px!important}.v-application .pl-lg-10{padding-left:40px!important}.v-application .pl-lg-11{padding-left:44px!important}.v-application .pl-lg-12{padding-left:48px!important}.v-application .pl-lg-13{padding-left:52px!important}.v-application .pl-lg-14{padding-left:56px!important}.v-application .pl-lg-15{padding-left:60px!important}.v-application .pl-lg-16{padding-left:64px!important}.v-application--is-ltr .ps-lg-0{padding-left:0!important}.v-application--is-rtl .ps-lg-0{padding-right:0!important}.v-application--is-ltr .ps-lg-1{padding-left:4px!important}.v-application--is-rtl .ps-lg-1{padding-right:4px!important}.v-application--is-ltr .ps-lg-2{padding-left:8px!important}.v-application--is-rtl .ps-lg-2{padding-right:8px!important}.v-application--is-ltr .ps-lg-3{padding-left:12px!important}.v-application--is-rtl .ps-lg-3{padding-right:12px!important}.v-application--is-ltr .ps-lg-4{padding-left:16px!important}.v-application--is-rtl .ps-lg-4{padding-right:16px!important}.v-application--is-ltr .ps-lg-5{padding-left:20px!important}.v-application--is-rtl .ps-lg-5{padding-right:20px!important}.v-application--is-ltr .ps-lg-6{padding-left:24px!important}.v-application--is-rtl .ps-lg-6{padding-right:24px!important}.v-application--is-ltr .ps-lg-7{padding-left:28px!important}.v-application--is-rtl .ps-lg-7{padding-right:28px!important}.v-application--is-ltr .ps-lg-8{padding-left:32px!important}.v-application--is-rtl .ps-lg-8{padding-right:32px!important}.v-application--is-ltr .ps-lg-9{padding-left:36px!important}.v-application--is-rtl .ps-lg-9{padding-right:36px!important}.v-application--is-ltr .ps-lg-10{padding-left:40px!important}.v-application--is-rtl .ps-lg-10{padding-right:40px!important}.v-application--is-ltr .ps-lg-11{padding-left:44px!important}.v-application--is-rtl .ps-lg-11{padding-right:44px!important}.v-application--is-ltr .ps-lg-12{padding-left:48px!important}.v-application--is-rtl .ps-lg-12{padding-right:48px!important}.v-application--is-ltr .ps-lg-13{padding-left:52px!important}.v-application--is-rtl .ps-lg-13{padding-right:52px!important}.v-application--is-ltr .ps-lg-14{padding-left:56px!important}.v-application--is-rtl .ps-lg-14{padding-right:56px!important}.v-application--is-ltr .ps-lg-15{padding-left:60px!important}.v-application--is-rtl .ps-lg-15{padding-right:60px!important}.v-application--is-ltr .ps-lg-16{padding-left:64px!important}.v-application--is-rtl .ps-lg-16{padding-right:64px!important}.v-application--is-ltr .pe-lg-0{padding-right:0!important}.v-application--is-rtl .pe-lg-0{padding-left:0!important}.v-application--is-ltr .pe-lg-1{padding-right:4px!important}.v-application--is-rtl .pe-lg-1{padding-left:4px!important}.v-application--is-ltr .pe-lg-2{padding-right:8px!important}.v-application--is-rtl .pe-lg-2{padding-left:8px!important}.v-application--is-ltr .pe-lg-3{padding-right:12px!important}.v-application--is-rtl .pe-lg-3{padding-left:12px!important}.v-application--is-ltr .pe-lg-4{padding-right:16px!important}.v-application--is-rtl .pe-lg-4{padding-left:16px!important}.v-application--is-ltr .pe-lg-5{padding-right:20px!important}.v-application--is-rtl .pe-lg-5{padding-left:20px!important}.v-application--is-ltr .pe-lg-6{padding-right:24px!important}.v-application--is-rtl .pe-lg-6{padding-left:24px!important}.v-application--is-ltr .pe-lg-7{padding-right:28px!important}.v-application--is-rtl .pe-lg-7{padding-left:28px!important}.v-application--is-ltr .pe-lg-8{padding-right:32px!important}.v-application--is-rtl .pe-lg-8{padding-left:32px!important}.v-application--is-ltr .pe-lg-9{padding-right:36px!important}.v-application--is-rtl .pe-lg-9{padding-left:36px!important}.v-application--is-ltr .pe-lg-10{padding-right:40px!important}.v-application--is-rtl .pe-lg-10{padding-left:40px!important}.v-application--is-ltr .pe-lg-11{padding-right:44px!important}.v-application--is-rtl .pe-lg-11{padding-left:44px!important}.v-application--is-ltr .pe-lg-12{padding-right:48px!important}.v-application--is-rtl .pe-lg-12{padding-left:48px!important}.v-application--is-ltr .pe-lg-13{padding-right:52px!important}.v-application--is-rtl .pe-lg-13{padding-left:52px!important}.v-application--is-ltr .pe-lg-14{padding-right:56px!important}.v-application--is-rtl .pe-lg-14{padding-left:56px!important}.v-application--is-ltr .pe-lg-15{padding-right:60px!important}.v-application--is-rtl .pe-lg-15{padding-left:60px!important}.v-application--is-ltr .pe-lg-16{padding-right:64px!important}.v-application--is-rtl .pe-lg-16{padding-left:64px!important}.v-application .text-lg-left{text-align:left!important}.v-application .text-lg-right{text-align:right!important}.v-application .text-lg-center{text-align:center!important}.v-application .text-lg-justify{text-align:justify!important}[dir=ltr] .v-application .text-lg-start{text-align:left!important}[dir=ltr] .v-application .text-lg-end,[dir=rtl] .v-application .text-lg-start{text-align:right!important}[dir=rtl] .v-application .text-lg-end{text-align:left!important}.v-application .text-lg-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-lg-h1,.v-application .text-lg-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-lg-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-lg-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-lg-h3,.v-application .text-lg-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-lg-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-lg-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-lg-h5,.v-application .text-lg-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-lg-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-lg-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-lg-body-2,.v-application .text-lg-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-lg-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-lg-caption,.v-application .text-lg-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media(min-width:1904px){.v-application .d-xl-none{display:none!important}.v-application .d-xl-inline{display:inline!important}.v-application .d-xl-inline-block{display:inline-block!important}.v-application .d-xl-block{display:block!important}.v-application .d-xl-table{display:table!important}.v-application .d-xl-table-row{display:table-row!important}.v-application .d-xl-table-cell{display:table-cell!important}.v-application .d-xl-flex{display:flex!important}.v-application .d-xl-inline-flex{display:inline-flex!important}.v-application .float-xl-none{float:none!important}.v-application .float-xl-left{float:left!important}.v-application .float-xl-right{float:right!important}.v-application .flex-xl-fill{flex:1 1 auto!important}.v-application .flex-xl-row{flex-direction:row!important}.v-application .flex-xl-column{flex-direction:column!important}.v-application .flex-xl-row-reverse{flex-direction:row-reverse!important}.v-application .flex-xl-column-reverse{flex-direction:column-reverse!important}.v-application .flex-xl-grow-0{flex-grow:0!important}.v-application .flex-xl-grow-1{flex-grow:1!important}.v-application .flex-xl-shrink-0{flex-shrink:0!important}.v-application .flex-xl-shrink-1{flex-shrink:1!important}.v-application .flex-xl-wrap{flex-wrap:wrap!important}.v-application .flex-xl-nowrap{flex-wrap:nowrap!important}.v-application .flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-xl-start{justify-content:flex-start!important}.v-application .justify-xl-end{justify-content:flex-end!important}.v-application .justify-xl-center{justify-content:center!important}.v-application .justify-xl-space-between{justify-content:space-between!important}.v-application .justify-xl-space-around{justify-content:space-around!important}.v-application .align-xl-start{align-items:flex-start!important}.v-application .align-xl-end{align-items:flex-end!important}.v-application .align-xl-center{align-items:center!important}.v-application .align-xl-baseline{align-items:baseline!important}.v-application .align-xl-stretch{align-items:stretch!important}.v-application .align-content-xl-start{align-content:flex-start!important}.v-application .align-content-xl-end{align-content:flex-end!important}.v-application .align-content-xl-center{align-content:center!important}.v-application .align-content-xl-space-between{align-content:space-between!important}.v-application .align-content-xl-space-around{align-content:space-around!important}.v-application .align-content-xl-stretch{align-content:stretch!important}.v-application .align-self-xl-auto{align-self:auto!important}.v-application .align-self-xl-start{align-self:flex-start!important}.v-application .align-self-xl-end{align-self:flex-end!important}.v-application .align-self-xl-center{align-self:center!important}.v-application .align-self-xl-baseline{align-self:baseline!important}.v-application .align-self-xl-stretch{align-self:stretch!important}.v-application .order-xl-first{order:-1!important}.v-application .order-xl-0{order:0!important}.v-application .order-xl-1{order:1!important}.v-application .order-xl-2{order:2!important}.v-application .order-xl-3{order:3!important}.v-application .order-xl-4{order:4!important}.v-application .order-xl-5{order:5!important}.v-application .order-xl-6{order:6!important}.v-application .order-xl-7{order:7!important}.v-application .order-xl-8{order:8!important}.v-application .order-xl-9{order:9!important}.v-application .order-xl-10{order:10!important}.v-application .order-xl-11{order:11!important}.v-application .order-xl-12{order:12!important}.v-application .order-xl-last{order:13!important}.v-application .ma-xl-0{margin:0!important}.v-application .ma-xl-1{margin:4px!important}.v-application .ma-xl-2{margin:8px!important}.v-application .ma-xl-3{margin:12px!important}.v-application .ma-xl-4{margin:16px!important}.v-application .ma-xl-5{margin:20px!important}.v-application .ma-xl-6{margin:24px!important}.v-application .ma-xl-7{margin:28px!important}.v-application .ma-xl-8{margin:32px!important}.v-application .ma-xl-9{margin:36px!important}.v-application .ma-xl-10{margin:40px!important}.v-application .ma-xl-11{margin:44px!important}.v-application .ma-xl-12{margin:48px!important}.v-application .ma-xl-13{margin:52px!important}.v-application .ma-xl-14{margin:56px!important}.v-application .ma-xl-15{margin:60px!important}.v-application .ma-xl-16{margin:64px!important}.v-application .ma-xl-auto{margin:auto!important}.v-application .mx-xl-0{margin-right:0!important;margin-left:0!important}.v-application .mx-xl-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-xl-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-xl-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-xl-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-xl-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-xl-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-xl-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-xl-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-xl-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-xl-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-xl-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-xl-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-xl-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-xl-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-xl-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-xl-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-xl-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-xl-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-xl-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-xl-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-xl-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-xl-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-xl-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-xl-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-xl-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-xl-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-xl-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-xl-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-xl-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-xl-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-xl-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-xl-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-xl-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-xl-0{margin-top:0!important}.v-application .mt-xl-1{margin-top:4px!important}.v-application .mt-xl-2{margin-top:8px!important}.v-application .mt-xl-3{margin-top:12px!important}.v-application .mt-xl-4{margin-top:16px!important}.v-application .mt-xl-5{margin-top:20px!important}.v-application .mt-xl-6{margin-top:24px!important}.v-application .mt-xl-7{margin-top:28px!important}.v-application .mt-xl-8{margin-top:32px!important}.v-application .mt-xl-9{margin-top:36px!important}.v-application .mt-xl-10{margin-top:40px!important}.v-application .mt-xl-11{margin-top:44px!important}.v-application .mt-xl-12{margin-top:48px!important}.v-application .mt-xl-13{margin-top:52px!important}.v-application .mt-xl-14{margin-top:56px!important}.v-application .mt-xl-15{margin-top:60px!important}.v-application .mt-xl-16{margin-top:64px!important}.v-application .mt-xl-auto{margin-top:auto!important}.v-application .mr-xl-0{margin-right:0!important}.v-application .mr-xl-1{margin-right:4px!important}.v-application .mr-xl-2{margin-right:8px!important}.v-application .mr-xl-3{margin-right:12px!important}.v-application .mr-xl-4{margin-right:16px!important}.v-application .mr-xl-5{margin-right:20px!important}.v-application .mr-xl-6{margin-right:24px!important}.v-application .mr-xl-7{margin-right:28px!important}.v-application .mr-xl-8{margin-right:32px!important}.v-application .mr-xl-9{margin-right:36px!important}.v-application .mr-xl-10{margin-right:40px!important}.v-application .mr-xl-11{margin-right:44px!important}.v-application .mr-xl-12{margin-right:48px!important}.v-application .mr-xl-13{margin-right:52px!important}.v-application .mr-xl-14{margin-right:56px!important}.v-application .mr-xl-15{margin-right:60px!important}.v-application .mr-xl-16{margin-right:64px!important}.v-application .mr-xl-auto{margin-right:auto!important}.v-application .mb-xl-0{margin-bottom:0!important}.v-application .mb-xl-1{margin-bottom:4px!important}.v-application .mb-xl-2{margin-bottom:8px!important}.v-application .mb-xl-3{margin-bottom:12px!important}.v-application .mb-xl-4{margin-bottom:16px!important}.v-application .mb-xl-5{margin-bottom:20px!important}.v-application .mb-xl-6{margin-bottom:24px!important}.v-application .mb-xl-7{margin-bottom:28px!important}.v-application .mb-xl-8{margin-bottom:32px!important}.v-application .mb-xl-9{margin-bottom:36px!important}.v-application .mb-xl-10{margin-bottom:40px!important}.v-application .mb-xl-11{margin-bottom:44px!important}.v-application .mb-xl-12{margin-bottom:48px!important}.v-application .mb-xl-13{margin-bottom:52px!important}.v-application .mb-xl-14{margin-bottom:56px!important}.v-application .mb-xl-15{margin-bottom:60px!important}.v-application .mb-xl-16{margin-bottom:64px!important}.v-application .mb-xl-auto{margin-bottom:auto!important}.v-application .ml-xl-0{margin-left:0!important}.v-application .ml-xl-1{margin-left:4px!important}.v-application .ml-xl-2{margin-left:8px!important}.v-application .ml-xl-3{margin-left:12px!important}.v-application .ml-xl-4{margin-left:16px!important}.v-application .ml-xl-5{margin-left:20px!important}.v-application .ml-xl-6{margin-left:24px!important}.v-application .ml-xl-7{margin-left:28px!important}.v-application .ml-xl-8{margin-left:32px!important}.v-application .ml-xl-9{margin-left:36px!important}.v-application .ml-xl-10{margin-left:40px!important}.v-application .ml-xl-11{margin-left:44px!important}.v-application .ml-xl-12{margin-left:48px!important}.v-application .ml-xl-13{margin-left:52px!important}.v-application .ml-xl-14{margin-left:56px!important}.v-application .ml-xl-15{margin-left:60px!important}.v-application .ml-xl-16{margin-left:64px!important}.v-application .ml-xl-auto{margin-left:auto!important}.v-application--is-ltr .ms-xl-0{margin-left:0!important}.v-application--is-rtl .ms-xl-0{margin-right:0!important}.v-application--is-ltr .ms-xl-1{margin-left:4px!important}.v-application--is-rtl .ms-xl-1{margin-right:4px!important}.v-application--is-ltr .ms-xl-2{margin-left:8px!important}.v-application--is-rtl .ms-xl-2{margin-right:8px!important}.v-application--is-ltr .ms-xl-3{margin-left:12px!important}.v-application--is-rtl .ms-xl-3{margin-right:12px!important}.v-application--is-ltr .ms-xl-4{margin-left:16px!important}.v-application--is-rtl .ms-xl-4{margin-right:16px!important}.v-application--is-ltr .ms-xl-5{margin-left:20px!important}.v-application--is-rtl .ms-xl-5{margin-right:20px!important}.v-application--is-ltr .ms-xl-6{margin-left:24px!important}.v-application--is-rtl .ms-xl-6{margin-right:24px!important}.v-application--is-ltr .ms-xl-7{margin-left:28px!important}.v-application--is-rtl .ms-xl-7{margin-right:28px!important}.v-application--is-ltr .ms-xl-8{margin-left:32px!important}.v-application--is-rtl .ms-xl-8{margin-right:32px!important}.v-application--is-ltr .ms-xl-9{margin-left:36px!important}.v-application--is-rtl .ms-xl-9{margin-right:36px!important}.v-application--is-ltr .ms-xl-10{margin-left:40px!important}.v-application--is-rtl .ms-xl-10{margin-right:40px!important}.v-application--is-ltr .ms-xl-11{margin-left:44px!important}.v-application--is-rtl .ms-xl-11{margin-right:44px!important}.v-application--is-ltr .ms-xl-12{margin-left:48px!important}.v-application--is-rtl .ms-xl-12{margin-right:48px!important}.v-application--is-ltr .ms-xl-13{margin-left:52px!important}.v-application--is-rtl .ms-xl-13{margin-right:52px!important}.v-application--is-ltr .ms-xl-14{margin-left:56px!important}.v-application--is-rtl .ms-xl-14{margin-right:56px!important}.v-application--is-ltr .ms-xl-15{margin-left:60px!important}.v-application--is-rtl .ms-xl-15{margin-right:60px!important}.v-application--is-ltr .ms-xl-16{margin-left:64px!important}.v-application--is-rtl .ms-xl-16{margin-right:64px!important}.v-application--is-ltr .ms-xl-auto{margin-left:auto!important}.v-application--is-rtl .ms-xl-auto{margin-right:auto!important}.v-application--is-ltr .me-xl-0{margin-right:0!important}.v-application--is-rtl .me-xl-0{margin-left:0!important}.v-application--is-ltr .me-xl-1{margin-right:4px!important}.v-application--is-rtl .me-xl-1{margin-left:4px!important}.v-application--is-ltr .me-xl-2{margin-right:8px!important}.v-application--is-rtl .me-xl-2{margin-left:8px!important}.v-application--is-ltr .me-xl-3{margin-right:12px!important}.v-application--is-rtl .me-xl-3{margin-left:12px!important}.v-application--is-ltr .me-xl-4{margin-right:16px!important}.v-application--is-rtl .me-xl-4{margin-left:16px!important}.v-application--is-ltr .me-xl-5{margin-right:20px!important}.v-application--is-rtl .me-xl-5{margin-left:20px!important}.v-application--is-ltr .me-xl-6{margin-right:24px!important}.v-application--is-rtl .me-xl-6{margin-left:24px!important}.v-application--is-ltr .me-xl-7{margin-right:28px!important}.v-application--is-rtl .me-xl-7{margin-left:28px!important}.v-application--is-ltr .me-xl-8{margin-right:32px!important}.v-application--is-rtl .me-xl-8{margin-left:32px!important}.v-application--is-ltr .me-xl-9{margin-right:36px!important}.v-application--is-rtl .me-xl-9{margin-left:36px!important}.v-application--is-ltr .me-xl-10{margin-right:40px!important}.v-application--is-rtl .me-xl-10{margin-left:40px!important}.v-application--is-ltr .me-xl-11{margin-right:44px!important}.v-application--is-rtl .me-xl-11{margin-left:44px!important}.v-application--is-ltr .me-xl-12{margin-right:48px!important}.v-application--is-rtl .me-xl-12{margin-left:48px!important}.v-application--is-ltr .me-xl-13{margin-right:52px!important}.v-application--is-rtl .me-xl-13{margin-left:52px!important}.v-application--is-ltr .me-xl-14{margin-right:56px!important}.v-application--is-rtl .me-xl-14{margin-left:56px!important}.v-application--is-ltr .me-xl-15{margin-right:60px!important}.v-application--is-rtl .me-xl-15{margin-left:60px!important}.v-application--is-ltr .me-xl-16{margin-right:64px!important}.v-application--is-rtl .me-xl-16{margin-left:64px!important}.v-application--is-ltr .me-xl-auto{margin-right:auto!important}.v-application--is-rtl .me-xl-auto{margin-left:auto!important}.v-application .ma-xl-n1{margin:-4px!important}.v-application .ma-xl-n2{margin:-8px!important}.v-application .ma-xl-n3{margin:-12px!important}.v-application .ma-xl-n4{margin:-16px!important}.v-application .ma-xl-n5{margin:-20px!important}.v-application .ma-xl-n6{margin:-24px!important}.v-application .ma-xl-n7{margin:-28px!important}.v-application .ma-xl-n8{margin:-32px!important}.v-application .ma-xl-n9{margin:-36px!important}.v-application .ma-xl-n10{margin:-40px!important}.v-application .ma-xl-n11{margin:-44px!important}.v-application .ma-xl-n12{margin:-48px!important}.v-application .ma-xl-n13{margin:-52px!important}.v-application .ma-xl-n14{margin:-56px!important}.v-application .ma-xl-n15{margin:-60px!important}.v-application .ma-xl-n16{margin:-64px!important}.v-application .mx-xl-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-xl-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-xl-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-xl-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-xl-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-xl-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-xl-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-xl-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-xl-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-xl-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-xl-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-xl-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-xl-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-xl-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-xl-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-xl-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-xl-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-xl-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-xl-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-xl-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-xl-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-xl-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-xl-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-xl-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-xl-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-xl-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-xl-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-xl-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-xl-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-xl-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-xl-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-xl-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-xl-n1{margin-top:-4px!important}.v-application .mt-xl-n2{margin-top:-8px!important}.v-application .mt-xl-n3{margin-top:-12px!important}.v-application .mt-xl-n4{margin-top:-16px!important}.v-application .mt-xl-n5{margin-top:-20px!important}.v-application .mt-xl-n6{margin-top:-24px!important}.v-application .mt-xl-n7{margin-top:-28px!important}.v-application .mt-xl-n8{margin-top:-32px!important}.v-application .mt-xl-n9{margin-top:-36px!important}.v-application .mt-xl-n10{margin-top:-40px!important}.v-application .mt-xl-n11{margin-top:-44px!important}.v-application .mt-xl-n12{margin-top:-48px!important}.v-application .mt-xl-n13{margin-top:-52px!important}.v-application .mt-xl-n14{margin-top:-56px!important}.v-application .mt-xl-n15{margin-top:-60px!important}.v-application .mt-xl-n16{margin-top:-64px!important}.v-application .mr-xl-n1{margin-right:-4px!important}.v-application .mr-xl-n2{margin-right:-8px!important}.v-application .mr-xl-n3{margin-right:-12px!important}.v-application .mr-xl-n4{margin-right:-16px!important}.v-application .mr-xl-n5{margin-right:-20px!important}.v-application .mr-xl-n6{margin-right:-24px!important}.v-application .mr-xl-n7{margin-right:-28px!important}.v-application .mr-xl-n8{margin-right:-32px!important}.v-application .mr-xl-n9{margin-right:-36px!important}.v-application .mr-xl-n10{margin-right:-40px!important}.v-application .mr-xl-n11{margin-right:-44px!important}.v-application .mr-xl-n12{margin-right:-48px!important}.v-application .mr-xl-n13{margin-right:-52px!important}.v-application .mr-xl-n14{margin-right:-56px!important}.v-application .mr-xl-n15{margin-right:-60px!important}.v-application .mr-xl-n16{margin-right:-64px!important}.v-application .mb-xl-n1{margin-bottom:-4px!important}.v-application .mb-xl-n2{margin-bottom:-8px!important}.v-application .mb-xl-n3{margin-bottom:-12px!important}.v-application .mb-xl-n4{margin-bottom:-16px!important}.v-application .mb-xl-n5{margin-bottom:-20px!important}.v-application .mb-xl-n6{margin-bottom:-24px!important}.v-application .mb-xl-n7{margin-bottom:-28px!important}.v-application .mb-xl-n8{margin-bottom:-32px!important}.v-application .mb-xl-n9{margin-bottom:-36px!important}.v-application .mb-xl-n10{margin-bottom:-40px!important}.v-application .mb-xl-n11{margin-bottom:-44px!important}.v-application .mb-xl-n12{margin-bottom:-48px!important}.v-application .mb-xl-n13{margin-bottom:-52px!important}.v-application .mb-xl-n14{margin-bottom:-56px!important}.v-application .mb-xl-n15{margin-bottom:-60px!important}.v-application .mb-xl-n16{margin-bottom:-64px!important}.v-application .ml-xl-n1{margin-left:-4px!important}.v-application .ml-xl-n2{margin-left:-8px!important}.v-application .ml-xl-n3{margin-left:-12px!important}.v-application .ml-xl-n4{margin-left:-16px!important}.v-application .ml-xl-n5{margin-left:-20px!important}.v-application .ml-xl-n6{margin-left:-24px!important}.v-application .ml-xl-n7{margin-left:-28px!important}.v-application .ml-xl-n8{margin-left:-32px!important}.v-application .ml-xl-n9{margin-left:-36px!important}.v-application .ml-xl-n10{margin-left:-40px!important}.v-application .ml-xl-n11{margin-left:-44px!important}.v-application .ml-xl-n12{margin-left:-48px!important}.v-application .ml-xl-n13{margin-left:-52px!important}.v-application .ml-xl-n14{margin-left:-56px!important}.v-application .ml-xl-n15{margin-left:-60px!important}.v-application .ml-xl-n16{margin-left:-64px!important}.v-application--is-ltr .ms-xl-n1{margin-left:-4px!important}.v-application--is-rtl .ms-xl-n1{margin-right:-4px!important}.v-application--is-ltr .ms-xl-n2{margin-left:-8px!important}.v-application--is-rtl .ms-xl-n2{margin-right:-8px!important}.v-application--is-ltr .ms-xl-n3{margin-left:-12px!important}.v-application--is-rtl .ms-xl-n3{margin-right:-12px!important}.v-application--is-ltr .ms-xl-n4{margin-left:-16px!important}.v-application--is-rtl .ms-xl-n4{margin-right:-16px!important}.v-application--is-ltr .ms-xl-n5{margin-left:-20px!important}.v-application--is-rtl .ms-xl-n5{margin-right:-20px!important}.v-application--is-ltr .ms-xl-n6{margin-left:-24px!important}.v-application--is-rtl .ms-xl-n6{margin-right:-24px!important}.v-application--is-ltr .ms-xl-n7{margin-left:-28px!important}.v-application--is-rtl .ms-xl-n7{margin-right:-28px!important}.v-application--is-ltr .ms-xl-n8{margin-left:-32px!important}.v-application--is-rtl .ms-xl-n8{margin-right:-32px!important}.v-application--is-ltr .ms-xl-n9{margin-left:-36px!important}.v-application--is-rtl .ms-xl-n9{margin-right:-36px!important}.v-application--is-ltr .ms-xl-n10{margin-left:-40px!important}.v-application--is-rtl .ms-xl-n10{margin-right:-40px!important}.v-application--is-ltr .ms-xl-n11{margin-left:-44px!important}.v-application--is-rtl .ms-xl-n11{margin-right:-44px!important}.v-application--is-ltr .ms-xl-n12{margin-left:-48px!important}.v-application--is-rtl .ms-xl-n12{margin-right:-48px!important}.v-application--is-ltr .ms-xl-n13{margin-left:-52px!important}.v-application--is-rtl .ms-xl-n13{margin-right:-52px!important}.v-application--is-ltr .ms-xl-n14{margin-left:-56px!important}.v-application--is-rtl .ms-xl-n14{margin-right:-56px!important}.v-application--is-ltr .ms-xl-n15{margin-left:-60px!important}.v-application--is-rtl .ms-xl-n15{margin-right:-60px!important}.v-application--is-ltr .ms-xl-n16{margin-left:-64px!important}.v-application--is-rtl .ms-xl-n16{margin-right:-64px!important}.v-application--is-ltr .me-xl-n1{margin-right:-4px!important}.v-application--is-rtl .me-xl-n1{margin-left:-4px!important}.v-application--is-ltr .me-xl-n2{margin-right:-8px!important}.v-application--is-rtl .me-xl-n2{margin-left:-8px!important}.v-application--is-ltr .me-xl-n3{margin-right:-12px!important}.v-application--is-rtl .me-xl-n3{margin-left:-12px!important}.v-application--is-ltr .me-xl-n4{margin-right:-16px!important}.v-application--is-rtl .me-xl-n4{margin-left:-16px!important}.v-application--is-ltr .me-xl-n5{margin-right:-20px!important}.v-application--is-rtl .me-xl-n5{margin-left:-20px!important}.v-application--is-ltr .me-xl-n6{margin-right:-24px!important}.v-application--is-rtl .me-xl-n6{margin-left:-24px!important}.v-application--is-ltr .me-xl-n7{margin-right:-28px!important}.v-application--is-rtl .me-xl-n7{margin-left:-28px!important}.v-application--is-ltr .me-xl-n8{margin-right:-32px!important}.v-application--is-rtl .me-xl-n8{margin-left:-32px!important}.v-application--is-ltr .me-xl-n9{margin-right:-36px!important}.v-application--is-rtl .me-xl-n9{margin-left:-36px!important}.v-application--is-ltr .me-xl-n10{margin-right:-40px!important}.v-application--is-rtl .me-xl-n10{margin-left:-40px!important}.v-application--is-ltr .me-xl-n11{margin-right:-44px!important}.v-application--is-rtl .me-xl-n11{margin-left:-44px!important}.v-application--is-ltr .me-xl-n12{margin-right:-48px!important}.v-application--is-rtl .me-xl-n12{margin-left:-48px!important}.v-application--is-ltr .me-xl-n13{margin-right:-52px!important}.v-application--is-rtl .me-xl-n13{margin-left:-52px!important}.v-application--is-ltr .me-xl-n14{margin-right:-56px!important}.v-application--is-rtl .me-xl-n14{margin-left:-56px!important}.v-application--is-ltr .me-xl-n15{margin-right:-60px!important}.v-application--is-rtl .me-xl-n15{margin-left:-60px!important}.v-application--is-ltr .me-xl-n16{margin-right:-64px!important}.v-application--is-rtl .me-xl-n16{margin-left:-64px!important}.v-application .pa-xl-0{padding:0!important}.v-application .pa-xl-1{padding:4px!important}.v-application .pa-xl-2{padding:8px!important}.v-application .pa-xl-3{padding:12px!important}.v-application .pa-xl-4{padding:16px!important}.v-application .pa-xl-5{padding:20px!important}.v-application .pa-xl-6{padding:24px!important}.v-application .pa-xl-7{padding:28px!important}.v-application .pa-xl-8{padding:32px!important}.v-application .pa-xl-9{padding:36px!important}.v-application .pa-xl-10{padding:40px!important}.v-application .pa-xl-11{padding:44px!important}.v-application .pa-xl-12{padding:48px!important}.v-application .pa-xl-13{padding:52px!important}.v-application .pa-xl-14{padding:56px!important}.v-application .pa-xl-15{padding:60px!important}.v-application .pa-xl-16{padding:64px!important}.v-application .px-xl-0{padding-right:0!important;padding-left:0!important}.v-application .px-xl-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-xl-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-xl-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-xl-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-xl-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-xl-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-xl-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-xl-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-xl-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-xl-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-xl-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-xl-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-xl-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-xl-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-xl-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-xl-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-xl-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-xl-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-xl-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-xl-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-xl-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-xl-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-xl-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-xl-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-xl-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-xl-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-xl-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-xl-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-xl-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-xl-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-xl-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-xl-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-xl-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-xl-0{padding-top:0!important}.v-application .pt-xl-1{padding-top:4px!important}.v-application .pt-xl-2{padding-top:8px!important}.v-application .pt-xl-3{padding-top:12px!important}.v-application .pt-xl-4{padding-top:16px!important}.v-application .pt-xl-5{padding-top:20px!important}.v-application .pt-xl-6{padding-top:24px!important}.v-application .pt-xl-7{padding-top:28px!important}.v-application .pt-xl-8{padding-top:32px!important}.v-application .pt-xl-9{padding-top:36px!important}.v-application .pt-xl-10{padding-top:40px!important}.v-application .pt-xl-11{padding-top:44px!important}.v-application .pt-xl-12{padding-top:48px!important}.v-application .pt-xl-13{padding-top:52px!important}.v-application .pt-xl-14{padding-top:56px!important}.v-application .pt-xl-15{padding-top:60px!important}.v-application .pt-xl-16{padding-top:64px!important}.v-application .pr-xl-0{padding-right:0!important}.v-application .pr-xl-1{padding-right:4px!important}.v-application .pr-xl-2{padding-right:8px!important}.v-application .pr-xl-3{padding-right:12px!important}.v-application .pr-xl-4{padding-right:16px!important}.v-application .pr-xl-5{padding-right:20px!important}.v-application .pr-xl-6{padding-right:24px!important}.v-application .pr-xl-7{padding-right:28px!important}.v-application .pr-xl-8{padding-right:32px!important}.v-application .pr-xl-9{padding-right:36px!important}.v-application .pr-xl-10{padding-right:40px!important}.v-application .pr-xl-11{padding-right:44px!important}.v-application .pr-xl-12{padding-right:48px!important}.v-application .pr-xl-13{padding-right:52px!important}.v-application .pr-xl-14{padding-right:56px!important}.v-application .pr-xl-15{padding-right:60px!important}.v-application .pr-xl-16{padding-right:64px!important}.v-application .pb-xl-0{padding-bottom:0!important}.v-application .pb-xl-1{padding-bottom:4px!important}.v-application .pb-xl-2{padding-bottom:8px!important}.v-application .pb-xl-3{padding-bottom:12px!important}.v-application .pb-xl-4{padding-bottom:16px!important}.v-application .pb-xl-5{padding-bottom:20px!important}.v-application .pb-xl-6{padding-bottom:24px!important}.v-application .pb-xl-7{padding-bottom:28px!important}.v-application .pb-xl-8{padding-bottom:32px!important}.v-application .pb-xl-9{padding-bottom:36px!important}.v-application .pb-xl-10{padding-bottom:40px!important}.v-application .pb-xl-11{padding-bottom:44px!important}.v-application .pb-xl-12{padding-bottom:48px!important}.v-application .pb-xl-13{padding-bottom:52px!important}.v-application .pb-xl-14{padding-bottom:56px!important}.v-application .pb-xl-15{padding-bottom:60px!important}.v-application .pb-xl-16{padding-bottom:64px!important}.v-application .pl-xl-0{padding-left:0!important}.v-application .pl-xl-1{padding-left:4px!important}.v-application .pl-xl-2{padding-left:8px!important}.v-application .pl-xl-3{padding-left:12px!important}.v-application .pl-xl-4{padding-left:16px!important}.v-application .pl-xl-5{padding-left:20px!important}.v-application .pl-xl-6{padding-left:24px!important}.v-application .pl-xl-7{padding-left:28px!important}.v-application .pl-xl-8{padding-left:32px!important}.v-application .pl-xl-9{padding-left:36px!important}.v-application .pl-xl-10{padding-left:40px!important}.v-application .pl-xl-11{padding-left:44px!important}.v-application .pl-xl-12{padding-left:48px!important}.v-application .pl-xl-13{padding-left:52px!important}.v-application .pl-xl-14{padding-left:56px!important}.v-application .pl-xl-15{padding-left:60px!important}.v-application .pl-xl-16{padding-left:64px!important}.v-application--is-ltr .ps-xl-0{padding-left:0!important}.v-application--is-rtl .ps-xl-0{padding-right:0!important}.v-application--is-ltr .ps-xl-1{padding-left:4px!important}.v-application--is-rtl .ps-xl-1{padding-right:4px!important}.v-application--is-ltr .ps-xl-2{padding-left:8px!important}.v-application--is-rtl .ps-xl-2{padding-right:8px!important}.v-application--is-ltr .ps-xl-3{padding-left:12px!important}.v-application--is-rtl .ps-xl-3{padding-right:12px!important}.v-application--is-ltr .ps-xl-4{padding-left:16px!important}.v-application--is-rtl .ps-xl-4{padding-right:16px!important}.v-application--is-ltr .ps-xl-5{padding-left:20px!important}.v-application--is-rtl .ps-xl-5{padding-right:20px!important}.v-application--is-ltr .ps-xl-6{padding-left:24px!important}.v-application--is-rtl .ps-xl-6{padding-right:24px!important}.v-application--is-ltr .ps-xl-7{padding-left:28px!important}.v-application--is-rtl .ps-xl-7{padding-right:28px!important}.v-application--is-ltr .ps-xl-8{padding-left:32px!important}.v-application--is-rtl .ps-xl-8{padding-right:32px!important}.v-application--is-ltr .ps-xl-9{padding-left:36px!important}.v-application--is-rtl .ps-xl-9{padding-right:36px!important}.v-application--is-ltr .ps-xl-10{padding-left:40px!important}.v-application--is-rtl .ps-xl-10{padding-right:40px!important}.v-application--is-ltr .ps-xl-11{padding-left:44px!important}.v-application--is-rtl .ps-xl-11{padding-right:44px!important}.v-application--is-ltr .ps-xl-12{padding-left:48px!important}.v-application--is-rtl .ps-xl-12{padding-right:48px!important}.v-application--is-ltr .ps-xl-13{padding-left:52px!important}.v-application--is-rtl .ps-xl-13{padding-right:52px!important}.v-application--is-ltr .ps-xl-14{padding-left:56px!important}.v-application--is-rtl .ps-xl-14{padding-right:56px!important}.v-application--is-ltr .ps-xl-15{padding-left:60px!important}.v-application--is-rtl .ps-xl-15{padding-right:60px!important}.v-application--is-ltr .ps-xl-16{padding-left:64px!important}.v-application--is-rtl .ps-xl-16{padding-right:64px!important}.v-application--is-ltr .pe-xl-0{padding-right:0!important}.v-application--is-rtl .pe-xl-0{padding-left:0!important}.v-application--is-ltr .pe-xl-1{padding-right:4px!important}.v-application--is-rtl .pe-xl-1{padding-left:4px!important}.v-application--is-ltr .pe-xl-2{padding-right:8px!important}.v-application--is-rtl .pe-xl-2{padding-left:8px!important}.v-application--is-ltr .pe-xl-3{padding-right:12px!important}.v-application--is-rtl .pe-xl-3{padding-left:12px!important}.v-application--is-ltr .pe-xl-4{padding-right:16px!important}.v-application--is-rtl .pe-xl-4{padding-left:16px!important}.v-application--is-ltr .pe-xl-5{padding-right:20px!important}.v-application--is-rtl .pe-xl-5{padding-left:20px!important}.v-application--is-ltr .pe-xl-6{padding-right:24px!important}.v-application--is-rtl .pe-xl-6{padding-left:24px!important}.v-application--is-ltr .pe-xl-7{padding-right:28px!important}.v-application--is-rtl .pe-xl-7{padding-left:28px!important}.v-application--is-ltr .pe-xl-8{padding-right:32px!important}.v-application--is-rtl .pe-xl-8{padding-left:32px!important}.v-application--is-ltr .pe-xl-9{padding-right:36px!important}.v-application--is-rtl .pe-xl-9{padding-left:36px!important}.v-application--is-ltr .pe-xl-10{padding-right:40px!important}.v-application--is-rtl .pe-xl-10{padding-left:40px!important}.v-application--is-ltr .pe-xl-11{padding-right:44px!important}.v-application--is-rtl .pe-xl-11{padding-left:44px!important}.v-application--is-ltr .pe-xl-12{padding-right:48px!important}.v-application--is-rtl .pe-xl-12{padding-left:48px!important}.v-application--is-ltr .pe-xl-13{padding-right:52px!important}.v-application--is-rtl .pe-xl-13{padding-left:52px!important}.v-application--is-ltr .pe-xl-14{padding-right:56px!important}.v-application--is-rtl .pe-xl-14{padding-left:56px!important}.v-application--is-ltr .pe-xl-15{padding-right:60px!important}.v-application--is-rtl .pe-xl-15{padding-left:60px!important}.v-application--is-ltr .pe-xl-16{padding-right:64px!important}.v-application--is-rtl .pe-xl-16{padding-left:64px!important}.v-application .text-xl-left{text-align:left!important}.v-application .text-xl-right{text-align:right!important}.v-application .text-xl-center{text-align:center!important}.v-application .text-xl-justify{text-align:justify!important}[dir=ltr] .v-application .text-xl-start{text-align:left!important}[dir=ltr] .v-application .text-xl-end,[dir=rtl] .v-application .text-xl-start{text-align:right!important}[dir=rtl] .v-application .text-xl-end{text-align:left!important}.v-application .text-xl-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-xl-h1,.v-application .text-xl-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-xl-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-xl-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-xl-h3,.v-application .text-xl-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-xl-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-xl-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-xl-h5,.v-application .text-xl-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-xl-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-xl-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-xl-body-2,.v-application .text-xl-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-xl-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-xl-caption,.v-application .text-xl-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media print{.v-application .d-print-none{display:none!important}.v-application .d-print-inline{display:inline!important}.v-application .d-print-inline-block{display:inline-block!important}.v-application .d-print-block{display:block!important}.v-application .d-print-table{display:table!important}.v-application .d-print-table-row{display:table-row!important}.v-application .d-print-table-cell{display:table-cell!important}.v-application .d-print-flex{display:flex!important}.v-application .d-print-inline-flex{display:inline-flex!important}.v-application .float-print-none{float:none!important}.v-application .float-print-left{float:left!important}.v-application .float-print-right{float:right!important}}',""]),t.exports=e},269:function(t,e,n){n(270),n(271),n(274),n(276),n(277),n(278)},270:function(t,e){t.exports=AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(t){const e=this.el;this.active&&this.checkpoint!==t&&(this.checkpoint&&e.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=t,this.sync(),this.position.distanceTo(this.targetPosition)<.1?this.checkpoint=null:(e.emit("navigation-start",{checkpoint:t}),"teleport"===this.data.mode&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,e.emit("navigation-end",{checkpoint:t}),e.components["movement-controls"].updateNavLocation())))},isVelocityActive:function(){return!(!this.active||!this.checkpoint)},getVelocity:function(){if(!this.active)return;const data=this.data,t=this.offset,e=this.position,n=this.targetPosition,r=this.checkpoint;return this.sync(),e.distanceTo(n)<.1?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:r}),t.set(0,0,0)):(t.setLength(data.animateSpeed),t)},sync:function(){const t=this.offset,e=this.position,n=this.targetPosition;e.copy(this.el.getAttribute("position")),this.checkpoint.object3D.getWorldPosition(n),n.add(this.checkpoint.components.checkpoint.getOffset()),t.copy(n).sub(e)}})},271:function(t,e,n){const r=n(272),o=n(273),l="left",c="right",d=1,m=2;t.exports=AFRAME.registerComponent("gamepad-controls",{GamepadButton:r,schema:{enabled:{default:!0},camera:{default:"[camera]",type:"selector"},rotationSensitivity:{default:2}},init:function(){const t=this.el.sceneEl;this.system=t.systems["tracked-controls-webxr"]||{controllers:[]},this.prevTime=window.performance.now(),this.buttons={};const e=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(e.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(e.y),this.yaw.add(this.pitch),this._lookVector=new THREE.Vector2,this._moveVector=new THREE.Vector2,this._dpadVector=new THREE.Vector2,t.addBehavior(this)},update:function(){this.tick()},tick:function(t,dt){this.updateButtonState(),this.updateRotation(dt)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const t=this._dpadVector,e=this._moveVector;this.getDpad(t),this.getJoystick(d,e);const n=t.x||e.x,r=t.y||e.y;return Math.abs(n)>.2||Math.abs(r)>.2},getVelocityDelta:function(){const t=this._dpadVector,e=this._moveVector;this.getDpad(t),this.getJoystick(d,e);const n=t.x||e.x,r=t.y||e.y,o=new THREE.Vector3;return Math.abs(n)>.2&&(o.x+=n),Math.abs(r)>.2&&(o.z+=r),o},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const t=this._lookVector;return this.getJoystick(m,t),Math.abs(t.x)>.2||Math.abs(t.y)>.2},updateRotation:function(dt){if(!this.isRotationActive())return;const data=this.data,t=this.yaw,e=this.pitch,n=data.camera.components["look-controls"],r=n&&n.pitchObject&&n.yawObject;r&&(e.rotation.copy(n.pitchObject.rotation),t.rotation.copy(n.yawObject.rotation));const o=this._lookVector;this.getJoystick(m,o),Math.abs(o.x)<=.2&&(o.x=0),Math.abs(o.y)<=.2&&(o.y=0),o.multiplyScalar(data.rotationSensitivity*dt/1e3),t.rotation.y-=o.x,e.rotation.x-=o.y,e.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,e.rotation.x)),data.camera.object3D.rotation.set(e.rotation.x,t.rotation.y,0),r&&(n.pitchObject.rotation.copy(e.rotation),n.yawObject.rotation.copy(t.rotation))},updateButtonState:function(){const t=this.getGamepad(c);if(this.data.enabled&&t)for(var i=0;i<t.buttons.length;i++)t.buttons[i].pressed&&!this.buttons[i]?this.emit(new o("gamepadbuttondown",i,t.buttons[i])):!t.buttons[i].pressed&&this.buttons[i]&&this.emit(new o("gamepadbuttonup",i,t.buttons[i])),this.buttons[i]=t.buttons[i].pressed;else Object.keys(this.buttons)&&(this.buttons={})},emit:function(t){this.el.emit(t.type,t),this.el.emit(t.type+":"+t.index,new o(t.type,t.index,t))},getGamepad:function(){const t=[],e=[];return function(n){const r=this.el.sceneEl.components["proxy-controls"],o=r&&r.isConnected()&&r.getGamepad(0);if(o)return o;t.length=0;for(let i=0;i<this.system.controllers.length;i++){const e=this.system.controllers[i],r=e?e.gamepad:null;if(t.push(r),r&&r.handedness===n)return r}const l=navigator.getGamepads?navigator.getGamepads():e;for(let i=0;i<l.length;i++){const t=l[i];if(t&&t.hand===n)return t}return t[0]||l[0]}}(),getButton:function(t){return this.getGamepad(c).buttons[t]},getAxis:function(t){return this.getGamepad(t>1?c:l).axes[t]},getJoystick:function(t,e){const n=this.getGamepad(t===d?l:c);if("xr-standard"===n.mapping)switch(t){case d:return e.set(n.axes[2],n.axes[3]);case m:return e.set(n.axes[0],n.axes[1])}else switch(t){case d:return e.set(n.axes[0],n.axes[1]);case m:return e.set(n.axes[2],n.axes[3])}throw new Error('Unexpected joystick index "%d".',t)},getDpad:function(t){const e=this.getGamepad(l);return e.buttons[r.DPAD_RIGHT]?t.set((e.buttons[r.DPAD_RIGHT].pressed?1:0)+(e.buttons[r.DPAD_LEFT].pressed?-1:0),(e.buttons[r.DPAD_UP].pressed?-1:0)+(e.buttons[r.DPAD_DOWN].pressed?1:0)):t.set(0,0)},isConnected:function(){const t=this.getGamepad(l);return!(!t||!t.connected)},getID:function(){return this.getGamepad(l).id}})},272:function(t,e){t.exports=Object.assign((function(){}),{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16})},273:function(t,e){t.exports=function(t,e,details){this.type=t,this.index=e,this.pressed=details.pressed,this.value=details.value}},274:function(t,e,n){n(275);const r=window.KeyboardEvent;t.exports=AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){const data=this.data,t=this.getKeys();return this.dVelocity.set(0,0,0),data.enabled&&((t.KeyW||t.ArrowUp)&&(this.dVelocity.z-=1),(t.KeyA||t.ArrowLeft)&&(this.dVelocity.x-=1),(t.KeyS||t.ArrowDown)&&(this.dVelocity.z+=1),(t.KeyD||t.ArrowRight)&&(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(t){AFRAME.utils.shouldCaptureKeyEvent(t)&&(this.localKeys[t.code]=!0,this.emit(t))},onKeyUp:function(t){AFRAME.utils.shouldCaptureKeyEvent(t)&&(delete this.localKeys[t.code],this.emit(t))},onBlur:function(){for(let code in this.localKeys)this.localKeys.hasOwnProperty(code)&&delete this.localKeys[code]},emit:function(t){"__keyboard-controls-proxy"in t&&this.el.emit(t.type,t),this.el.emit(t.type+":"+t.code,new r(t.type,t)),this.data.debug&&console.log(t.type+":"+t.code)},isPressed:function(code){return code in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){const t=this.el.sceneEl.components["proxy-controls"];return t&&t.isConnected()}})},275:function(t,e,n){!function(t){var e="KeyboardEvent"in t;e||(t.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var n=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,r=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,o=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,l=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function c(s,t){return-1!==String(s).indexOf(t)}var d=c(navigator.platform,"Win")?"win":c(navigator.platform,"Mac")?"mac":c(navigator.platform,"CrOS")?"cros":c(navigator.platform,"Linux")?"linux":c(navigator.userAgent,"iPad")||c(navigator.platform,"iPod")||c(navigator.platform,"iPhone")?"ios":"",m=c(navigator.userAgent,"Chrome/")?"chrome":c(navigator.vendor,"Apple")?"safari":c(navigator.userAgent,"MSIE")?"ie":c(navigator.userAgent,"Gecko/")?"moz":c(navigator.userAgent,"Opera/")?"opera":"",h=m+"-"+d;function f(t,select,table){h!==select&&m!==select&&d!==select||Object.keys(table).forEach((function(e){t[e]=table[e]}))}var v={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:r},92:{code:"OSRight",location:o},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:l},97:{code:"Numpad1",keyCap:"1",location:l},98:{code:"Numpad2",keyCap:"2",location:l},99:{code:"Numpad3",keyCap:"3",location:l},100:{code:"Numpad4",keyCap:"4",location:l},101:{code:"Numpad5",keyCap:"5",location:l},102:{code:"Numpad6",keyCap:"6",location:l},103:{code:"Numpad7",keyCap:"7",location:l},104:{code:"Numpad8",keyCap:"8",location:l},105:{code:"Numpad9",keyCap:"9",location:l},106:{code:"NumpadMultiply",keyCap:"*",location:l},107:{code:"NumpadAdd",keyCap:"+",location:l},108:{code:"NumpadComma",keyCap:",",location:l},109:{code:"NumpadSubtract",keyCap:"-",location:l},110:{code:"NumpadDecimal",keyCap:".",location:l},111:{code:"NumpadDivide",keyCap:"/",location:l},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:l},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:r},161:{code:"ShiftRight",location:o},162:{code:"ControlLeft",location:r},163:{code:"ControlRight",location:o},164:{code:"AltLeft",location:r},165:{code:"AltRight",location:o},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};f(v,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:l},189:{code:"NumpadSubtract",keyCap:"-",location:l}}),f(v,"moz-mac",{12:{code:"NumLock",location:l},173:{code:"Minus",keyCap:"-"}}),f(v,"moz-win",{173:{code:"Minus",keyCap:"-"}}),f(v,"chrome-mac",{93:{code:"OSRight",location:o}}),f(v,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),f(v,"ios",{10:{code:"Enter",location:n}}),f(v,"safari-mac",{91:{code:"OSLeft",location:r},93:{code:"OSRight",location:o},229:{code:"KeyQ",keyCap:"Q"}});var x={};"cros"===d&&(x["U+00A0"]={code:"ShiftLeft",location:r},x["U+00A1"]={code:"ShiftRight",location:o},x["U+00A2"]={code:"ControlLeft",location:r},x["U+00A3"]={code:"ControlRight",location:o},x["U+00A4"]={code:"AltLeft",location:r},x["U+00A5"]={code:"AltRight",location:o}),"chrome-mac"===h&&(x["U+0010"]={code:"ContextMenu"}),"safari-mac"===h&&(x["U+0010"]={code:"ContextMenu"}),"ios"===d&&(x["U+0010"]={code:"Function"},x["U+001C"]={code:"ArrowLeft"},x["U+001D"]={code:"ArrowRight"},x["U+001E"]={code:"ArrowUp"},x["U+001F"]={code:"ArrowDown"},x["U+0001"]={code:"Home"},x["U+0004"]={code:"End"},x["U+000B"]={code:"PageUp"},x["U+000C"]={code:"PageDown"});var y=[];y[r]={16:{code:"ShiftLeft",location:r},17:{code:"ControlLeft",location:r},18:{code:"AltLeft",location:r}},y[o]={16:{code:"ShiftRight",location:o},17:{code:"ControlRight",location:o},18:{code:"AltRight",location:o}},y[l]={13:{code:"NumpadEnter",location:l}},f(y[l],"moz",{109:{code:"NumpadSubtract",location:l},107:{code:"NumpadAdd",location:l}}),f(y[r],"moz-mac",{224:{code:"OSLeft",location:r}}),f(y[o],"moz-mac",{224:{code:"OSRight",location:o}}),f(y[o],"moz-win",{91:{code:"OSRight",location:o}}),f(y[o],"mac",{93:{code:"OSRight",location:o}}),f(y[l],"chrome-mac",{12:{code:"NumLock",location:l}}),f(y[l],"safari-mac",{12:{code:"NumLock",location:l},187:{code:"NumpadAdd",location:l},189:{code:"NumpadSubtract",location:l},190:{code:"NumpadDecimal",location:l},191:{code:"NumpadDivide",location:l}});var w={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};f(w,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var A,E,M,T={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},_=(A=v,E="code",M={},Object.keys(A).forEach((function(t){var e=A[t];E in e&&(M[e[E]]=e)})),M);try{var S=e&&"location"in new KeyboardEvent("")}catch(t){}function C(t){var e="keyCode"in t?t.keyCode:"which"in t?t.which:0,n=function(){if(S||"keyLocation"in t){var n=S?t.location:t.keyLocation;if(n&&e in y[n])return y[n][e]}return"keyIdentifier"in t&&t.keyIdentifier in x?x[t.keyIdentifier]:e in v?v[e]:null}();if(!n)return null;var r,o=(r=w[n.code])?t.shiftKey&&"shiftKey"in r?r.shiftKey:r.key:n.code;return{code:n.code,key:o,location:n.location,keyCap:n.keyCap}}"KeyboardEvent"in t&&"defineProperty"in Object&&function(){function t(t,p,e){p in t||Object.defineProperty(t,p,e)}if(t(KeyboardEvent.prototype,"code",{get:function(){var t=C(this);return t?t.code:""}}),"key"in KeyboardEvent.prototype){var desc=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var t=desc.get.call(this);return T.hasOwnProperty(t)?T[t]:t}})}t(KeyboardEvent.prototype,"key",{get:function(){var t=C(this);return t&&"key"in t?t.key:"Unidentified"}}),t(KeyboardEvent.prototype,"location",{get:function(){var t=C(this);return t&&"location"in t?t.location:n}}),t(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in t.KeyboardEvent||(t.KeyboardEvent.queryKeyCap=function(code,t){if(code=String(code),!_.hasOwnProperty(code))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var e=_[code];return e.keyCap||e.code||"Undefined"}),t.identifyKey=function(t){if(!("code"in t)){var e=C(t);t.code=e?e.code:"",t.key=e&&"key"in e?e.key:"Unidentified",t.location="location"in t?t.location:"keyLocation"in t?t.keyLocation:e&&"location"in e?e.location:n,t.locale=""}}}(window)},276:function(t,e){t.exports=AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const t=this.el.sceneEl,e=t.canvas;e?(e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("touchend",this.onTouchEnd)):t.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},removeEventListeners:function(){const t=this.el.sceneEl&&this.el.sceneEl.canvas;t&&(t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchend",this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&&!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(t){this.direction=-1,this.data.reverseEnabled&&2===t.touches.length&&(this.direction=1),t.preventDefault()},onTouchEnd:function(t){this.direction=0,t.preventDefault()}})},277:function(t,e){t.exports=AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[movement-controls] [camera]",type:"selector"}},init:function(){const t=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,t.sceneEl.hasLoaded?this.injectControls():t.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(t){const e=this.el,data=this.data,nav=e.sceneEl.systems.nav;e.sceneEl.hasLoaded&&this.injectControls(),nav&&data.constrainToNavMesh!==t.constrainToNavMesh&&(data.constrainToNavMesh?nav.addAgent(this):nav.removeAgent(this))},injectControls:function(){const data=this.data;var t;for(let i=0;i<data.controls.length;i++)t=data.controls[i]+"-controls",this.el.components[t]||this.el.setAttribute(t,"")},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;return function(r,dt){if(!dt)return;const o=this.el,data=this.data;if(!data.enabled)return;this.updateVelocityCtrl();const l=this.velocityCtrl,c=this.velocity;if(l)if(dt/1e3>.2?c.set(0,0,0):this.updateVelocity(dt),data.constrainToNavMesh&&!1!==l.isNavMeshConstrained){if(c.lengthSq()<1e-5)return;t.copy(o.object3D.position),e.copy(c).multiplyScalar(dt/1e3).add(t);const nav=o.sceneEl.systems.nav;this.navGroup=null===this.navGroup?nav.getGroup(t):this.navGroup,this.navNode=this.navNode||nav.getNode(t,this.navGroup),this.navNode=nav.clampStep(t,e,this.navGroup,this.navNode,n),o.object3D.position.copy(n)}else o.hasAttribute("velocity")?o.setAttribute("velocity",c):(o.object3D.position.x+=c.x*dt/1e3,o.object3D.position.y+=c.y*dt/1e3,o.object3D.position.z+=c.z*dt/1e3)}}(),updateVelocityCtrl:function(){const data=this.data;if(data.enabled){for(let i=0,t=data.controls.length;i<t;i++){const t=this.el.components[data.controls[i]+"-controls"];if(t&&t.isVelocityActive())return void(this.velocityCtrl=t)}this.velocityCtrl=null}},updateVelocity:function(){const t=new THREE.Vector2,e=new THREE.Quaternion;return function(dt){let n;const r=this.el,o=this.velocityCtrl,l=this.velocity,data=this.data;if(o){if(!o.getVelocityDelta){if(o.getVelocity)return void l.copy(o.getVelocity());if(o.getPositionDelta)return void l.copy(o.getPositionDelta(dt).multiplyScalar(1e3/dt));throw new Error("Incompatible movement controls: ",o)}n=o.getVelocityDelta(dt)}if(r.hasAttribute("velocity")&&!data.constrainToNavMesh&&l.copy(this.el.getAttribute("velocity")),n&&data.enabled){const o=data.camera;e.copy(o.object3D.quaternion),e.premultiply(r.object3D.quaternion),n.applyQuaternion(e);const c=n.length();data.fly?(l.copy(n),l.multiplyScalar(16.66667*this.data.speed)):(t.set(n.x,n.z),t.setLength(c*this.data.speed*16.66667),l.x=t.x,l.z=t.y)}}}()})},278:function(t,e){t.exports=AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const data=this.data,t=this.el.sceneEl;switch(t.addEventListener("axismove",this.onAxisMove),data.mode){case"swipe":case"touch":t.addEventListener("trackpadtouchstart",this.onTouchStart),t.addEventListener("trackpadtouchend",this.onTouchEnd);break;case"press":t.addEventListener("trackpaddown",this.onTouchStart),t.addEventListener("trackpadup",this.onTouchEnd)}},removeEventListeners:function(){const t=this.el.sceneEl;t.removeEventListener("axismove",this.onAxisMove),t.removeEventListener("trackpadtouchstart",this.onTouchStart),t.removeEventListener("trackpadtouchend",this.onTouchEnd),t.removeEventListener("trackpaddown",this.onTouchStart),t.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(t){switch(this.data.mode){case"swipe":this.canRecordAxis=!0,this.startingAxisData=[];break;case"touch":case"press":this.isMoving=!0}t.preventDefault()},onTouchEnd:function(t){"swipe"==this.data.mode&&(this.startingAxisData=[]),this.isMoving=!1,t.preventDefault()},onAxisMove:function(t){switch(this.data.mode){case"swipe":return this.handleSwipeAxis(t);case"touch":case"press":return this.handleTouchAxis(t)}},handleSwipeAxis:function(t){const data=this.data,e=t.detail.axis;if(0===this.startingAxisData.length&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=e[0],this.startingAxisData[1]=e[1]),this.startingAxisData.length>0){let t=0,n=0;data.enableNegX&&e[0]<this.startingAxisData[0]&&(t=-1),data.enablePosX&&e[0]>this.startingAxisData[0]&&(t=1),data.enablePosZ&&e[1]>this.startingAxisData[1]&&(n=-1),data.enableNegZ&&e[1]<this.startingAxisData[1]&&(n=1);const r=Math.abs(this.startingAxisData[1]-e[1]);Math.abs(this.startingAxisData[0]-e[0])>r?(this.zVel=0,this.xVel=t,this.isMoving=!0):(this.xVel=0,this.zVel=n,this.isMoving=!0)}},handleTouchAxis:function(t){const data=this.data,e=t.detail.axis;let n=0,r=0;data.enableNegX&&e[0]<0&&(n=-1),data.enablePosX&&e[0]>0&&(n=1),data.enablePosZ&&e[1]>0&&(r=-1),data.enableNegZ&&e[1]<0&&(r=1),Math.abs(e[0])>Math.abs(e[1])?(this.zVel=0,this.xVel=n):(this.xVel=0,this.zVel=r)}})},279:function(t,e,n){n(280),n(281),n(283),n(285),n(287)},280:function(t,e){const n={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};function r(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}t.exports=AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(n)},repetitions:{default:1/0,min:0},timeScale:{default:1}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];const t=this.el.getObject3D("mesh");t?this.load(t):this.el.addEventListener("model-loaded",t=>{this.load(t.detail.model)})},load:function(t){const e=this.el;this.model=t,this.mixer=new THREE.AnimationMixer(t),this.mixer.addEventListener("loop",t=>{e.emit("animation-loop",{action:t.action,loopDelta:t.loopDelta})}),this.mixer.addEventListener("finished",t=>{e.emit("animation-finished",{action:t.action,direction:t.direction})}),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(t){if(!t)return;const data=this.data,e=AFRAME.utils.diff(data,t);if("clip"in e)return this.stopAction(),void(data.clip&&this.playAction());this.activeActions.forEach(t=>{"duration"in e&&data.duration&&t.setDuration(data.duration),"clampWhenFinished"in e&&(t.clampWhenFinished=data.clampWhenFinished),("loop"in e||"repetitions"in e)&&t.setLoop(n[data.loop],data.repetitions),"timeScale"in e&&t.setEffectiveTimeScale(data.timeScale)})},stopAction:function(){const data=this.data;for(let i=0;i<this.activeActions.length;i++)data.crossFadeDuration?this.activeActions[i].fadeOut(data.crossFadeDuration):this.activeActions[i].stop();this.activeActions.length=0},playAction:function(){if(!this.mixer)return;const t=this.model,data=this.data,e=t.animations||(t.geometry||{}).animations||[];if(!e.length)return;const o=(s=data.clip,new RegExp("^"+s.split(/\*+/).map(r).join(".*")+"$"));var s;for(let r,i=0;r=e[i];i++)if(r.name.match(o)){const e=this.mixer.clipAction(r,t);e.enabled=!0,e.clampWhenFinished=data.clampWhenFinished,data.duration&&e.setDuration(data.duration),1!==data.timeScale&&e.setEffectiveTimeScale(data.timeScale),e.setLoop(n[data.loop],data.repetitions).fadeIn(data.crossFadeDuration).play(),this.activeActions.push(e)}},tick:function(t,dt){this.mixer&&!isNaN(dt)&&this.mixer.update(dt/1e3)}})},281:function(t,e,n){THREE.ColladaLoader=n(282),t.exports.Component=AFRAME.registerComponent("collada-model-legacy",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var t=this,e=this.el,n=this.data,r=this.el.sceneEl.systems.renderer;n&&(this.remove(),this.loader.load(n,(function(n){t.model=n.scene,t.model.traverse((function(object){if(object.isMesh){var t=object.material;t.color&&r.applyColorCorrection(t.color),t.map&&r.applyColorCorrection(t.map),t.emissive&&r.applyColorCorrection(t.emissive),t.emissiveMap&&r.applyColorCorrection(t.emissiveMap)}})),e.setObject3D("mesh",t.model),e.emit("model-loaded",{format:"collada",model:t.model})})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},282:function(t,e){t.exports=THREE.ColladaLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"anonymous",load:function(t,e,n,r){var o=this,path=void 0===o.path?THREE.LoaderUtils.extractUrlBase(t):o.path,l=new THREE.FileLoader(o.manager);l.setPath(o.path),l.load(t,(function(text){e(o.parse(text,path))}),n,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},options:{set convertUpAxis(t){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(text,path){function t(t,e){for(var n=[],r=t.childNodes,i=0,o=r.length;i<o;i++){var l=r[i];l.nodeName===e&&n.push(l)}return n}function e(text){if(0===text.length)return[];for(var t=text.trim().split(/\s+/),e=new Array(t.length),i=0,n=t.length;i<n;i++)e[i]=t[i];return e}function n(text){if(0===text.length)return[];for(var t=text.trim().split(/\s+/),e=new Array(t.length),i=0,n=t.length;i<n;i++)e[i]=parseFloat(t[i]);return e}function r(text){if(0===text.length)return[];for(var t=text.trim().split(/\s+/),e=new Array(t.length),i=0,n=t.length;i<n;i++)e[i]=parseInt(t[i]);return e}function o(text){return text.substring(1)}function l(object){return 0===Object.keys(object).length}function c(t){return void 0!==t&&!0===t.hasAttribute("meter")?parseFloat(t.getAttribute("meter")):1}function d(t){return void 0!==t?t.textContent:"Y_UP"}function m(e,n,r,o){var l=t(e,n)[0];if(void 0!==l)for(var c=t(l,r),i=0;i<c.length;i++)o(c[i])}function h(data,t){for(var e in data){data[e].build=t(data[e])}}function f(data,t){return void 0!==data.build||(data.build=t(data)),data.build}function v(t){for(var data={inputs:{}},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"input":var r=o(n.getAttribute("source")),l=n.getAttribute("semantic");data.inputs[l]=r}}return data}function x(t){var data={},e=t.getAttribute("target").split("/"),n=e.shift(),r=e.shift(),l=-1!==r.indexOf("("),c=-1!==r.indexOf(".");if(c)e=r.split("."),r=e.shift(),data.member=e.shift();else if(l){var d=r.split("(");r=d.shift();for(var i=0;i<d.length;i++)d[i]=parseInt(d[i].replace(/\)/,""));data.indices=d}return data.id=n,data.sid=r,data.arraySyntax=l,data.memberSyntax=c,data.sampler=o(t.getAttribute("source")),data}function y(data){var t=[],e=data.channels,n=data.samplers,r=data.sources;for(var o in e)if(e.hasOwnProperty(o)){var l=e[o],c=n[l.sampler],d=c.inputs.INPUT,m=c.inputs.OUTPUT;_(A(l,r[d],r[m]),t)}return t}function w(t){return f(te.animations[t],y)}function A(t,e,n){var time,r,i,o,l,c,d=te.nodes[t.id],m=Vt(d.id),h=d.transforms[t.sid],f=d.matrix.clone().transpose(),data={};switch(h){case"matrix":for(i=0,o=e.array.length;i<o;i++)if(time=e.array[i],r=i*n.stride,void 0===data[time]&&(data[time]={}),!0===t.arraySyntax){var v=n.array[r],x=t.indices[0]+4*t.indices[1];data[time][x]=v}else for(l=0,c=n.stride;l<c;l++)data[time][l]=n.array[r+l];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h)}var y=function(data,t){var e=[];for(var time in data)e.push({time:parseFloat(time),value:data[time]});e.sort((function(a,b){return a.time-b.time}));for(var i=0;i<16;i++)S(e,i,t.elements[i]);return e}(data,f);return{name:m.uuid,keyframes:y}}var E=new THREE.Vector3,M=new THREE.Vector3,T=new THREE.Quaternion;function _(t,e){for(var n=t.keyframes,r=t.name,o=[],l=[],c=[],d=[],i=0,m=n.length;i<m;i++){var h=n[i],time=h.time,f=h.value;Pt.fromArray(f).transpose(),Pt.decompose(E,T,M),o.push(time),l.push(E.x,E.y,E.z),c.push(T.x,T.y,T.z,T.w),d.push(M.x,M.y,M.z)}return l.length>0&&e.push(new THREE.VectorKeyframeTrack(r+".position",o,l)),c.length>0&&e.push(new THREE.QuaternionKeyframeTrack(r+".quaternion",o,c)),d.length>0&&e.push(new THREE.VectorKeyframeTrack(r+".scale",o,d)),e}function S(t,e,n){var r,i,o,l=!0;for(i=0,o=t.length;i<o;i++)void 0===(r=t[i]).value[e]?r.value[e]=null:l=!1;if(!0===l)for(i=0,o=t.length;i<o;i++)(r=t[i]).value[e]=n;else!function(t,e){for(var n,r,i=0,o=t.length;i<o;i++){var l=t[i];if(null===l.value[e]){if(n=C(t,i,e),r=L(t,i,e),null===n){l.value[e]=r.value[e];continue}if(null===r){l.value[e]=n.value[e];continue}R(l,n,r,e)}}}(t,e)}function C(t,i,e){for(;i>=0;){var n=t[i];if(null!==n.value[e])return n;i--}return null}function L(t,i,e){for(;i<t.length;){var n=t[i];if(null!==n.value[e])return n;i++}return null}function R(t,e,n,r){n.time-e.time!=0?t.value[r]=(t.time-e.time)*(n.value[r]-e.value[r])/(n.time-e.time)+e.value[r]:t.value[r]=e.value[r]}function k(data){for(var t=[],e=data.name,n=data.end-data.start||-1,r=data.animations,i=0,o=r.length;i<o;i++)for(var l=w(r[i]),c=0,d=l.length;c<d;c++)t.push(l[c]);return new THREE.AnimationClip(e,n,t)}function P(t){return f(te.clips[t],k)}function D(t){for(var data={sources:{}},i=0,e=t.childNodes.length;i<e;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":data.bindShapeMatrix=n(r.textContent);break;case"source":var o=r.getAttribute("id");data.sources[o]=mt(r);break;case"joints":data.joints=O(r);break;case"vertex_weights":data.vertexWeights=I(r)}}return data}function O(t){for(var data={inputs:{}},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"input":var r=n.getAttribute("semantic"),l=o(n.getAttribute("source"));data.inputs[r]=l}}return data}function I(t){for(var data={inputs:{}},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"input":var l=n.getAttribute("semantic"),c=o(n.getAttribute("source")),d=parseInt(n.getAttribute("offset"));data.inputs[l]={id:c,offset:d};break;case"vcount":data.vcount=r(n.textContent);break;case"v":data.v=r(n.textContent)}}return data}function B(data){var t={id:data.id},e=te.geometries[t.id];return void 0!==data.skin&&(t.skin=function(data){var i,t,e,n={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},r=data.sources,o=data.vertexWeights,l=o.vcount,c=o.v,d=o.inputs.JOINT.offset,m=o.inputs.WEIGHT.offset,h=data.sources[data.joints.inputs.JOINT],f=data.sources[data.joints.inputs.INV_BIND_MATRIX],v=r[o.inputs.WEIGHT.id].array,x=0;for(i=0,e=l.length;i<e;i++){var y=l[i],w=[];for(t=0;t<y;t++){var A=c[x+d],E=c[x+m],M=v[E];w.push({index:A,weight:M}),x+=2}for(w.sort(C),t=0;t<4;t++){var T=w[t];void 0!==T?(n.indices.array.push(T.index),n.weights.array.push(T.weight)):(n.indices.array.push(0),n.weights.array.push(0))}}data.bindShapeMatrix?n.bindMatrix=(new THREE.Matrix4).fromArray(data.bindShapeMatrix).transpose():n.bindMatrix=(new THREE.Matrix4).identity();for(i=0,e=h.array.length;i<e;i++){var _=h.array[i],S=(new THREE.Matrix4).fromArray(f.array,i*f.stride).transpose();n.joints.push({name:_,boneInverse:S})}return n;function C(a,b){return b.weight-a.weight}}(data.skin),e.sources.skinIndices=t.skin.indices,e.sources.skinWeights=t.skin.weights),t}function N(data){return void 0!==data.build?data.build:data.init_from}function F(t){var data=te.images[t];return void 0!==data?f(data,N):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",t),null)}function j(t){for(var data={surfaces:{},samplers:{}},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"newparam":H(n,data);break;case"technique":data.technique=V(n);break;case"extra":data.extra=Q(n)}}return data}function H(t,data){for(var e=t.getAttribute("sid"),i=0,n=t.childNodes.length;i<n;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"surface":data.surfaces[e]=U(r);break;case"sampler2D":data.samplers[e]=z(r)}}}function U(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"init_from":data.init_from=n.textContent}}return data}function z(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"source":data.source=n.textContent}}return data}function V(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"constant":case"lambert":case"blinn":case"phong":data.type=n.nodeName,data.parameters=G(n)}}return data}function G(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":data[n.nodeName]=W(n);break;case"transparent":data[n.nodeName]={opaque:n.getAttribute("opaque"),data:W(n)}}}return data}function W(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"color":data[r.nodeName]=n(r.textContent);break;case"float":data[r.nodeName]=parseFloat(r.textContent);break;case"texture":data[r.nodeName]={id:r.getAttribute("texture"),extra:X(r)}}}return data}function X(t){for(var data={technique:{}},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"extra":Y(n,data)}}return data}function Y(t,data){for(var i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"technique":K(n,data)}}}function K(t,data){for(var i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":data.technique[n.nodeName]=parseFloat(n.textContent);break;case"wrapU":case"wrapV":"TRUE"===n.textContent.toUpperCase()?data.technique[n.nodeName]=1:"FALSE"===n.textContent.toUpperCase()?data.technique[n.nodeName]=0:data.technique[n.nodeName]=parseInt(n.textContent)}}}function Q(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"technique":data.technique=Z(n)}}return data}function Z(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"double_sided":data[n.nodeName]=parseInt(n.textContent)}}return data}function J(data){return data}function $(data){var t,e,n=(t=data.url,f(te.effects[t],J)),r=n.profile.technique,o=n.profile.extra;switch(r.type){case"phong":case"blinn":e=new THREE.MeshPhongMaterial;break;case"lambert":e=new THREE.MeshLambertMaterial;break;default:e=new THREE.MeshBasicMaterial}function c(t){var e=n.profile.samplers[t.id],image=null;void 0!==e?image=F(n.profile.surfaces[e.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),image=F(t.id));if(null!==image){var r=function(image){var t,e=image.slice(2+(image.lastIndexOf(".")-1>>>0));switch(e=e.toLowerCase()){case"tga":t=Yt;break;default:t=Qt}return t}(image);if(void 0!==r){var o=r.load(image),c=t.extra;if(void 0!==c&&void 0!==c.technique&&!1===l(c.technique)){var d=c.technique;o.wrapS=d.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.wrapT=d.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.offset.set(d.offsetU||0,d.offsetV||0),o.repeat.set(d.repeatU||1,d.repeatV||1)}else o.wrapS=THREE.RepeatWrapping,o.wrapT=THREE.RepeatWrapping;return o}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",image),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",t.id),null}e.name=data.name;var d=r.parameters;for(var m in d){var h=d[m];switch(m){case"diffuse":h.color&&e.color.fromArray(h.color),h.texture&&(e.map=c(h.texture));break;case"specular":h.color&&e.specular&&e.specular.fromArray(h.color),h.texture&&(e.specularMap=c(h.texture));break;case"bump":h.texture&&(e.normalMap=c(h.texture));break;case"ambient":h.texture&&(e.lightMap=c(h.texture));break;case"shininess":h.float&&e.shininess&&(e.shininess=h.float);break;case"emission":h.color&&e.emissive&&e.emissive.fromArray(h.color),h.texture&&(e.emissiveMap=c(h.texture))}}var v=d.transparent,x=d.transparency;if(void 0===x&&v&&(x={float:1}),void 0===v&&x&&(v={opaque:"A_ONE",data:{color:[1,1,1,1]}}),v&&x)if(v.data.texture)e.transparent=!0;else{var y=v.data.color;switch(v.opaque){case"A_ONE":e.opacity=y[3]*x.float;break;case"RGB_ZERO":e.opacity=1-y[0]*x.float;break;case"A_ZERO":e.opacity=1-y[3]*x.float;break;case"RGB_ONE":e.opacity=y[0]*x.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',v.opaque)}e.opacity<1&&(e.transparent=!0)}return void 0!==o&&void 0!==o.technique&&1===o.technique.double_sided&&(e.side=THREE.DoubleSide),e}function tt(t){return f(te.materials[t],$)}function et(t){for(var i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];switch(e.nodeName){case"technique_common":return it(e)}}return{}}function it(t){for(var data={},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];switch(e.nodeName){case"perspective":case"orthographic":data.technique=e.nodeName,data.parameters=nt(e)}}return data}function nt(t){for(var data={},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];switch(e.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":data[e.nodeName]=parseFloat(e.textContent)}}return data}function at(data){var t;switch(data.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(data.optics.parameters.yfov,data.optics.parameters.aspect_ratio,data.optics.parameters.znear,data.optics.parameters.zfar);break;case"orthographic":var e=data.optics.parameters.ymag,n=data.optics.parameters.xmag,r=data.optics.parameters.aspect_ratio;n=void 0===n?e*r:n,e=void 0===e?n/r:e,n*=.5,e*=.5,t=new THREE.OrthographicCamera(-n,n,e,-e,data.optics.parameters.znear,data.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=data.name,t}function ot(t){var data=te.cameras[t];return void 0!==data?f(data,at):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",t),null)}function st(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"directional":case"point":case"spot":case"ambient":data.technique=n.nodeName,data.parameters=pt(n)}}return data}function pt(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"color":var o=n(r.textContent);data.color=(new THREE.Color).fromArray(o);break;case"falloff_angle":data.falloffAngle=parseFloat(r.textContent);break;case"quadratic_attenuation":var l=parseFloat(r.textContent);data.distance=l?Math.sqrt(1/l):0}}return data}function lt(data){var t;switch(data.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return data.parameters.color&&t.color.copy(data.parameters.color),data.parameters.distance&&(t.distance=data.parameters.distance),t}function ct(t){var data=te.lights[t];return void 0!==data?f(data,lt):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",t),null)}function mt(r){for(var data={array:[],stride:3},i=0;i<r.childNodes.length;i++){var o=r.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case"float_array":data.array=n(o.textContent);break;case"Name_array":data.array=e(o.textContent);break;case"technique_common":var l=t(o,"accessor")[0];void 0!==l&&(data.stride=parseInt(l.getAttribute("stride")))}}return data}function ht(t){for(var data={},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];1===e.nodeType&&(data[e.getAttribute("semantic")]=o(e.getAttribute("source")))}return data}function ut(t){for(var e={type:t.nodeName,material:t.getAttribute("material"),count:parseInt(t.getAttribute("count")),inputs:{},stride:0,hasUV:!1},i=0,n=t.childNodes.length;i<n;i++){var l=t.childNodes[i];if(1===l.nodeType)switch(l.nodeName){case"input":var c=o(l.getAttribute("source")),d=l.getAttribute("semantic"),m=parseInt(l.getAttribute("offset")),h=parseInt(l.getAttribute("set")),f=h>0?d+h:d;e.inputs[f]={id:c,offset:m},e.stride=Math.max(e.stride,m+1),"TEXCOORD"===d&&(e.hasUV=!0);break;case"vcount":e.vcount=r(l.textContent);break;case"p":e.p=r(l.textContent)}}return e}function ft(t){for(var e=0,i=0,n=t.length;i<n;i++){!0===t[i].hasUV&&e++}e>0&&e<t.length&&(t.uvsNeedsFix=!0)}function gt(data){var t={},e=data.sources,n=data.vertices,r=data.primitives;if(0===r.length)return{};var o=function(t){for(var e={},i=0;i<t.length;i++){var n=t[i];void 0===e[n.type]&&(e[n.type]=[]),e[n.type].push(n)}return e}(r);for(var l in o){var c=o[l];ft(c),t[l]=vt(c,e,n)}return t}function vt(t,e,n){for(var r={},o={array:[],stride:0},l={array:[],stride:0},c={array:[],stride:0},d={array:[],stride:0},m={array:[],stride:0},h=[],f=4,v=[],x=4,y=new THREE.BufferGeometry,w=[],A=0,p=0;p<t.length;p++){var E=t[p],M=E.inputs,T=0;switch(E.type){case"lines":case"linestrips":T=2*E.count;break;case"triangles":T=3*E.count;break;case"polylist":for(var g=0;g<E.count;g++){var _=E.vcount[g];switch(_){case 3:T+=3;break;case 4:T+=6;break;default:T+=3*(_-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",E.type)}for(var S in y.addGroup(A,T,p),A+=T,E.material&&w.push(E.material),M){var input=M[S];switch(S){case"VERTEX":for(var C in n){var L=n[C];switch(C){case"POSITION":var R=o.array.length;if(xt(E,e[L],input.offset,o.array),o.stride=e[L].stride,e.skinWeights&&e.skinIndices&&(xt(E,e.skinIndices,input.offset,h),xt(E,e.skinWeights,input.offset,v)),!1===E.hasUV&&!0===t.uvsNeedsFix){T=(o.array.length-R)/o.stride;for(var i=0;i<T;i++)c.array.push(0,0)}break;case"NORMAL":xt(E,e[L],input.offset,l.array),l.stride=e[L].stride;break;case"COLOR":xt(E,e[L],input.offset,m.array),m.stride=e[L].stride;break;case"TEXCOORD":xt(E,e[L],input.offset,c.array),c.stride=e[L].stride;break;case"TEXCOORD1":xt(E,e[L],input.offset,d.array),c.stride=e[L].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',C)}}break;case"NORMAL":xt(E,e[input.id],input.offset,l.array),l.stride=e[input.id].stride;break;case"COLOR":xt(E,e[input.id],input.offset,m.array),m.stride=e[input.id].stride;break;case"TEXCOORD":xt(E,e[input.id],input.offset,c.array),c.stride=e[input.id].stride;break;case"TEXCOORD1":xt(E,e[input.id],input.offset,d.array),d.stride=e[input.id].stride}}}return o.array.length>0&&y.addAttribute("position",new THREE.Float32BufferAttribute(o.array,o.stride)),l.array.length>0&&y.addAttribute("normal",new THREE.Float32BufferAttribute(l.array,l.stride)),m.array.length>0&&y.addAttribute("color",new THREE.Float32BufferAttribute(m.array,m.stride)),c.array.length>0&&y.addAttribute("uv",new THREE.Float32BufferAttribute(c.array,c.stride)),d.array.length>0&&y.addAttribute("uv2",new THREE.Float32BufferAttribute(d.array,d.stride)),h.length>0&&y.addAttribute("skinIndex",new THREE.Float32BufferAttribute(h,f)),v.length>0&&y.addAttribute("skinWeight",new THREE.Float32BufferAttribute(v,x)),r.data=y,r.type=t[0].type,r.materialKeys=w,r}function xt(t,source,e,n){var r=t.p,o=t.stride,l=t.vcount;function c(i){for(var t=r[i+e]*m,o=t+m;t<o;t++)n.push(d[t])}var d=source.array,m=source.stride;if(void 0!==t.vcount)for(var h=0,i=0,f=l.length;i<f;i++){var v=l[i];if(4===v){var b=h+1*o,x=h+2*o,y=h+3*o;c(h+0*o),c(b),c(y),c(b),c(x),c(y)}else if(3===v){b=h+1*o,x=h+2*o;c(h+0*o),c(b),c(x)}else if(v>4)for(var w=1,A=v-2;w<=A;w++){b=h+o*w,x=h+o*(w+1);c(h+0*o),c(b),c(x)}h+=o*v}else for(i=0,f=r.length;i<f;i+=o)c(i)}function yt(t){return f(te.geometries[t],gt)}function bt(data){return void 0!==data.build?data.build:data}function wt(t,data){for(var i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"joint":data.joints[e.getAttribute("sid")]=At(e);break;case"link":data.links.push(Mt(e))}}}function At(t){for(var data,i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"prismatic":case"revolute":data=Et(e)}}return data}function Et(t,data){data={sid:t.getAttribute("sid"),name:t.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:t.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"axis":var r=n(e.textContent);data.axis.fromArray(r);break;case"limits":var o=e.getElementsByTagName("max")[0],l=e.getElementsByTagName("min")[0];data.limits.max=parseFloat(o.textContent),data.limits.min=parseFloat(l.textContent)}}return data.limits.min>=data.limits.max&&(data.static=!0),data.middlePosition=(data.limits.min+data.limits.max)/2,data}function Mt(t){for(var data={sid:t.getAttribute("sid"),name:t.getAttribute("name")||"",attachments:[],transforms:[]},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"attachment_full":data.attachments.push(Tt(e));break;case"matrix":case"translate":case"rotate":data.transforms.push(_t(e))}}return data}function Tt(t){for(var data={joint:t.getAttribute("joint").split("/").pop(),transforms:[],links:[]},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"link":data.links.push(Mt(e));break;case"matrix":case"translate":case"rotate":data.transforms.push(_t(e))}}return data}function _t(t){var data={type:t.nodeName},e=n(t.textContent);switch(data.type){case"matrix":data.obj=new THREE.Matrix4,data.obj.fromArray(e).transpose();break;case"translate":data.obj=new THREE.Vector3,data.obj.fromArray(e);break;case"rotate":data.obj=new THREE.Vector3,data.obj.fromArray(e),data.angle=THREE.Math.degToRad(e[3])}return data}function St(t,data){for(var i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"technique_common":Ct(e,data)}}}function Ct(t,data){for(var i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"inertia":data.inertia=n(e.textContent);break;case"mass":data.mass=n(e.textContent)[0]}}}function Lt(t){for(var data={target:t.getAttribute("target").split("/").pop()},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"axis":var param=e.getElementsByTagName("param")[0];data.axis=param.textContent;var n=data.axis.split("inst_").pop().split("axis")[0];data.jointIndex=n.substr(0,n.length-1)}}return data}function Rt(data){return void 0!==data.build?data.build:data}function kt(t){for(var e=[],r=qt.querySelector('[id="'+t.id+'"]'),i=0;i<r.childNodes.length;i++){var o=r.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case"matrix":var l=n(o.textContent),c=(new THREE.Matrix4).fromArray(l).transpose();e.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:c});break;case"translate":case"scale":l=n(o.textContent);var d=(new THREE.Vector3).fromArray(l);e.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:d});break;case"rotate":l=n(o.textContent),d=(new THREE.Vector3).fromArray(l);var m=THREE.Math.degToRad(l[3]);e.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:d,angle:m})}}return e}var Pt=new THREE.Matrix4,Dt=new THREE.Vector3;function Ot(t){for(var data={name:t.getAttribute("name")||"",type:t.getAttribute("type"),id:t.getAttribute("id"),sid:t.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"node":data.nodes.push(e.getAttribute("id")),Ot(e);break;case"instance_camera":data.instanceCameras.push(o(e.getAttribute("url")));break;case"instance_controller":data.instanceControllers.push(It(e));break;case"instance_light":data.instanceLights.push(o(e.getAttribute("url")));break;case"instance_geometry":data.instanceGeometries.push(It(e));break;case"instance_node":data.instanceNodes.push(o(e.getAttribute("url")));break;case"matrix":var r=n(e.textContent);data.matrix.multiply(Pt.fromArray(r).transpose()),data.transforms[e.getAttribute("sid")]=e.nodeName;break;case"translate":r=n(e.textContent);Dt.fromArray(r),data.matrix.multiply(Pt.makeTranslation(Dt.x,Dt.y,Dt.z)),data.transforms[e.getAttribute("sid")]=e.nodeName;break;case"rotate":r=n(e.textContent);var l=THREE.Math.degToRad(r[3]);data.matrix.multiply(Pt.makeRotationAxis(Dt.fromArray(r),l)),data.transforms[e.getAttribute("sid")]=e.nodeName;break;case"scale":r=n(e.textContent);data.matrix.scale(Dt.fromArray(r)),data.transforms[e.getAttribute("sid")]=e.nodeName;break;case"extra":break;default:console.log(e)}}return zt(data.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",data.id):te.nodes[data.id]=data,data}function It(t){for(var data={id:o(t.getAttribute("url")),materials:{},skeletons:[]},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];switch(e.nodeName){case"bind_material":for(var n=e.getElementsByTagName("instance_material"),r=0;r<n.length;r++){var l=n[r],symbol=l.getAttribute("symbol"),c=l.getAttribute("target");data.materials[symbol]=o(c)}break;case"skeleton":data.skeletons.push(o(e.textContent))}}return data}function Bt(t,e){var i,data,n,r=[],o=[];for(i=0;i<t.length;i++){var l=t[i];if(zt(l))Nt(Vt(l),e,r);else if(n=l,void 0!==te.visualScenes[n])for(var c=te.visualScenes[l].children,d=0;d<c.length;d++){var m=c[d];if("JOINT"===m.type)Nt(Vt(m.id),e,r)}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",l)}for(i=0;i<e.length;i++)for(d=0;d<r.length;d++)if((data=r[d]).bone.name===e[i].name){o[i]=data,data.processed=!0;break}for(i=0;i<r.length;i++)!1===(data=r[i]).processed&&(o.push(data),data.processed=!0);var h=[],f=[];for(i=0;i<o.length;i++)data=o[i],h.push(data.bone),f.push(data.boneInverse);return new THREE.Skeleton(h,f)}function Nt(t,e,n){t.traverse((function(object){if(!0===object.isBone){for(var t,i=0;i<e.length;i++){var r=e[i];if(r.name===object.name){t=r.boneInverse;break}}void 0===t&&(t=new THREE.Matrix4),n.push({bone:object,boneInverse:t,processed:!1})}}))}function Ft(data){for(var t,e=[],n=data.matrix,r=data.nodes,o=data.type,l=data.instanceCameras,c=data.instanceControllers,d=data.instanceLights,m=data.instanceGeometries,h=data.instanceNodes,i=0,v=r.length;i<v;i++)e.push(Vt(r[i]));for(i=0,v=l.length;i<v;i++){var x=ot(l[i]);null!==x&&e.push(x.clone())}for(i=0,v=c.length;i<v;i++)for(var y=c[i],w=(t=y.id,f(te.controllers[t],B)),A=Ut(yt(w.id),y.materials),E=Bt(y.skeletons,w.skin.joints),M=0,T=A.length;M<T;M++){var object;(object=A[M]).isSkinnedMesh&&(object.bind(E,w.skin.bindMatrix),object.normalizeSkinWeights()),e.push(object)}for(i=0,v=d.length;i<v;i++){var _=ct(d[i]);null!==_&&e.push(_.clone())}for(i=0,v=m.length;i<v;i++)for(M=0,T=(A=Ut(yt((y=m[i]).id),y.materials)).length;M<T;M++)e.push(A[M]);for(i=0,v=h.length;i<v;i++)e.push(Vt(h[i]).clone());if(0===r.length&&1===e.length)object=e[0];else{object="JOINT"===o?new THREE.Bone:new THREE.Group;for(i=0;i<e.length;i++)object.add(e[i])}return""===object.name&&(object.name="JOINT"===o?data.sid:data.name),object.matrix.copy(n),object.matrix.decompose(object.position,object.quaternion,object.scale),object}var jt=new THREE.MeshBasicMaterial({color:16711935});function Ht(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=e[t[i]];void 0===o?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",t[i]),n.push(jt)):n.push(tt(o))}return n}function Ut(t,e){var n=[];for(var r in t){var o=t[r],l=Ht(o.materialKeys,e);0===l.length&&("lines"===r||"linestrips"===r?l.push(new THREE.LineBasicMaterial):l.push(new THREE.MeshPhongMaterial));var c=void 0!==o.data.attributes.skinIndex;if(c)for(var i=0,d=l.length;i<d;i++)l[i].skinning=!0;var object,m=1===l.length?l[0]:l;switch(r){case"lines":object=new THREE.LineSegments(o.data,m);break;case"linestrips":object=new THREE.Line(o.data,m);break;case"triangles":case"polylist":object=c?new THREE.SkinnedMesh(o.data,m):new THREE.Mesh(o.data,m)}n.push(object)}return n}function zt(t){return void 0!==te.nodes[t]}function Vt(t){return f(te.nodes[t],Ft)}function Gt(data){var t=new THREE.Group;t.name=data.name;for(var e=data.children,i=0;i<e.length;i++){var n=e[i];t.add(Vt(n.id))}return t}function Wt(t){return f(te.visualScenes[t],Gt)}if(0===text.length)return{scene:new THREE.Scene};var qt=t((new DOMParser).parseFromString(text,"application/xml"),"COLLADA")[0],Xt=qt.getAttribute("version");console.log("THREE.ColladaLoader: File version",Xt);var Yt,Kt=function(e){return{unit:c(t(e,"unit")[0]),upAxis:d(t(e,"up_axis")[0])}}(t(qt,"asset")[0]),Qt=new THREE.TextureLoader(this.manager);Qt.setPath(this.resourcePath||path).setCrossOrigin(this.crossOrigin),THREE.TGALoader&&(Yt=new THREE.TGALoader(this.manager)).setPath(this.resourcePath||path);var Zt=[],Jt={},$t=0,te={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};m(qt,"library_animations","animation",(function(t){for(var data={sources:{},samplers:{},channels:{}},i=0,e=t.childNodes.length;i<e;i++){var n,r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"source":n=r.getAttribute("id"),data.sources[n]=mt(r);break;case"sampler":n=r.getAttribute("id"),data.samplers[n]=v(r);break;case"channel":n=r.getAttribute("target"),data.channels[n]=x(r);break;default:console.log(r)}}te.animations[t.getAttribute("id")]=data})),m(qt,"library_animation_clips","animation_clip",(function(t){for(var data={name:t.getAttribute("id")||"default",start:parseFloat(t.getAttribute("start")||0),end:parseFloat(t.getAttribute("end")||0),animations:[]},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"instance_animation":data.animations.push(o(n.getAttribute("url")))}}te.clips[t.getAttribute("id")]=data})),m(qt,"library_controllers","controller",(function(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"skin":data.id=o(n.getAttribute("source")),data.skin=D(n);break;case"morph":data.id=o(n.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}te.controllers[t.getAttribute("id")]=data})),m(qt,"library_images","image",(function(e){var data={init_from:t(e,"init_from")[0].textContent};te.images[e.getAttribute("id")]=data})),m(qt,"library_effects","effect",(function(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"profile_COMMON":data.profile=j(n)}}te.effects[t.getAttribute("id")]=data})),m(qt,"library_materials","material",(function(t){for(var data={name:t.getAttribute("name")},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"instance_effect":data.url=o(n.getAttribute("url"))}}te.materials[t.getAttribute("id")]=data})),m(qt,"library_cameras","camera",(function(t){for(var data={name:t.getAttribute("name")},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"optics":data.optics=et(n)}}te.cameras[t.getAttribute("id")]=data})),m(qt,"library_lights","light",(function(t){for(var data={},i=0,e=t.childNodes.length;i<e;i++){var n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"technique_common":data=st(n)}}te.lights[t.getAttribute("id")]=data})),m(qt,"library_geometries","geometry",(function(e){var data={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},n=t(e,"mesh")[0];if(void 0!==n){for(var i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(1===r.nodeType){var o=r.getAttribute("id");switch(r.nodeName){case"source":data.sources[o]=mt(r);break;case"vertices":data.vertices=ht(r);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",r.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":data.primitives.push(ut(r));break;default:console.log(r)}}}te.geometries[e.getAttribute("id")]=data}})),m(qt,"library_nodes","node",Ot),m(qt,"library_visual_scenes","visual_scene",(function(e){var data={name:e.getAttribute("name"),children:[]};!function(t){for(var e=t.getElementsByTagName("node"),i=0;i<e.length;i++){var element=e[i];!1===element.hasAttribute("id")&&element.setAttribute("id","three_default_"+$t++)}}(e);for(var n=t(e,"node"),i=0;i<n.length;i++)data.children.push(Ot(n[i]));te.visualScenes[e.getAttribute("id")]=data})),m(qt,"library_kinematics_models","kinematics_model",(function(t){for(var data={name:t.getAttribute("name")||"",joints:{},links:[]},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"technique_common":wt(e,data)}}te.kinematicsModels[t.getAttribute("id")]=data})),m(qt,"library_physics_models","physics_model",(function(t){for(var data={name:t.getAttribute("name")||"",rigidBodies:{}},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"rigid_body":data.rigidBodies[e.getAttribute("name")]={},St(e,data.rigidBodies[e.getAttribute("name")])}}te.physicsModels[t.getAttribute("id")]=data})),m(qt,"scene","instance_kinematics_scene",(function(t){for(var data={bindJointAxis:[]},i=0;i<t.childNodes.length;i++){var e=t.childNodes[i];if(1===e.nodeType)switch(e.nodeName){case"bind_joint_axis":data.bindJointAxis.push(Lt(e))}}te.kinematicsScenes[o(t.getAttribute("url"))]=data})),h(te.animations,y),h(te.clips,k),h(te.controllers,B),h(te.images,N),h(te.effects,J),h(te.materials,$),h(te.cameras,at),h(te.lights,lt),h(te.geometries,gt),h(te.visualScenes,Gt),function(){var t=te.clips;if(!0===l(t)){if(!1===l(te.animations)){var e=[];for(var n in te.animations)for(var r=w(n),i=0,o=r.length;i<o;i++)e.push(r[i]);Zt.push(new THREE.AnimationClip("default",-1,e))}}else for(var n in t)Zt.push(P(n))}(),function(){var t=Object.keys(te.kinematicsModels)[0],e=Object.keys(te.kinematicsScenes)[0],n=Object.keys(te.visualScenes)[0];if(void 0!==t&&void 0!==e){for(var r,o=(r=t,f(te.kinematicsModels[r],bt)),l=function(t){return f(te.kinematicsScenes[t],Rt)}(e),c=Wt(n),d=l.bindJointAxis,m={},i=0,h=d.length;i<h;i++){var v=d[i],x=qt.querySelector('[sid="'+v.target+'"]');if(x){var y=x.parentElement;A(v.jointIndex,y)}}var w=new THREE.Matrix4;Jt={joints:o&&o.joints,getJointValue:function(t){var e=m[t];if(e)return e.position;console.warn("THREE.ColladaLoader: Joint "+t+" doesn't exist.")},setJointValue:function(t,e){var n=m[t];if(n){var r=n.joint;if(e>r.limits.max||e<r.limits.min)console.warn("THREE.ColladaLoader: Joint "+t+" value "+e+" outside of limits (min: "+r.limits.min+", max: "+r.limits.max+").");else if(r.static)console.warn("THREE.ColladaLoader: Joint "+t+" is static.");else{var object=n.object,o=r.axis,l=n.transforms;Pt.identity();for(var i=0;i<l.length;i++){var c=l[i];if(c.sid&&-1!==c.sid.indexOf(t))switch(r.type){case"revolute":Pt.multiply(w.makeRotationAxis(o,THREE.Math.degToRad(e)));break;case"prismatic":Pt.multiply(w.makeTranslation(o.x*e,o.y*e,o.z*e));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+r.type)}else switch(c.type){case"matrix":Pt.multiply(c.obj);break;case"translate":Pt.multiply(w.makeTranslation(c.obj.x,c.obj.y,c.obj.z));break;case"scale":Pt.scale(c.obj);break;case"rotate":Pt.multiply(w.makeRotationAxis(c.obj,c.angle))}}object.matrix.copy(Pt),object.matrix.decompose(object.position,object.quaternion,object.scale),m[t].position=e}}else console.log("THREE.ColladaLoader: "+t+" does not exist.")}}}function A(t,e){var n=e.getAttribute("name"),r=o.joints[t];c.traverse((function(object){object.name===n&&(m[t]={object:object,transforms:kt(e),joint:r,position:r.zeroPosition})}))}}();var ee=function(e){return Wt(o(t(e,"instance_visual_scene")[0].getAttribute("url")))}(t(qt,"scene")[0]);return"Z_UP"===Kt.upAxis&&ee.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),ee.scale.multiplyScalar(Kt.unit),{animations:Zt,kinematics:Jt,library:te,scene:ee}}}},283:function(t,e,n){THREE.FBXLoader=n(284),t.exports=AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){const data=this.data;if(!data.src)return;this.remove();const t=new THREE.FBXLoader;data.crossorigin&&t.setCrossOrigin(data.crossorigin),t.load(data.src,this.load.bind(this))},load:function(t){this.model=t,this.el.setObject3D("mesh",t),this.el.emit("model-loaded",{format:"fbx",model:t})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},284:function(t,e){t.exports=THREE.FBXLoader=function(){var t,e,n;function r(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}function o(t){this.textureLoader=t}function l(){}function c(){}function d(){}function m(){}function h(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===e||e}function f(){}function v(text){var t=text.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function x(time){return time/46186158e3}r.prototype={constructor:r,crossOrigin:"anonymous",load:function(t,e,n,r){var o=this,l=THREE.LoaderUtils.extractUrlBase(t),c=new THREE.FileLoader(this.manager);c.setResponseType("arraybuffer"),c.load(t,(function(n){try{var c=o.parse(n,l);e(c)}catch(e){setTimeout((function(){r&&r(e),o.manager.itemError(t)}),0)}}),n,r)},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(e,n){if(c="Kaydara FBX Binary  \0",(l=e).byteLength>=c.length&&c===R(l,0,c.length))t=(new m).parse(e);else{var r=R(e);if(!function(text){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],cursor=0;for(var i=0;i<t.length;++i){if((n=void 0,n=text[(e=1)-1],text=text.slice(cursor+e),cursor++,n)===t[i])return!1}var e,n;return!0}(r))throw new Error("THREE.FBXLoader: Unknown format.");if(v(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+v(r));t=(new d).parse(r)}var l,c;return new o(new THREE.TextureLoader(this.manager).setPath(n).setCrossOrigin(this.crossOrigin)).parse(t)}},o.prototype={constructor:o,parse:function(){e=this.parseConnections();var t=this.parseImages(),r=this.parseTextures(t),o=this.parseMaterials(r),c=this.parseDeformers(),d=(new l).parse(c);return this.parseScene(c,d,o),n},parseConnections:function(){var e=new Map;"Connections"in t&&t.Connections.connections.forEach((function(t){var n=t[0],r=t[1],o=t[2];e.has(n)||e.set(n,{parents:[],children:[]});var l={ID:r,relationship:o};e.get(n).parents.push(l),e.has(r)||e.set(r,{parents:[],children:[]});var c={ID:n,relationship:o};e.get(r).children.push(c)}));return e},parseImages:function(){var e={},n={};if("Video"in t.Objects){var r=t.Objects.Video;for(var o in r){var l=r[o];if(e[m=parseInt(o)]=l.RelativeFilename||l.Filename,"Content"in l){var c=l.Content instanceof ArrayBuffer&&l.Content.byteLength>0,d="string"==typeof l.Content&&""!==l.Content;if(c||d){var image=this.parseImage(r[o]);n[l.RelativeFilename||l.Filename]=image}}}}for(var m in e){var h=e[m];void 0!==n[h]?e[m]=n[h]:e[m]=e[m].split("\\").pop()}return e},parseImage:function(t){var e,content=t.Content,n=t.RelativeFilename||t.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();switch(r){case"bmp":e="image/bmp";break;case"jpg":case"jpeg":e="image/jpeg";break;case"png":e="image/png";break;case"tif":e="image/tiff";break;case"tga":if("function"!=typeof THREE.TGALoader)return void console.warn("FBXLoader: THREE.TGALoader is required to load TGA textures");null===THREE.Loader.Handlers.get(".tga")&&THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),e="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+r+'" is not supported.')}if("string"==typeof content)return"data:"+e+";base64,"+content;var o=new Uint8Array(content);return window.URL.createObjectURL(new Blob([o],{type:e}))},parseTextures:function(e){var n=new Map;if("Texture"in t.Objects){var r=t.Objects.Texture;for(var o in r){var l=this.parseTexture(r[o],e);n.set(parseInt(o),l)}}return n},parseTexture:function(t,e){var n=this.loadTexture(t,e);n.ID=t.id,n.name=t.attrName;var r=t.WrapModeU,o=t.WrapModeV,l=void 0!==r?r.value:0,c=void 0!==o?o.value:0;if(n.wrapS=0===l?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,n.wrapT=0===c?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in t){var d=t.Scaling.value;n.repeat.x=d[0],n.repeat.y=d[1]}return n},loadTexture:function(t,n){var r,o,l=this.textureLoader.path,c=e.get(t.id).children;void 0!==c&&c.length>0&&void 0!==n[c[0].ID]&&(0!==(r=n[c[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var d=t.FileName.slice(-3).toLowerCase();if("tga"===d){var m=THREE.Loader.Handlers.get(".tga");null===m?(console.warn("FBXLoader: TGALoader not found, creating empty placeholder texture for",r),o=new THREE.Texture):o=m.load(r)}else"psd"===d?(console.warn("FBXLoader: PSD textures are not supported, creating empty placeholder texture for",r),o=new THREE.Texture):o=this.textureLoader.load(r);return this.textureLoader.setPath(l),o},parseMaterials:function(e){var n=new Map;if("Material"in t.Objects){var r=t.Objects.Material;for(var o in r){var l=this.parseMaterial(r[o],e);null!==l&&n.set(parseInt(o),l)}}return n},parseMaterial:function(t,n){var r=t.id,o=t.attrName,l=t.ShadingModel;if("object"==typeof l&&(l=l.value),!e.has(r))return null;var c,d=this.parseParameters(t,n,r);switch(l.toLowerCase()){case"phong":c=new THREE.MeshPhongMaterial;break;case"lambert":c=new THREE.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',l),c=new THREE.MeshPhongMaterial({color:3342591})}return c.setValues(d),c.name=o,c},parseParameters:function(t,n,r){var o={};t.BumpFactor&&(o.bumpScale=t.BumpFactor.value),t.Diffuse?o.color=(new THREE.Color).fromArray(t.Diffuse.value):t.DiffuseColor&&"Color"===t.DiffuseColor.type&&(o.color=(new THREE.Color).fromArray(t.DiffuseColor.value)),t.DisplacementFactor&&(o.displacementScale=t.DisplacementFactor.value),t.Emissive?o.emissive=(new THREE.Color).fromArray(t.Emissive.value):t.EmissiveColor&&"Color"===t.EmissiveColor.type&&(o.emissive=(new THREE.Color).fromArray(t.EmissiveColor.value)),t.EmissiveFactor&&(o.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),t.Opacity&&(o.opacity=parseFloat(t.Opacity.value)),o.opacity<1&&(o.transparent=!0),t.ReflectionFactor&&(o.reflectivity=t.ReflectionFactor.value),t.Shininess&&(o.shininess=t.Shininess.value),t.Specular?o.specular=(new THREE.Color).fromArray(t.Specular.value):t.SpecularColor&&"Color"===t.SpecularColor.type&&(o.specular=(new THREE.Color).fromArray(t.SpecularColor.value));var l=this;return e.get(r).children.forEach((function(t){var e=t.relationship;switch(e){case"Bump":o.bumpMap=l.getTexture(n,t.ID);break;case"DiffuseColor":o.map=l.getTexture(n,t.ID);break;case"DisplacementColor":o.displacementMap=l.getTexture(n,t.ID);break;case"EmissiveColor":o.emissiveMap=l.getTexture(n,t.ID);break;case"NormalMap":o.normalMap=l.getTexture(n,t.ID);break;case"ReflectionColor":o.envMap=l.getTexture(n,t.ID),o.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":o.specularMap=l.getTexture(n,t.ID);break;case"TransparentColor":o.alphaMap=l.getTexture(n,t.ID),o.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",e)}})),o},getTexture:function(n,r){return"LayeredTexture"in t.Objects&&r in t.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=e.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in t.Objects){var o=t.Objects.Deformer;for(var l in o){var c=o[l],d=e.get(parseInt(l));if("Skin"===c.attrType){var m=this.parseSkeleton(d,o);m.ID=l,d.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),m.geometryID=d.parents[0].ID,n[l]=m}else if("BlendShape"===c.attrType){var h={id:l};h.rawTargets=this.parseMorphTargets(d,o),h.id=l,d.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[l]=h}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(t,e){var n=[];return t.children.forEach((function(t){var r=e[t.ID];if("Cluster"===r.attrType){var o={ID:t.ID,indices:[],weights:[],transform:(new THREE.Matrix4).fromArray(r.Transform.a),transformLink:(new THREE.Matrix4).fromArray(r.TransformLink.a),linkMode:r.Mode};"Indexes"in r&&(o.indices=r.Indexes.a,o.weights=r.Weights.a),n.push(o)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(t,n){for(var r=[],i=0;i<t.children.length;i++){if(8===i){console.warn("FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.");break}var o=t.children[i],l=n[o.ID],c={name:l.attrName,initialWeight:l.DeformPercent,id:l.id,fullWeights:l.FullWeights.a};if("BlendShapeChannel"!==l.attrType)return;e.get(parseInt(o.ID)).children.forEach((function(t){void 0===t.relationship&&(c.geoID=t.ID)})),r.push(c)}return r},parseScene:function(r,o,l){n=new THREE.Group;var d=this.parseModels(r.skeletons,o,l),m=t.Objects.Model,h=this;d.forEach((function(t){var r=m[t.ID];h.setLookAtProperties(t,r),e.get(t.ID).parents.forEach((function(e){var n=d.get(e.ID);void 0!==n&&n.add(t)})),null===t.parent&&n.add(t)})),this.bindSkeleton(r.skeletons,o,d),this.createAmbientLight(),this.setupMorphMaterials();var f=(new c).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=f,n=n.children[0]),n.animations=f},parseModels:function(n,r,o){var l=new Map,c=t.Objects.Model;for(var d in c){var m=parseInt(d),h=c[d],f=e.get(m),v=this.buildSkeleton(f,n,m,h.attrName);if(!v){switch(h.attrType){case"Camera":v=this.createCamera(f);break;case"Light":v=this.createLight(f);break;case"Mesh":v=this.createMesh(f,r,o);break;case"NurbsCurve":v=this.createCurve(f,r);break;case"LimbNode":case"Null":default:v=new THREE.Group}v.name=THREE.PropertyBinding.sanitizeNodeName(h.attrName),v.ID=m}this.setModelTransforms(v,h),l.set(m,v)}return l},buildSkeleton:function(t,e,n,r){var o=null;return t.parents.forEach((function(t){for(var l in e){var c=e[l];c.rawBones.forEach((function(e,i){if(e.ID===t.ID){var l=o;(o=new THREE.Bone).matrixWorld.copy(e.transformLink),o.name=THREE.PropertyBinding.sanitizeNodeName(r),o.ID=n,c.bones[i]=o,null!==l&&o.add(l)}}))}})),o},createCamera:function(e){var n,r;if(e.children.forEach((function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(r=n)})),void 0===r)n=new THREE.Object3D;else{var o=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(o=1);var l=1;void 0!==r.NearPlane&&(l=r.NearPlane.value/1e3);var c=1e3;void 0!==r.FarPlane&&(c=r.FarPlane.value/1e3);var d=window.innerWidth,m=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(d=r.AspectWidth.value,m=r.AspectHeight.value);var h=d/m,f=45;void 0!==r.FieldOfView&&(f=r.FieldOfView.value);var v=r.FocalLength?r.FocalLength.value:null;switch(o){case 0:n=new THREE.PerspectiveCamera(f,h,l,c),null!==v&&n.setFocalLength(v);break;case 1:n=new THREE.OrthographicCamera(-d/2,d/2,m/2,-m/2,l,c);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),n=new THREE.Object3D}}return n},createLight:function(e){var n,r;if(e.children.forEach((function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(r=n)})),void 0===r)n=new THREE.Object3D;else{var o;o=void 0===r.LightType?0:r.LightType.value;var l=16777215;void 0!==r.Color&&(l=(new THREE.Color).fromArray(r.Color.value));var c=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(c=0);var d=0;void 0!==r.FarAttenuationEnd&&(d=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);switch(o){case 0:n=new THREE.PointLight(l,c,d,1);break;case 1:n=new THREE.DirectionalLight(l,c);break;case 2:var m=Math.PI/3;void 0!==r.InnerAngle&&(m=THREE.Math.degToRad(r.InnerAngle.value));var h=0;void 0!==r.OuterAngle&&(h=THREE.Math.degToRad(r.OuterAngle.value),h=Math.max(h,1)),n=new THREE.SpotLight(l,c,d,m,h,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a THREE.PointLight."),n=new THREE.PointLight(l,c)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(t,e,n){var r,o=null,l=null,c=[];return t.children.forEach((function(t){e.has(t.ID)&&(o=e.get(t.ID)),n.has(t.ID)&&c.push(n.get(t.ID))})),c.length>1?l=c:c.length>0?l=c[0]:(l=new THREE.MeshPhongMaterial({color:13421772}),c.push(l)),"color"in o.attributes&&c.forEach((function(t){t.vertexColors=THREE.VertexColors})),o.FBX_Deformer?(c.forEach((function(t){t.skinning=!0})),r=new THREE.SkinnedMesh(o,l)):r=new THREE.Mesh(o,l),r},createCurve:function(t,e){var n=t.children.reduce((function(t,n){return e.has(n.ID)&&(t=e.get(n.ID)),t}),null),r=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(n,r)},setModelTransforms:function(t,e){var n={};"RotationOrder"in e&&(n.eulerOrder=parseInt(e.RotationOrder.value)),"Lcl_Translation"in e&&(n.translation=e.Lcl_Translation.value),"RotationOffset"in e&&(n.rotationOffset=e.RotationOffset.value),"Lcl_Rotation"in e&&(n.rotation=e.Lcl_Rotation.value),"PreRotation"in e&&(n.preRotation=e.PreRotation.value),"PostRotation"in e&&(n.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(n.scale=e.Lcl_Scaling.value);var r=S(n);t.applyMatrix(r)},setLookAtProperties:function(r,o){"LookAtProperty"in o&&e.get(r.ID).children.forEach((function(e){if("LookAtProperty"===e.relationship){var o=t.Objects.Model[e.ID];if("Lcl_Translation"in o){var l=o.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(l),n.add(r.target)):r.lookAt((new THREE.Vector3).fromArray(l))}}}))},bindSkeleton:function(t,n,r){var o=this.parsePoseNodes();for(var l in t){var c=t[l];e.get(parseInt(c.ID)).parents.forEach((function(t){if(n.has(t.ID)){var l=t.ID;e.get(l).parents.forEach((function(t){r.has(t.ID)&&r.get(t.ID).bind(new THREE.Skeleton(c.bones),o[t.ID])}))}}))}},parsePoseNodes:function(){var e={};if("Pose"in t.Objects){var n=t.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var o=n[r].PoseNode;Array.isArray(o)?o.forEach((function(t){e[t.Node]=(new THREE.Matrix4).fromArray(t.Matrix.a)})):e[o.Node]=(new THREE.Matrix4).fromArray(o.Matrix.a)}}return e},createAmbientLight:function(){if("GlobalSettings"in t&&"AmbientColor"in t.GlobalSettings){var e=t.GlobalSettings.AmbientColor.value,r=e[0],g=e[1],b=e[2];if(0!==r||0!==g||0!==b){var o=new THREE.Color(r,g,b);n.add(new THREE.AmbientLight(o,1))}}},setupMorphMaterials:function(){n.traverse((function(t){if(t.isMesh&&(t.geometry.morphAttributes.position||t.geometry.morphAttributes.normal)){var e=t.uuid,r=t.material.uuid,o=!1;n.traverse((function(t){t.isMesh&&t.material.uuid===r&&t.uuid!==e&&(o=!0)})),!0===o&&(t.material=t.material.clone()),t.material.morphTargets=!0}}))}},l.prototype={constructor:l,parse:function(n){var r=new Map;if("Geometry"in t.Objects){var o=t.Objects.Geometry;for(var l in o){var c=e.get(parseInt(l)),d=this.parseGeometry(c,o[l],n);r.set(parseInt(l),d)}}return r},parseGeometry:function(t,e,n){switch(e.attrType){case"Mesh":return this.parseMeshGeometry(t,e,n);case"NurbsCurve":return this.parseNurbsGeometry(e)}},parseMeshGeometry:function(e,n,r){var o=r.skeletons,l=r.morphTargets,c=e.parents.map((function(e){return t.Objects.Model[e.ID]}));if(0!==c.length){var d=e.children.reduce((function(t,e){return void 0!==o[e.ID]&&(t=o[e.ID]),t}),null),m=e.children.reduce((function(t,e){return void 0!==l[e.ID]&&(t=l[e.ID]),t}),null),h=c[0],f={};"RotationOrder"in h&&(f.eulerOrder=h.RotationOrder.value),"GeometricTranslation"in h&&(f.translation=h.GeometricTranslation.value),"GeometricRotation"in h&&(f.rotation=h.GeometricRotation.value),"GeometricScaling"in h&&(f.scale=h.GeometricScaling.value);var v=S(f);return this.genGeometry(n,d,m,v)}},genGeometry:function(t,e,n,r){var o=new THREE.BufferGeometry;t.attrName&&(o.name=t.attrName);var l=this.parseGeoNode(t,e),c=this.genBuffers(l),d=new THREE.Float32BufferAttribute(c.vertex,3);if(r.applyToBufferAttribute(d),o.addAttribute("position",d),c.colors.length>0&&o.addAttribute("color",new THREE.Float32BufferAttribute(c.colors,3)),e&&(o.addAttribute("skinIndex",new THREE.Uint16BufferAttribute(c.weightsIndices,4)),o.addAttribute("skinWeight",new THREE.Float32BufferAttribute(c.vertexWeights,4)),o.FBX_Deformer=e),c.normal.length>0){var m=new THREE.Float32BufferAttribute(c.normal,3);(new THREE.Matrix3).getNormalMatrix(r).applyToBufferAttribute(m),o.addAttribute("normal",m)}if(c.uvs.forEach((function(t,i){var e="uv"+(i+1).toString();0===i&&(e="uv"),o.addAttribute(e,new THREE.Float32BufferAttribute(c.uvs[i],2))})),l.material&&"AllSame"!==l.material.mappingType){var h=c.materialIndex[0],f=0;if(c.materialIndex.forEach((function(t,i){t!==h&&(o.addGroup(f,i-f,h),h=t,f=i)})),o.groups.length>0){var v=o.groups[o.groups.length-1],x=v.start+v.count;x!==c.materialIndex.length&&o.addGroup(x,c.materialIndex.length-x,h)}0===o.groups.length&&o.addGroup(0,c.materialIndex.length,c.materialIndex[0])}return this.addMorphTargets(o,t,n,r),o},parseGeoNode:function(t,e){var n={};if(n.vertexPositions=void 0!==t.Vertices?t.Vertices.a:[],n.vertexIndices=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(n.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(n.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(n.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){n.uv=[];for(var i=0;t.LayerElementUV[i];)n.uv.push(this.parseUVs(t.LayerElementUV[i])),i++}return n.weightTable={},null!==e&&(n.skeleton=e,e.rawBones.forEach((function(t,i){t.indices.forEach((function(e,r){void 0===n.weightTable[e]&&(n.weightTable[e]=[]),n.weightTable[e].push({id:i,weight:t.weights[r]})}))}))),n},genBuffers:function(t){var e={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,o=!1,l=[],c=[],d=[],m=[],h=[],f=[],v=this;return t.vertexIndices.forEach((function(x,y){var A=!1;x<0&&(x^=-1,A=!0);var E=[],M=[];if(l.push(3*x,3*x+1,3*x+2),t.color){var data=w(y,n,x,t.color);d.push(data[0],data[1],data[2])}if(t.skeleton){if(void 0!==t.weightTable[x]&&t.weightTable[x].forEach((function(t){M.push(t.weight),E.push(t.id)})),M.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);var T=[0,0,0,0],_=[0,0,0,0];M.forEach((function(t,e){var n=t,r=E[e];_.forEach((function(t,e,o){if(n>t){o[e]=n,n=t;var l=T[e];T[e]=r,r=l}}))})),E=T,M=_}for(;M.length<4;)M.push(0),E.push(0);for(var i=0;i<4;++i)h.push(M[i]),f.push(E[i])}if(t.normal){data=w(y,n,x,t.normal);c.push(data[0],data[1],data[2])}if(t.material&&"AllSame"!==t.material.mappingType)var S=w(y,n,x,t.material)[0];t.uv&&t.uv.forEach((function(t,i){var data=w(y,n,x,t);void 0===m[i]&&(m[i]=[]),m[i].push(data[0]),m[i].push(data[1])})),r++,A&&(v.genFace(e,t,l,S,c,d,m,h,f,r),n++,r=0,l=[],c=[],d=[],m=[],h=[],f=[])})),e},genFace:function(t,e,n,r,o,l,c,d,m,h){for(var i=2;i<h;i++)t.vertex.push(e.vertexPositions[n[0]]),t.vertex.push(e.vertexPositions[n[1]]),t.vertex.push(e.vertexPositions[n[2]]),t.vertex.push(e.vertexPositions[n[3*(i-1)]]),t.vertex.push(e.vertexPositions[n[3*(i-1)+1]]),t.vertex.push(e.vertexPositions[n[3*(i-1)+2]]),t.vertex.push(e.vertexPositions[n[3*i]]),t.vertex.push(e.vertexPositions[n[3*i+1]]),t.vertex.push(e.vertexPositions[n[3*i+2]]),e.skeleton&&(t.vertexWeights.push(d[0]),t.vertexWeights.push(d[1]),t.vertexWeights.push(d[2]),t.vertexWeights.push(d[3]),t.vertexWeights.push(d[4*(i-1)]),t.vertexWeights.push(d[4*(i-1)+1]),t.vertexWeights.push(d[4*(i-1)+2]),t.vertexWeights.push(d[4*(i-1)+3]),t.vertexWeights.push(d[4*i]),t.vertexWeights.push(d[4*i+1]),t.vertexWeights.push(d[4*i+2]),t.vertexWeights.push(d[4*i+3]),t.weightsIndices.push(m[0]),t.weightsIndices.push(m[1]),t.weightsIndices.push(m[2]),t.weightsIndices.push(m[3]),t.weightsIndices.push(m[4*(i-1)]),t.weightsIndices.push(m[4*(i-1)+1]),t.weightsIndices.push(m[4*(i-1)+2]),t.weightsIndices.push(m[4*(i-1)+3]),t.weightsIndices.push(m[4*i]),t.weightsIndices.push(m[4*i+1]),t.weightsIndices.push(m[4*i+2]),t.weightsIndices.push(m[4*i+3])),e.color&&(t.colors.push(l[0]),t.colors.push(l[1]),t.colors.push(l[2]),t.colors.push(l[3*(i-1)]),t.colors.push(l[3*(i-1)+1]),t.colors.push(l[3*(i-1)+2]),t.colors.push(l[3*i]),t.colors.push(l[3*i+1]),t.colors.push(l[3*i+2])),e.material&&"AllSame"!==e.material.mappingType&&(t.materialIndex.push(r),t.materialIndex.push(r),t.materialIndex.push(r)),e.normal&&(t.normal.push(o[0]),t.normal.push(o[1]),t.normal.push(o[2]),t.normal.push(o[3*(i-1)]),t.normal.push(o[3*(i-1)+1]),t.normal.push(o[3*(i-1)+2]),t.normal.push(o[3*i]),t.normal.push(o[3*i+1]),t.normal.push(o[3*i+2])),e.uv&&e.uv.forEach((function(e,n){void 0===t.uvs[n]&&(t.uvs[n]=[]),t.uvs[n].push(c[n][0]),t.uvs[n].push(c[n][1]),t.uvs[n].push(c[n][2*(i-1)]),t.uvs[n].push(c[n][2*(i-1)+1]),t.uvs[n].push(c[n][2*i]),t.uvs[n].push(c[n][2*i+1])}))},addMorphTargets:function(e,n,r,o){if(null!==r){e.morphAttributes.position=[],e.morphAttributes.normal=[];var l=this;r.rawTargets.forEach((function(r){var c=t.Objects.Geometry[r.geoID];void 0!==c&&l.genMorphGeometry(e,n,c,o)}))}},genMorphGeometry:function(t,e,n,r){var o=new THREE.BufferGeometry;n.attrName&&(o.name=n.attrName);for(var l=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],c=void 0!==e.Vertices?e.Vertices.a.slice():[],d=void 0!==n.Vertices?n.Vertices.a:[],m=void 0!==n.Indexes?n.Indexes.a:[],i=0;i<m.length;i++){var h=3*m[i];c[h]+=d[3*i],c[h+1]+=d[3*i+1],c[h+2]+=d[3*i+2]}var f={vertexIndices:l,vertexPositions:c},v=this.genBuffers(f),x=new THREE.Float32BufferAttribute(v.vertex,3);x.name=n.attrName,r.applyToBufferAttribute(x),t.morphAttributes.position.push(x)},parseNormals:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Normals.a,o=[];return"IndexToDirect"===n&&("NormalIndex"in t?o=t.NormalIndex.a:"NormalsIndex"in t&&(o=t.NormalsIndex.a)),{dataSize:3,buffer:r,indices:o,mappingType:e,referenceType:n}},parseUVs:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.UV.a,o=[];return"IndexToDirect"===n&&(o=t.UVIndex.a),{dataSize:2,buffer:r,indices:o,mappingType:e,referenceType:n}},parseVertexColors:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Colors.a,o=[];return"IndexToDirect"===n&&(o=t.ColorIndex.a),{dataSize:4,buffer:r,indices:o,mappingType:e,referenceType:n}},parseMaterialIndices:function(t){var e=t.MappingInformationType,n=t.ReferenceInformationType;if("NoMappingInformation"===e)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=t.Materials.a,o=[],i=0;i<r.length;++i)o.push(i);return{dataSize:1,buffer:r,indices:o,mappingType:e,referenceType:n}},parseNurbsGeometry:function(t){if(void 0===THREE.NURBSCurve)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new THREE.BufferGeometry;var e=parseInt(t.Order);if(isNaN(e))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new THREE.BufferGeometry;for(var n,r,o=e-1,l=t.KnotVector.a,c=[],d=t.Points.a,i=0,m=d.length;i<m;i+=4)c.push((new THREE.Vector4).fromArray(d,i));if("Closed"===t.Form)c.push(c[0]);else if("Periodic"===t.Form){n=o,r=l.length-1-n;for(i=0;i<o;++i)c.push(c[i])}var h=new THREE.NURBSCurve(o,l,c,n,r).getPoints(7*c.length),f=new Float32Array(3*h.length);h.forEach((function(t,i){t.toArray(f,3*i)}));var v=new THREE.BufferGeometry;return v.addAttribute("position",new THREE.BufferAttribute(f,3)),v}},c.prototype={constructor:c,parse:function(){var t=[],e=this.parseClips();if(void 0===e)return t;for(var n in e){var r=e[n],o=this.addClip(r);t.push(o)}return t},parseClips:function(){if(void 0!==t.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var n=this.parseAnimationLayers(e);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var e=t.Objects.AnimationCurveNode,n=new Map;for(var r in e){var o=e[r];if(null!==o.attrName.match(/S|R|T|DeformPercent/)){var l={id:o.id,attr:o.attrName,curves:{}};n.set(l.id,l)}}return n},parseAnimationCurves:function(n){var r=t.Objects.AnimationCurve;for(var o in r){var l={id:r[o].id,times:r[o].KeyTime.a.map(x),values:r[o].KeyValueFloat.a},c=e.get(l.id);if(void 0!==c){var d=c.parents[0].ID,m=c.parents[0].relationship;m.match(/X/)?n.get(d).curves.x=l:m.match(/Y/)?n.get(d).curves.y=l:m.match(/Z/)?n.get(d).curves.z=l:m.match(/d|DeformPercent/)&&n.has(d)&&(n.get(d).curves.morph=l)}}},parseAnimationLayers:function(n){var r=t.Objects.AnimationLayer,o=new Map;for(var l in r){var c=[],d=e.get(parseInt(l));if(void 0!==d){var m=d.children,h=this;m.forEach((function(r,i){if(n.has(r.ID)){var o=n.get(r.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===c[i]){e.get(r.ID).parents.forEach((function(t){void 0!==t.relationship&&(x=t.ID)}));var l=t.Objects.Model[x.toString()],d={modelName:THREE.PropertyBinding.sanitizeNodeName(l.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1],transform:h.getModelAnimTransform(l)};"PreRotation"in l&&(d.preRotations=l.PreRotation.value),"PostRotation"in l&&(d.postRotations=l.PostRotation.value),c[i]=d}c[i][o.attr]=o}else if(void 0!==o.curves.morph){if(void 0===c[i]){var m;e.get(r.ID).parents.forEach((function(t){void 0!==t.relationship&&(m=t.ID)}));var f=e.get(m).parents[0].ID,v=e.get(f).parents[0].ID,x=e.get(v).parents[0].ID;l=t.Objects.Model[x],d={modelName:THREE.PropertyBinding.sanitizeNodeName(l.attrName),morphName:t.Objects.Deformer[m].attrName};c[i]=d}c[i][o.attr]=o}}})),o.set(parseInt(l),c)}}return o},getModelAnimTransform:function(t){var e={};return"RotationOrder"in t&&(e.eulerOrder=parseInt(t.RotationOrder.value)),"Lcl_Translation"in t&&(e.translation=t.Lcl_Translation.value),"RotationOffset"in t&&(e.rotationOffset=t.RotationOffset.value),"Lcl_Rotation"in t&&(e.rotation=t.Lcl_Rotation.value),"PreRotation"in t&&(e.preRotation=t.PreRotation.value),"PostRotation"in t&&(e.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(e.scale=t.Lcl_Scaling.value),S(e)},parseAnimStacks:function(n){var r=t.Objects.AnimationStack,o={};for(var l in r){var c=e.get(parseInt(l)).children;c.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var d=n.get(c[0].ID);o[l]={name:r[l].attrName,layer:d}}return o},addClip:function(t){var e=[],n=this;return t.layer.forEach((function(t){e=e.concat(n.generateTracks(t))})),new THREE.AnimationClip(t.name,-1,e)},generateTracks:function(t){var e=[],n=new THREE.Vector3,r=new THREE.Quaternion,o=new THREE.Vector3;if(t.transform&&t.transform.decompose(n,r,o),n=n.toArray(),r=(new THREE.Euler).setFromQuaternion(r).toArray(),o=o.toArray(),void 0!==t.T&&Object.keys(t.T.curves).length>0){var l=this.generateVectorTrack(t.modelName,t.T.curves,n,"position");void 0!==l&&e.push(l)}if(void 0!==t.R&&Object.keys(t.R.curves).length>0){var c=this.generateRotationTrack(t.modelName,t.R.curves,r,t.preRotations,t.postRotations);void 0!==c&&e.push(c)}if(void 0!==t.S&&Object.keys(t.S.curves).length>0){var d=this.generateVectorTrack(t.modelName,t.S.curves,o,"scale");void 0!==d&&e.push(d)}if(void 0!==t.DeformPercent){var m=this.generateMorphTrack(t);void 0!==m&&e.push(m)}return e},generateVectorTrack:function(t,e,n,r){var o=this.getTimesForAllAxes(e),l=this.getKeyframeTrackValues(o,e,n);return new THREE.VectorKeyframeTrack(t+"."+r,o,l)},generateRotationTrack:function(t,e,n,r,o){void 0!==e.x&&(this.interpolateRotations(e.x),e.x.values=e.x.values.map(THREE.Math.degToRad)),void 0!==e.y&&(this.interpolateRotations(e.y),e.y.values=e.y.values.map(THREE.Math.degToRad)),void 0!==e.z&&(this.interpolateRotations(e.z),e.z.values=e.z.values.map(THREE.Math.degToRad));var l=this.getTimesForAllAxes(e),c=this.getKeyframeTrackValues(l,e,n);void 0!==r&&((r=r.map(THREE.Math.degToRad)).push("ZYX"),r=(new THREE.Euler).fromArray(r),r=(new THREE.Quaternion).setFromEuler(r)),void 0!==o&&((o=o.map(THREE.Math.degToRad)).push("ZYX"),o=(new THREE.Euler).fromArray(o),o=(new THREE.Quaternion).setFromEuler(o).inverse());for(var d=new THREE.Quaternion,m=new THREE.Euler,h=[],i=0;i<c.length;i+=3)m.set(c[i],c[i+1],c[i+2],"ZYX"),d.setFromEuler(m),void 0!==r&&d.premultiply(r),void 0!==o&&d.multiply(o),d.toArray(h,i/3*4);return new THREE.QuaternionKeyframeTrack(t+".quaternion",l,h)},generateMorphTrack:function(t){var e=t.DeformPercent.curves.morph,r=e.values.map((function(t){return t/100})),o=n.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new THREE.NumberKeyframeTrack(t.modelName+".morphTargetInfluences["+o+"]",e.times,r)},getTimesForAllAxes:function(t){var e=[];return void 0!==t.x&&(e=e.concat(t.x.times)),void 0!==t.y&&(e=e.concat(t.y.times)),void 0!==t.z&&(e=e.concat(t.z.times)),e=e.sort((function(a,b){return a-b})).filter((function(t,e,n){return n.indexOf(t)==e}))},getKeyframeTrackValues:function(t,e,n){var r=n,o=[],l=-1,c=-1,d=-1;return t.forEach((function(time){if(e.x&&(l=e.x.times.indexOf(time)),e.y&&(c=e.y.times.indexOf(time)),e.z&&(d=e.z.times.indexOf(time)),-1!==l){var t=e.x.values[l];o.push(t),r[0]=t}else o.push(r[0]);if(-1!==c){var n=e.y.values[c];o.push(n),r[1]=n}else o.push(r[1]);if(-1!==d){var m=e.z.values[d];o.push(m),r[2]=m}else o.push(r[2])})),o},interpolateRotations:function(t){for(var i=1;i<t.values.length;i++){var e=t.values[i-1],n=t.values[i]-e,r=Math.abs(n);if(r>=180){for(var o=r/180,l=n/o,c=e+l,d=t.times[i-1],m=(t.times[i]-d)/o,h=d+m,f=[],v=[];h<t.times[i];)f.push(h),h+=m,v.push(c),c+=l;t.times=k(t.times,i,f),t.values=k(t.values,i,v)}}}},d.prototype={constructor:d,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(t){this.nodeStack.push(t),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(t,e){this.currentProp=t,this.currentPropName=e},parse:function(text){this.currentIndent=0,console.log("FBXTree: ",f),this.allNodes=new f,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,e=text.split(/[\r\n]+/);return e.forEach((function(line,i){var n=line.match(/^[\s\t]*;/),r=line.match(/^[\s\t]*$/);if(!n&&!r){var o=line.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),l=line.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=line.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(line,o):l?t.parseNodeProperty(line,l,e[++i]):c?t.popStack():line.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(line)}})),this.allNodes},parseNodeBegin:function(line,t){var e=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=t[2].split(",").map((function(t){return t.trim().replace(/^"/,"").replace(/"$/,"")})),r={name:e},o=this.parseNodeAttr(n),l=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(e,r):e in l?("PoseNode"===e?l.PoseNode.push(r):void 0!==l[e].id&&(l[e]={},l[e][l[e].id]=l[e]),""!==o.id&&(l[e][o.id]=r)):"number"==typeof o.id?(l[e]={},l[e][o.id]=r):"Properties70"!==e&&(l[e]="PoseNode"===e?[r]:r),"number"==typeof o.id&&(r.id=o.id),""!==o.name&&(r.attrName=o.name),""!==o.type&&(r.attrType=o.type),this.pushStack(r)},parseNodeAttr:function(t){var e=t[0];""!==t[0]&&(e=parseInt(t[0]),isNaN(e)&&(e=t[0]));var n="",r="";return t.length>1&&(n=t[1].replace(/^(\w+)::/,""),r=t[2]),{id:e,name:n,type:r}},parseNodeProperty:function(line,t,e){var n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),r=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===n&&","===r&&(r=e.replace(/"/g,"").replace(/,$/,"").trim());var o=this.getCurrentNode();if("Properties70"!==o.name){if("C"===n){var l=r.split(",").slice(1),c=parseInt(l[0]),d=parseInt(l[1]),m=r.split(",").slice(3);n="connections",function(a,b){for(var i=0,t=a.length,e=b.length;i<e;i++,t++)a[t]=b[i]}(r=[c,d],m=m.map((function(t){return t.trim().replace(/^"/,"")}))),void 0===o[n]&&(o[n]=[])}"Node"===n&&(o.id=r),n in o&&Array.isArray(o[n])?o[n].push(r):"a"!==n?o[n]=r:o.a=r,this.setCurrentProp(o,n),"a"===n&&","!==r.slice(-1)&&(o.a=L(r))}else this.parseNodeSpecialProperty(line,n,r)},parseNodePropertyContinued:function(line){var t=this.getCurrentNode();t.a+=line,","!==line.slice(-1)&&(t.a=L(t.a))},parseNodeSpecialProperty:function(line,t,e){var n=e.split('",').map((function(t){return t.trim().replace(/^\"/,"").replace(/\s/,"_")})),r=n[0],o=n[1],l=n[2],c=n[3],d=n[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":d=parseFloat(d);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":d=L(d)}this.getPrevNode()[r]={type:o,type2:l,flag:c,value:d},this.setCurrentProp(this.getPrevNode(),r)}},m.prototype={constructor:m,parse:function(t){var e=new h(t);e.skip(23);var n=e.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+n);for(var r=new f;!this.endOfContent(e);){var o=this.parseNode(e,n);null!==o&&r.add(o.name,o)}return r},endOfContent:function(t){return t.size()%16==0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()},parseNode:function(t,e){var n={},r=e>=7500?t.getUint64():t.getUint32(),o=e>=7500?t.getUint64():t.getUint32(),l=(e>=7500?t.getUint64():t.getUint32(),t.getUint8()),c=t.getString(l);if(0===r)return null;for(var d=[],i=0;i<o;i++)d.push(this.parseProperty(t));var m=d.length>0?d[0]:"",h=d.length>1?d[1]:"",f=d.length>2?d[2]:"";for(n.singleProperty=1===o&&t.getOffset()===r;r>t.getOffset();){var v=this.parseNode(t,e);null!==v&&this.parseSubNode(c,n,v)}return n.propertyList=d,"number"==typeof m&&(n.id=m),""!==h&&(n.attrName=h),""!==f&&(n.attrType=f),""!==c&&(n.name=c),n},parseSubNode:function(t,e,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(e[n.name]=n,n.a=r):e[n.name]=r}else if("Connections"===t&&"C"===n.name){var o=[];n.propertyList.forEach((function(t,i){0!==i&&o.push(t)})),void 0===e.connections&&(e.connections=[]),e.connections.push(o)}else if("Properties70"===n.name){Object.keys(n).forEach((function(t){e[t]=n[t]}))}else if("Properties70"===t&&"P"===n.name){var l,c=n.propertyList[0],d=n.propertyList[1],m=n.propertyList[2],h=n.propertyList[3];0===c.indexOf("Lcl ")&&(c=c.replace("Lcl ","Lcl_")),0===d.indexOf("Lcl ")&&(d=d.replace("Lcl ","Lcl_")),l="Color"===d||"ColorRGB"===d||"Vector"===d||"Vector3D"===d||0===d.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],e[c]={type:d,type2:m,flag:h,value:l}}else void 0===e[n.name]?"number"==typeof n.id?(e[n.name]={},e[n.name][n.id]=n):e[n.name]=n:"PoseNode"===n.name?(Array.isArray(e[n.name])||(e[n.name]=[e[n.name]]),e[n.name].push(n)):void 0===e[n.name][n.id]&&(e[n.name][n.id]=n)},parseProperty:function(t){var e=t.getString(1);switch(e){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":var n=t.getUint32();return t.getArrayBuffer(n);case"S":n=t.getUint32();return t.getString(n);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=t.getUint32(),o=t.getUint32(),l=t.getUint32();if(0===o)switch(e){case"b":case"c":return t.getBooleanArray(r);case"d":return t.getFloat64Array(r);case"f":return t.getFloat32Array(r);case"i":return t.getInt32Array(r);case"l":return t.getInt64Array(r)}"undefined"==typeof Zlib&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var c=new h(new Zlib.Inflate(new Uint8Array(t.getArrayBuffer(l))).decompress().buffer);switch(e){case"b":case"c":return c.getBooleanArray(r);case"d":return c.getFloat64Array(r);case"f":return c.getFloat32Array(r);case"i":return c.getInt32Array(r);case"l":return c.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+e)}}},h.prototype={constructor:h,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(t){this.offset+=t},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(t){for(var a=[],i=0;i<t;i++)a.push(this.getBoolean());return a},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var a=[],i=0;i<t;i++)a.push(this.getInt32());return a},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getInt64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),2147483648&e?(e=4294967295&~e,4294967295===(t=4294967295&~t)&&(e=e+1&4294967295),-(4294967296*e+(t=t+1&4294967295))):4294967296*e+t},getInt64Array:function(t){for(var a=[],i=0;i<t;i++)a.push(this.getInt64());return a},getUint64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),4294967296*e+t},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var a=[],i=0;i<t;i++)a.push(this.getFloat32());return a},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var a=[],i=0;i<t;i++)a.push(this.getFloat64());return a},getArrayBuffer:function(t){var e=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},getString:function(t){for(var a=[],i=0;i<t;i++)a[i]=this.getUint8();var e=a.indexOf(0);return e>=0&&(a=a.slice(0,e)),THREE.LoaderUtils.decodeText(new Uint8Array(a))}},f.prototype={constructor:f,add:function(t,e){this[t]=e}};var y=[];function w(t,e,n,r){var o;switch(r.mappingType){case"ByPolygonVertex":o=t;break;case"ByPolygon":o=e;break;case"ByVertice":o=n;break;case"AllSame":o=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(o=r.indices[o]);var l=o*r.dataSize,c=l+r.dataSize;return function(a,b,t,e){for(var i=t,n=0;i<e;i++,n++)a[n]=b[i];return a}(y,r.buffer,l,c)}var A=new THREE.Matrix4,E=new THREE.Euler,M=new THREE.Vector3,T=new THREE.Vector3,_=new THREE.Matrix4;function S(t){var e=new THREE.Matrix4;T.set(0,0,0),_.identity();var n,r=t.eulerOrder?C(t.eulerOrder):C(0);(t.translation&&T.fromArray(t.translation),t.rotationOffset&&T.add(M.fromArray(t.rotationOffset)),t.rotation)&&((n=t.rotation.map(THREE.Math.degToRad)).push(r),_.makeRotationFromEuler(E.fromArray(n)));t.preRotation&&((n=t.preRotation.map(THREE.Math.degToRad)).push(r),A.makeRotationFromEuler(E.fromArray(n)),_.premultiply(A));t.postRotation&&((n=t.postRotation.map(THREE.Math.degToRad)).push(r),A.makeRotationFromEuler(E.fromArray(n)),A.getInverse(A),_.multiply(A));return t.scale&&e.scale(M.fromArray(t.scale)),e.setPosition(T),e.multiply(_),e}function C(t){var e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===t?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[t]}function L(t){return t.split(",").map((function(t){return parseFloat(t)}))}function R(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(t,e,n))}function k(t,e,n){return t.slice(0,e).concat(n).concat(t.slice(e))}return r}()},285:function(t,e,n){const r=n(286)(),o=function(){let t;return function(){return t=t||r("https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js"),t}}();t.exports=AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){this.model=null,this.loader=null,this.loaderPromise=o().then(()=>{this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("Anonymous")})},update:function(){const t=this,e=this.el,n=this.data;n&&(this.remove(),this.loaderPromise.then(()=>{this.loader.load(n,(function(n){t.model=n.scene,t.model.animations=n.animations,e.setObject3D("mesh",t.model),e.emit("model-loaded",{format:"gltf",model:t.model})}))}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},286:function(t,e){function n(t){const script=document.getElementById(t),e=script.parentNode;try{e&&e.removeChild(script)}catch(t){}}function r(t,e,r){return new r((function(r,o){const l=e.timeout||5e3,c="script_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),script=function(t,e){var script=document.createElement("script");return script.type="text/javascript",script.async=!0,script.id=e,script.src=t,script}(t,c),d=setTimeout((function(){o(new Error("Script request to "+t+" timed out")),n(c)}),l),m=function(t){clearTimeout(t)};script.addEventListener("load",(function(t){r({ok:!0}),m(d),n(c)})),script.addEventListener("error",(function(e){o(new Error("Script request to "+t+" failed "+e)),m(d),n(c)})),function(script){const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(script,t)}(script)}))}t.exports=function(t){return t=t||{},function(e,n){return r(e,n=n||{},t.Promise||Promise)}}},287:function(t,e){t.exports=AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let t;const data=this.data;data.src&&(this.remove(),t=new THREE.ObjectLoader,data.crossorigin&&t.setCrossOrigin(data.crossorigin),t.load(data.src,object=>{object.traverse(t=>{t instanceof THREE.SkinnedMesh&&t.material&&(t.material.skinning=!!(t.geometry&&t.geometry.bones||[]).length)}),this.load(object)}))},load:function(t){this.model=t,this.el.setObject3D("mesh",t),this.el.emit("model-loaded",{format:"json",model:t})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},288:function(t,e,n){n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296)},289:function(t,e){t.exports=AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){const t=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!t)throw new Error("No `checkpoint-controls` component found.");t.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}})},290:function(t,e){function n(t,e,n,r){t&&(e=e||[],t.traverse(t=>{if(!t.isMesh)return;var o;((o=t.material)?Array.isArray(o)?o:o.materials?o.materials:[o]:[]).forEach(t=>{t&&!("envMap"in t)||e.length&&-1===e.indexOf(t.name)||(t.envMap=n,t.reflectivity=r,t.needsUpdate=!0)})}))}t.exports=AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},format:{default:"RGBFormat",oneOf:["RGBFormat","RGBAFormat"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){const data=this.data;this.texture=(new THREE.CubeTextureLoader).load([data.path+"posx."+data.extension,data.path+"negx."+data.extension,data.path+"posy."+data.extension,data.path+"negy."+data.extension,data.path+"posz."+data.extension,data.path+"negz."+data.extension]),this.texture.format=THREE[data.format],this.object3dsetHandler=()=>{const t=this.el.getObject3D("mesh"),data=this.data;n(t,data.materials,this.texture,data.reflectivity)},this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(t){const data=this.data,e=this.el.getObject3D("mesh");let r=[],o=[];if(data.materials.length&&(t.materials?(r=data.materials.filter(e=>!t.materials.includes(e)),o=t.materials.filter(t=>!data.materials.includes(t))):r=data.materials),r.length&&n(e,r,this.texture,data.reflectivity),o.length&&n(e,o,null,1),t.materials&&data.reflectivity!==t.reflectivity){const r=data.materials.filter(e=>t.materials.includes(e));r.length&&n(e,r,this.texture,data.reflectivity)}this.data.enableBackground&&!t.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&t.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);const t=this.el.getObject3D("mesh"),data=this.data;n(t,data.materials,null,1),data.enableBackground&&this.setBackground(null)},setBackground:function(t){this.el.sceneEl.object3D.background=t}})},291:function(t,e){t.exports=AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){const t=this.el;t.addEventListener("hit",this.onHit),t.addEventListener("gripdown",this.onGripClose),t.addEventListener("gripup",this.onGripOpen),t.addEventListener("trackpaddown",this.onGripClose),t.addEventListener("trackpadup",this.onGripOpen),t.addEventListener("triggerdown",this.onGripClose),t.addEventListener("triggerup",this.onGripOpen)},pause:function(){const t=this.el;t.removeEventListener("hit",this.onHit),t.removeEventListener("gripdown",this.onGripClose),t.removeEventListener("gripup",this.onGripOpen),t.removeEventListener("trackpaddown",this.onGripClose),t.removeEventListener("trackpadup",this.onGripOpen),t.removeEventListener("triggerdown",this.onGripClose),t.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){const t=this.hitEl;this.grabbing=!1,t&&(t.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(t){const e=t.detail.el;e&&!e.is(this.GRABBED_STATE)&&this.grabbing&&!this.hitEl&&(e.addState(this.GRABBED_STATE),this.hitEl=e,this.constraint=new CANNON.LockConstraint(this.el.body,e.body),this.system.addConstraint(this.constraint))}})},292:function(t,e){t.exports=AFRAME.registerComponent("jump-ability",{dependencies:["velocity"],schema:{on:{default:"keydown:Space gamepadbuttondown:0"},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;const t=this.beginJump.bind(this),e=this.data.on.split(" ");this.bindings={};for(let i=0;i<e.length;i++)this.bindings[e[i]]=t,this.el.addEventListener(e[i],t);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener("collide",this.bindings.collide)},remove:function(){for(var t in this.bindings)this.bindings.hasOwnProperty(t)&&(this.el.removeEventListener(t,this.bindings[t]),delete this.bindings[t]);this.el.removeEventListener("collide",this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps<this.data.maxJumps){const data=this.data,t=Math.sqrt(-2*data.distance*-24.8),e=this.el.getAttribute("velocity");this.el.setAttribute("velocity",{x:e.x,y:t,z:e.z}),this.numJumps++,this.el.emit("jumpstart")}},onCollide:function(){this.numJumps>0&&this.el.emit("jumpend"),this.numJumps=0}})},293:function(t,e){t.exports=AFRAME.registerComponent("kinematic-body",{dependencies:["velocity"],schema:{mass:{default:5},radius:{default:1.3},linearDamping:{default:.05},enableSlopes:{default:!0},enableJumps:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);const t=this.el,data=this.data,e=(new CANNON.Vec3).copy(t.object3D.getWorldPosition(new THREE.Vector3));this.body=new CANNON.Body({material:this.system.getMaterial("staticMaterial"),position:e,mass:data.mass,linearDamping:data.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(data.radius),new CANNON.Vec3(0,data.radius,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),t.hasAttribute("wasd-controls")&&console.warn("[kinematic-body] Not compatible with wasd-controls, use movement-controls.")},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(t,dt){if(!dt)return;const e=this.el,data=this.data,body=this.body;data.enableJumps||body.velocity.set(0,0,0),body.position.copy(e.getAttribute("position"))},step:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3;return function(o,dt){if(!dt)return;let l,c,body=this.body,data=this.data,d=!1,m=-1/0,h=this.system.getContacts();dt=Math.min(dt,1e3*this.system.data.maxInterval),r.set(0,0,0),t.copy(this.el.getAttribute("velocity")),body.velocity.copy(t);for(var f,i=0;f=h[i];i++)if(f.enabled){if(body.id===f.bi.id)f.ni.negate(n);else{if(body.id!==f.bj.id)continue;n.copy(f.ni)}d=body.velocity.dot(n)<-1e-6,d&&n.y<=.5?t.projectOnPlane(n):n.y>.5&&(l=body.id===f.bi.id?Math.abs(f.rj.y+f.bj.position.y):Math.abs(f.ri.y+f.bi.position.y),l>m&&(m=l,r.copy(n),c=body.id===f.bi.id?f.bj:f.bi))}e.copy(t).normalize(),c&&(!data.enableJumps||e.y<.5)?(data.enableSlopes?r.y<.999999&&r.copy(this.raycastToGround(c,r)):r.set(0,1,0),t.projectOnPlane(r)):this.system.driver.world&&t.add(this.system.driver.world.gravity.scale(4*dt/1e3)),body.velocity.copy(t),this.el.setAttribute("velocity",body.velocity),this.el.setAttribute("position",body.position)}}(),raycastToGround:function(t,e){let n,r,o=this.body.position,l=this.body.position.clone();return n=new CANNON.Ray(o,l),n._updateDirection(),n.intersectBody(t),n.hasHit?(r=n.result.hitNormalWorld,Math.abs(r.y)>Math.abs(e.y)?r:e):e}})},294:function(t,e){t.exports=AFRAME.registerComponent("mesh-smooth",{init:function(){this.el.addEventListener("model-loaded",t=>{t.detail.model.traverse(t=>{t.isMesh&&t.geometry.computeVertexNormals()})})}})},295:function(t,e){t.exports=AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial)},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){this.el.object3D.traverse(t=>{t.isMesh&&(t.material=this.material)})}})},296:function(t,e){t.exports=AFRAME.registerComponent("sphere-collider",{schema:{objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){const t=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(t,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){const data=this.data;let t;t=data.objects?this.el.sceneEl.querySelectorAll(data.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(t)},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Box3,l=new Map;return function(){const c=this.el,data=this.data,d=c.getObject3D("mesh"),m=[];let h;var f;d&&(l.clear(),c.object3D.getWorldPosition(t),c.object3D.getWorldScale(n),h=data.radius*(f=n,Math.max.apply(null,f.toArray())),this.els.forEach((function(n){let c,d,f,v;if(!n.isEntity)return;if(d=n.getObject3D("mesh"),!d)return;if(o.setFromObject(d).getSize(r),v=Math.max(r.x,r.y,r.z)/2,c=Math.sqrt(2*v*v),o.getCenter(e),!c)return;f=t.distanceTo(e),f<c+h&&(m.push(n),l.set(n,f))})),m.sort((a,b)=>l.get(a)>l.get(b)?1:-1).forEach(this.handleHit),0===m.length&&c.emit("hit",{el:null}),this.collisions.filter(t=>!l.has(t)).forEach(this.handleHitEnd),this.collisions=m)}}(),handleHit:function(t){t.emit("hit"),t.addState(this.data.state),this.el.emit("hit",{el:t})},handleHitEnd:function(t){t.emit("hitend"),t.removeState(this.data.state),this.el.emit("hitend",{el:t})}})},297:function(t,e,n){n(298),n(299),n(300)},298:function(t,e){t.exports=AFRAME.registerComponent("nav-mesh",{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){const object=this.el.getObject3D("mesh"),t=this.el.sceneEl.object3D;if(!object)return;let e;if(object.traverse(t=>{t.isMesh&&(e=t)}),!e)return;const n=e.geometry.isBufferGeometry?(new THREE.Geometry).fromBufferGeometry(e.geometry):e.geometry.clone();t.updateMatrixWorld(),n.applyMatrix(e.matrixWorld),this.system.setNavMeshGeometry(n),this.hasLoadedNavMesh=!0}})},299:function(t,e){t.exports=AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;return function(r,dt){const o=this.el,data=this.data,l=this.raycaster,c=data.speed*dt/1e3;if(!data.active)return;if(!this.path.length){const e=this.el.object3D.position;this.group=this.group||this.system.getGroup(e),this.path=this.system.getPath(e,t.copy(data.destination),this.group)||[],o.emit("navigation-start")}if(!this.path.length)return console.warn("[nav] Unable to find path to %o.",data.destination),this.el.setAttribute("nav-agent",{active:!1}),void o.emit("navigation-end");const d=o.object3D.position,m=this.path[0];e.subVectors(m,d);let h;if(e.length()<c){if(this.path.shift(),!this.path.length)return this.el.setAttribute("nav-agent",{active:!1}),void o.emit("navigation-end");n.copy(d),h=this.path[0]}else n.copy(e.setLength(c)).add(d),h=m;h.y=d.y,o.object3D.lookAt(h),l.ray.origin.copy(n),l.ray.origin.y+=1.5,l.ray.direction.y=-1;const f=l.intersectObject(this.system.getNavMesh());f.length?(e.subVectors(f[0].point,d),d.add(e.setLength(c))):d.copy(n)}}()})},300:function(t,e,n){const{Pathfinding:r}=n(301),o=new r,l="level";t.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(t){this.navMesh=new THREE.Mesh(t),o.setZoneData(l,r.createZone(t)),Array.from(this.agents).forEach(t=>t.updateNavLocation())},getNavMesh:function(){return this.navMesh},addAgent:function(t){this.agents.add(t)},removeAgent:function(t){this.agents.delete(t)},getPath:function(t,e,n){return this.navMesh?o.findPath(t,e,l,n):null},getGroup:function(t){return this.navMesh?o.getGroup(l,t):null},getNode:function(t,e){return this.navMesh?o.getClosestNode(t,l,e,!0):null},clampStep:function(t,e,n,r,c){return this.navMesh?r?o.clampStep(t,e,r,l,n,c):(c.copy(e),this.getNode(e,n)):(c.copy(e),null)}})},301:function(t,e,n){"use strict";n.r(e),n.d(e,"Pathfinding",(function(){return v}));var r=function(){};r.computeCentroids=function(t){var e,n,r;for(e=0,n=t.faces.length;e<n;e++)(r=t.faces[e]).centroid=new THREE.Vector3(0,0,0),r.centroid.add(t.vertices[r.a]),r.centroid.add(t.vertices[r.b]),r.centroid.add(t.vertices[r.c]),r.centroid.divideScalar(3)},r.roundNumber=function(t,e){return Number(t.toFixed(e))},r.sample=function(t){return t[Math.floor(Math.random()*t.length)]},r.mergeVertexIds=function(t,e){var n=[];if(t.forEach((function(t){e.indexOf(t)>=0&&n.push(t)})),n.length<2)return[];n.includes(t[0])&&n.includes(t[t.length-1])&&t.push(t.shift()),n.includes(e[0])&&n.includes(e[e.length-1])&&e.push(e.shift()),n=[],t.forEach((function(t){e.includes(t)&&n.push(t)}));for(var r=n[1],o=n[0],i=t.slice();i[0]!==r;)i.push(i.shift());for(var s=0,u=e.slice();u[0]!==o;)if(u.push(u.shift()),s++>10)throw new Error("Unexpected state");return u.shift(),u.pop(),i.concat(u)},r.setPolygonCentroid=function(t,e){var n=new THREE.Vector3,r=e.vertices;t.vertexIds.forEach((function(t){n.add(r[t])})),n.divideScalar(t.vertexIds.length),t.centroid.copy(n)},r.cleanPolygon=function(t,e){for(var n=[],r=e.vertices,o=0;o<t.vertexIds.length;o++){var i,s,u,l=r[t.vertexIds[o]];0===o?(i=t.vertexIds[1],s=t.vertexIds[t.vertexIds.length-1]):o===t.vertexIds.length-1?(i=t.vertexIds[0],s=t.vertexIds[t.vertexIds.length-2]):(i=t.vertexIds[o+1],s=t.vertexIds[o-1]),u=r[s];var c=r[i].clone().sub(l),a=u.clone().sub(l),d=c.angleTo(a);if(d>Math.PI-.01&&d<Math.PI+.01){var m=[];t.neighbours.forEach((function(e){e.vertexIds.includes(t.vertexIds[o])||m.push(e)})),t.neighbours=m}else n.push(t.vertexIds[o])}t.vertexIds=n,this.setPolygonCentroid(t,e)},r.isConvex=function(t,e){var n=e.vertices;if(t.vertexIds.length<3)return!1;for(var r=!0,o=[],i=0;i<t.vertexIds.length;i++){var s,u,l=n[t.vertexIds[i]];0===i?(s=n[t.vertexIds[1]],u=n[t.vertexIds[t.vertexIds.length-1]]):i===t.vertexIds.length-1?(s=n[t.vertexIds[0]],u=n[t.vertexIds[t.vertexIds.length-2]]):(s=n[t.vertexIds[i+1]],u=n[t.vertexIds[i-1]]);var c=s.clone().sub(l),a=u.clone().sub(l),d=c.angleTo(a);if(d===Math.PI||0===d)return!1;var m=c.cross(a).y;o.push(m)}return o.forEach((function(t){0===t&&(r=!1)})),o.forEach(o[0]>0?function(t){t<0&&(r=!1)}:function(t){t>0&&(r=!1)}),r},r.distanceToSquared=function(t,e){var n=t.x-e.x,r=t.y-e.y,o=t.z-e.z;return n*n+r*r+o*o},r.isPointInPoly=function(t,e){for(var n=!1,r=-1,o=t.length,i=o-1;++r<o;i=r)(t[r].z<=e.z&&e.z<t[i].z||t[i].z<=e.z&&e.z<t[r].z)&&e.x<(t[i].x-t[r].x)*(e.z-t[r].z)/(t[i].z-t[r].z)+t[r].x&&(n=!n);return n},r.isVectorInPolygon=function(t,e,n){var r=1e5,o=-1e5,i=[];return e.vertexIds.forEach((function(t){r=Math.min(n[t].y,r),o=Math.max(n[t].y,o),i.push(n[t])})),!!(t.y<o+.5&&t.y>r-.5&&this.isPointInPoly(i,t))},r.triarea2=function(t,e,n){return(n.x-t.x)*(e.z-t.z)-(e.x-t.x)*(n.z-t.z)},r.vequal=function(t,e){return this.distanceToSquared(t,e)<1e-5};var o=function(t){this.content=[],this.scoreFunction=t};o.prototype.push=function(t){this.content.push(t),this.sinkDown(this.content.length-1)},o.prototype.pop=function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},o.prototype.remove=function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},o.prototype.size=function(){return this.content.length},o.prototype.rescoreElement=function(t){this.sinkDown(this.content.indexOf(t))},o.prototype.sinkDown=function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},o.prototype.bubbleUp=function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var o=t+1<<1,i=o-1,s=null,u=void 0;if(i<e&&(u=this.scoreFunction(this.content[i]))<r&&(s=i),o<e&&this.scoreFunction(this.content[o])<(null===s?r:u)&&(s=o),null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}};var l=function(){};l.init=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}},l.cleanUp=function(t){for(var e=0;e<t.length;e++){var n=t[e];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}},l.heap=function(){return new o((function(t){return t.f}))},l.search=function(t,e,n){this.init(t);var r=this.heap();for(r.push(e);r.size()>0;){var o=r.pop();if(o===n){for(var i=o,s=[];i.parent;)s.push(i),i=i.parent;return this.cleanUp(s),s.reverse()}o.closed=!0;for(var u=this.neighbours(t,o),l=0,c=u.length;l<c;l++){var a=u[l];if(!a.closed){var d=o.g+a.cost,m=a.visited;if(!m||d<a.g){if(a.visited=!0,a.parent=o,!a.centroid||!n.centroid)throw new Error("Unexpected state");a.h=a.h||this.heuristic(a.centroid,n.centroid),a.g=d,a.f=a.g+a.h,m?r.rescoreElement(a):r.push(a)}}}}return[]},l.heuristic=function(t,e){return r.distanceToSquared(t,e)},l.neighbours=function(t,e){for(var n=[],r=0;r<e.neighbours.length;r++)n.push(t[e.neighbours[r]]);return n};var c=1,d=function(){};d.buildZone=function(t){var e=this,n=this._buildNavigationMesh(t),o={};n.vertices.forEach((function(t){t.x=r.roundNumber(t.x,2),t.y=r.roundNumber(t.y,2),t.z=r.roundNumber(t.z,2)})),o.vertices=n.vertices;var i=this._buildPolygonGroups(n);o.groups=[];var s=function(t,e){for(var n=0;n<t.length;n++)if(e===t[n])return n};return i.forEach((function(t){var n=[];t.forEach((function(o){var i=o.neighbours.map((function(e){return s(t,e)})),u=o.neighbours.map((function(t){return e._getSharedVerticesInOrder(o,t)}));o.centroid.x=r.roundNumber(o.centroid.x,2),o.centroid.y=r.roundNumber(o.centroid.y,2),o.centroid.z=r.roundNumber(o.centroid.z,2),n.push({id:s(t,o),neighbours:i,vertexIds:o.vertexIds,centroid:o.centroid,portals:u})})),o.groups.push(n)})),o},d._buildNavigationMesh=function(t){return r.computeCentroids(t),t.mergeVertices(),this._buildPolygonsFromGeometry(t)},d._buildPolygonGroups=function(t){var e=[],n=0,r=function(t){t.neighbours.forEach((function(e){void 0===e.group&&(e.group=t.group,r(e))}))};return t.polygons.forEach((function(t){void 0===t.group&&(t.group=n++,r(t)),e[t.group]||(e[t.group]=[]),e[t.group].push(t)})),e},d._buildPolygonNeighbours=function(t,e,n){var r=new Set,o=n.get(t.vertexIds[0]),i=n.get(t.vertexIds[1]),s=n.get(t.vertexIds[2]);o.forEach((function(t){(i.has(t)||s.has(t))&&r.add(e.polygons[t])})),i.forEach((function(t){s.has(t)&&r.add(e.polygons[t])})),t.neighbours=Array.from(r)},d._buildPolygonsFromGeometry=function(t){for(var e=this,n=[],r=t.vertices,i=t.faceVertexUvs,s=new Map,u=0;u<r.length;u++)s.set(u,new Set);t.faces.forEach((function(t){n.push({id:c++,vertexIds:[t.a,t.b,t.c],centroid:t.centroid,normal:t.normal,neighbours:[]}),s.get(t.a).add(n.length-1),s.get(t.b).add(n.length-1),s.get(t.c).add(n.length-1)}));var o={polygons:n,vertices:r,faceVertexUvs:i};return n.forEach((function(t){e._buildPolygonNeighbours(t,o,s)})),o},d._getSharedVerticesInOrder=function(t,e){var n=t.vertexIds,r=e.vertexIds,o=new Set;if(n.forEach((function(t){r.includes(t)&&o.add(t)})),o.size<2)return[];o.has(n[0])&&o.has(n[n.length-1])&&n.push(n.shift()),o.has(r[0])&&o.has(r[r.length-1])&&r.push(r.shift());var i=[];return n.forEach((function(t){r.includes(t)&&i.push(t)})),i};var i=function(){this.portals=[]};i.prototype.push=function(t,e){void 0===e&&(e=t),this.portals.push({left:t,right:e})},i.prototype.stringPull=function(){var t,e,n,o=this.portals,i=[],s=0,u=0,l=0;e=o[0].left,n=o[0].right,i.push(t=o[0].left);for(var c=1;c<o.length;c++){var a=o[c].left,d=o[c].right;if(r.triarea2(t,n,d)<=0){if(!(r.vequal(t,n)||r.triarea2(t,e,d)>0)){i.push(e),e=t=e,n=t,u=s=u,l=s,c=s;continue}n=d,l=c}if(r.triarea2(t,e,a)>=0){if(!(r.vequal(t,e)||r.triarea2(t,n,a)<0)){i.push(n),e=t=n,n=t,u=s=l,l=s,c=s;continue}e=a,u=c}}return 0!==i.length&&r.vequal(i[i.length-1],o[o.length-1].left)||i.push(o[o.length-1].left),this.path=i,i};var s,u,m,h,a,f,v=function(){this.zones={}};v.createZone=function(t){return d.buildZone(t)},v.prototype.setZoneData=function(t,e){this.zones[t]=e},v.prototype.getGroup=function(t,e){if(!this.zones[t])return null;var n=null,o=Math.pow(50,2);return this.zones[t].groups.forEach((function(t,i){t.forEach((function(t){var s=r.distanceToSquared(t.centroid,e);s<o&&(n=i,o=s)}))})),n},v.prototype.getRandomNode=function(t,e,n,o){if(!this.zones[t])return new THREE.Vector3;n=n||null,o=o||0;var i=[];return this.zones[t].groups[e].forEach((function(t){n&&o?r.distanceToSquared(n,t.centroid)<o*o&&i.push(t.centroid):i.push(t.centroid)})),r.sample(i)||new THREE.Vector3},v.prototype.getClosestNode=function(t,e,n,o){void 0===o&&(o=!1);var i=this.zones[e].vertices,s=null,u=1/0;return this.zones[e].groups[n].forEach((function(e){var n=r.distanceToSquared(e.centroid,t);n<u&&(!o||r.isVectorInPolygon(t,e,i))&&(s=e,u=n)})),s},v.prototype.findPath=function(t,e,n,r){var s=this.zones[n].groups[r],u=this.zones[n].vertices,o=this.getClosestNode(t,n,r),c=this.getClosestNode(e,n,r,!0);if(!o||!c)return null;var a=l.search(s,o,c),d=function(t,e){for(var n=0;n<t.neighbours.length;n++)if(t.neighbours[n]===e.id)return t.portals[n]},m=new i;m.push(t);for(var h=0;h<a.length;h++){var f=a[h+1];if(f){var p=d(a[h],f);m.push(u[p[0]],u[p[1]])}}m.push(e),m.stringPull();var g=m.path.map((function(t){return new THREE.Vector3(t.x,t.y,t.z)}));return g.shift(),g},v.prototype.clampStep=(m=new THREE.Vector3,h=new THREE.Plane,a=new THREE.Triangle,f=new THREE.Vector3,function(t,e,n,r,o,i){var l=this.zones[r].vertices,c=this.zones[r].groups[o],d=[n],p={};p[n.id]=0,s=void 0,f.set(0,0,0),u=1/0,h.setFromCoplanarPoints(l[n.vertexIds[0]],l[n.vertexIds[1]],l[n.vertexIds[2]]),h.projectPoint(e,m),e.copy(m);for(var g=d.pop();g;g=d.pop()){a.set(l[g.vertexIds[0]],l[g.vertexIds[1]],l[g.vertexIds[2]]),a.closestPointToPoint(e,m),m.distanceToSquared(e)<u&&(s=g,f.copy(m),u=m.distanceToSquared(e));var v=p[g];if(!(v>2))for(var x=0;x<g.neighbours.length;x++){var b=c[g.neighbours[x]];b.id in p||(d.push(b),p[b.id]=v+1)}}return i.copy(f),s})},302:function(t,e,n){n(303),n(304),n(307),n(308)},303:function(t,e){t.exports=AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}})},304:function(t,e,n){const r=n(305),o=n(306);t.exports.Primitive=AFRAME.registerPrimitive("a-hexgrid",{defaultComponents:{hexgrid:{}},mappings:{src:"hexgrid.src"}}),t.exports.Component=AFRAME.registerComponent("hexgrid",{dependencies:["material"],schema:{src:{type:"asset"}},init:function(){const data=this.data;data.src?fetch(data.src).then(t=>t.json()).then(t=>this.addMesh(t)):this.addMesh(o)},addMesh:function(t){const e=new r.HexGrid;e.fromJSON(t);const n=new r.Board(e);n.generateTilemap(),this.el.setObject3D("mesh",n.group),this.addMaterial()},addMaterial:function(){const t=(this.el.components.material||{}).material;t&&this.el.object3D.traverse(e=>{e.isMesh&&(e.material=t)})},remove:function(){this.el.removeObject3D("mesh")}})},305:function(t,e){var n=t.exports={VERSION:"0.1.1",PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:"tile",ENT:"entity",STR:"structure",HEX:"hex",SQR:"square",ABS:"abstract"};n.Board=function(t,e){if(!t)throw new Error("You must pass in a grid system for the board to use.");this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new n.AStarFinder(e),n.Loader.init(),this.setGrid(t)},n.Board.prototype={setEntityOnTile:function(t,e){var i=this.grid.cellToPixel(e.cell);t.position.copy(i),t.position.y+=t.heightOffset||0,t.tile&&(t.tile.entity=null),t.tile=e,e.entity=t},addTile:function(t){-1===this.tiles.indexOf(t)&&(this.tiles.push(t),this.snapTileToGrid(t),t.position.y=0,this.tileGroup.add(t.mesh),this.grid.add(t.cell),t.cell.tile=t)},removeTile:function(t){if(t){var e=this.tiles.indexOf(t);this.grid.remove(t.cell),-1!==e&&this.tiles.splice(e,1),t.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var t=this.tileGroup.children,e=0;e<t.length;e++)this.tileGroup.remove(t[e])},getTileAtCell:function(t){var e=this.grid.cellToHash(t);return t.tile||(void 0!==this.grid.cells[e]?this.grid.cells[e].tile:null)},snapToGrid:function(t){var e=this.grid.pixelToCell(t);t.copy(this.grid.cellToPixel(e))},snapTileToGrid:function(t){if(t.cell)t.position.copy(this.grid.cellToPixel(t.cell));else{var e=this.grid.pixelToCell(t.position);t.position.copy(this.grid.cellToPixel(e))}return t},getRandomTile:function(){var t=n.Tools.randomInt(0,this.tiles.length-1);return this.tiles[t]},findPath:function(t,e,i){return this.finder.findPath(t.cell,e.cell,i,this.grid)},setGrid:function(t){this.group.remove(this.tileGroup),this.grid&&t!==this.grid&&(this.removeAllTiles(),this.tiles.forEach((function(t){this.grid.remove(t.cell),t.dispose()})),this.grid.dispose()),this.grid=t,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(t){var e=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&&this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(t,this.overlay,e),this.group.add(this.overlay)},generateTilemap:function(t){this.reset();var e=this.grid.generateTiles(t);this.tiles=e,this.tileGroup=new THREE.Object3D;for(var i=0;i<e.length;i++)this.tileGroup.add(e[i].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&&this.group.remove(this.tileGroup)}},n.Board.prototype.constructor=n.Board,n.Cell=function(t,e,i,s){this.q=t||0,this.r=e||0,this.s=i||0,this.h=s||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=n.LinkedList.generateID()},n.Cell.prototype={set:function(t,e,i){return this.q=t,this.r=e,this.s=i,this},copy:function(t){return this.q=t.q,this.r=t.r,this.s=t.s,this.h=t.h,this.tile=t.tile||null,this.userData=t.userData||{},this.walkable=t.walkable,this},add:function(t){return this.q+=t.q,this.r+=t.r,this.s+=t.s,this},equals:function(t){return this.q===t.q&&this.r===t.r&&this.s===t.s}},n.Cell.prototype.constructor=n.Cell,n.HexGrid=function(t){t=t||{},this.type=n.HEX,this.size=5,this.cellSize=void 0===t.cellSize?10:t.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e,i=[];for(e=0;6>e;e++)i.push(this._createVertex(e));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(i[0].x,i[0].y),e=1;6>e;e++)this.cellShape.lineTo(i[e].x,i[e].y);this.cellShape.lineTo(i[0].x,i[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=i,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this._hashDelimeter=".",this._directions=[new n.Cell(1,-1,0),new n.Cell(1,0,-1),new n.Cell(0,1,-1),new n.Cell(-1,1,0),new n.Cell(-1,0,1),new n.Cell(0,-1,1)],this._diagonals=[new n.Cell(2,-1,-1),new n.Cell(1,1,-2),new n.Cell(-1,2,-1),new n.Cell(-2,1,1),new n.Cell(-1,-1,2),new n.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new n.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},n.HexGrid.TWO_THIRDS=2/3,n.HexGrid.prototype={cellToPixel:function(t){return this._vec3.x=t.q*this._cellWidth*.75,this._vec3.y=t.h,this._vec3.z=-(t.s-t.r)*this._cellLength*.5,this._vec3},pixelToCell:function(t){var e=t.x*(n.HexGrid.TWO_THIRDS/this.cellSize),i=(-t.x/3+n.SQRT3/3*t.z)/this.cellSize;return this._cel.set(e,i,-e-i),this._cubeRound(this._cel)},getCellAt:function(t){var e=t.x*(n.HexGrid.TWO_THIRDS/this.cellSize),i=(-t.x/3+n.SQRT3/3*t.z)/this.cellSize;return this._cel.set(e,i,-e-i),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(t,e,i){var s,n,r=this._directions.length;for(this._list.length=0,s=0;r>s;s++)this._cel.copy(t),this._cel.add(this._directions[s]),!(n=this.cells[this.cellToHash(this._cel)])||i&&!i(t,n)||this._list.push(n);if(e)for(s=0;r>s;s++)this._cel.copy(t),this._cel.add(this._diagonals[s]),!(n=this.cells[this.cellToHash(this._cel)])||i&&!i(t,n)||this._list.push(n);return this._list},getRandomCell:function(){var t,e=0,i=n.Tools.randomInt(0,this.numCells);for(t in this.cells){if(e===i)return this.cells[t];e++}return this.cells[t]},cellToHash:function(t){return t.q+this._hashDelimeter+t.r+this._hashDelimeter+t.s},distance:function(t,e){return Math.max(Math.abs(t.q-e.q),Math.abs(t.r-e.r),Math.abs(t.s-e.s))+(e.h-t.h)},clearPath:function(){var t,e;for(t in this.cells)(e=this.cells[t])._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(t){var e;for(e in this.cells)t(this.cells[e])},generateTile:function(t,e,i){var s=Math.abs(t.h);1>s&&(s=1);var r=this._geoCache[s];r||(this.extrudeSettings.amount=s,r=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[s]=r);var o=new n.Tile({size:this.cellSize,scale:e,cell:t,geometry:r,material:i});return t.tile=o,o},generateTiles:function(t){t=t||{};var s,e,r,o=[],i={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(s in i=n.Tools.merge(i,t),this.cellSize=i.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=i.extrudeSettings,this.cells)r=this.cells[s],(e=this.generateTile(r,i.tileScale,i.material)).position.copy(this.cellToPixel(r)),e.position.y=0,o.push(e);return o},generateTilePoly:function(t){t||(t=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,t);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,n.PI/2),e},generate:function(t){var e,i,s,r;for(t=t||{},this.size=void 0===t.size?this.size:t.size,e=-this.size;e<this.size+1;e++)for(i=-this.size;i<this.size+1;i++)s=-e-i,Math.abs(e)<=this.size&&Math.abs(i)<=this.size&&Math.abs(s)<=this.size&&(r=new n.Cell(e,i,s),this.add(r))},generateOverlay:function(t,e,i){var s,r,o,l=this.cellShape.createPointsGeometry();for(s=-t;t+1>s;s++)for(r=-t;t+1>r;r++)if(o=-s-r,Math.abs(s)<=t&&Math.abs(r)<=t&&Math.abs(o)<=t){this._cel.set(s,r,o);var c=new THREE.Line(l,i);c.position.copy(this.cellToPixel(this._cel)),c.rotation.x=90*n.DEG_TO_RAD,e.add(c)}},add:function(t){var e=this.cellToHash(t);if(!this.cells[e])return this.cells[e]=t,this.numCells++,t},remove:function(t){var e=this.cellToHash(t);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(t,e,i){var s=this;n.Tools.getJSON({url:t,callback:function(t){s.fromJSON(t),e.call(i||null,t)},cache:!1,scope:s})},fromJSON:function(t){var e,i,s=t.cells;for(this.cells={},this.numCells=0,this.size=t.size,this.cellSize=t.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this.extrudeSettings=t.extrudeSettings,this.autogenerated=t.autogenerated,e=0;e<s.length;e++)(i=new n.Cell).copy(s[e]),this.add(i)},toJSON:function(){var t,e,i={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},s=[];for(e in this.cells)t=this.cells[e],s.push({q:t.q,r:t.r,s:t.s,h:t.h,walkable:t.walkable,userData:t.userData});return i.cells=s,i},_createVertex:function(t){var e=n.TAU/6*t;return new THREE.Vector3(this.cellSize*Math.cos(e),this.cellSize*Math.sin(e),0)},_cubeRound:function(t){var e=Math.round(t.q),i=Math.round(t.r),s=Math.round(t.s),n=Math.abs(e-t.q),r=Math.abs(i-t.r),o=Math.abs(s-t.s);return n>r&&n>o?e=-i-s:r>o?i=-e-s:s=-e-i,this._cel.set(e,i,s)}},n.HexGrid.prototype.constructor=n.HexGrid,n.SqrGrid=function(t){t=t||{},this.type=n.SQR,this.size=5,this.cellSize=void 0===t.cellSize?10:t.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e=[];e.push(new THREE.Vector3),e.push(new THREE.Vector3(-this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=e,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=".",this._directions=[new n.Cell(1,0,0),new n.Cell(0,-1,0),new n.Cell(-1,0,0),new n.Cell(0,1,0)],this._diagonals=[new n.Cell(-1,-1,0),new n.Cell(-1,1,0),new n.Cell(1,1,0),new n.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new n.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},n.SqrGrid.prototype={cellToPixel:function(t){return this._vec3.x=t.q*this._fullCellSize,this._vec3.y=t.h,this._vec3.z=t.r*this._fullCellSize,this._vec3},pixelToCell:function(t){var e=Math.round(t.x/this._fullCellSize),i=Math.round(t.z/this._fullCellSize);return this._cel.set(e,i,0)},getCellAt:function(t){var e=Math.round(t.x/this._fullCellSize),i=Math.round(t.z/this._fullCellSize);return this._cel.set(e,i),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(t,e,i){var s,n,r=this._directions.length;for(this._list.length=0,s=0;r>s;s++)this._cel.copy(t),this._cel.add(this._directions[s]),!(n=this.cells[this.cellToHash(this._cel)])||i&&!i(t,n)||this._list.push(n);if(e)for(s=0;r>s;s++)this._cel.copy(t),this._cel.add(this._diagonals[s]),!(n=this.cells[this.cellToHash(this._cel)])||i&&!i(t,n)||this._list.push(n);return this._list},getRandomCell:function(){var t,e=0,i=n.Tools.randomInt(0,this.numCells);for(t in this.cells){if(e===i)return this.cells[t];e++}return this.cells[t]},cellToHash:function(t){return t.q+this._hashDelimeter+t.r},distance:function(t,e){return Math.max(Math.abs(t.q-e.q),Math.abs(t.r-e.r))+(e.h-t.h)},clearPath:function(){var t,e;for(t in this.cells)(e=this.cells[t])._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(t){var e;for(e in this.cells)t(this.cells[e])},generateTile:function(t,e,i){var s=Math.abs(t.h);1>s&&(s=1);var r=this._geoCache[s];r||(this.extrudeSettings.amount=s,r=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[s]=r);var o=new n.Tile({size:this.cellSize,scale:e,cell:t,geometry:r,material:i});return t.tile=o,o},generateTiles:function(t){t=t||{};var s,e,r,o=[],i={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(s in i=n.Tools.merge(i,t),this.cellSize=i.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=i.extrudeSettings,this.cells)r=this.cells[s],(e=this.generateTile(r,i.tileScale,i.material)).position.copy(this.cellToPixel(r)),e.position.y=0,o.push(e);return o},generateTilePoly:function(t){t||(t=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,t);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,n.PI/2),e},generate:function(t){t=t||{},this.size=void 0===t.size?this.size:t.size;var e,i,s,r=Math.ceil(this.size/2);for(e=-r;r>e;e++)for(i=-r;r>i;i++)s=new n.Cell(e,i+1),this.add(s)},generateOverlay:function(t,e,i){var s,r,o=Math.ceil(t/2);for(s=-o;o>s;s++)for(r=-o;o>r;r++){this._cel.set(s,r);var l=new THREE.Line(this.cellGeo,i);l.position.copy(this.cellToPixel(this._cel)),l.rotation.x=90*n.DEG_TO_RAD,e.add(l)}},add:function(t){var e=this.cellToHash(t);if(!this.cells[e])return this.cells[e]=t,this.numCells++,t},remove:function(t){var e=this.cellToHash(t);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(t,e,i){n.Tools.getJSON({url:t,callback:function(t){this.fromJSON(t),e.call(i||null,t)},cache:!1,scope:this})},fromJSON:function(t){var e,i,s=t.cells;for(this.cells={},this.numCells=0,this.size=t.size,this.cellSize=t.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=t.extrudeSettings,this.autogenerated=t.autogenerated,e=0;e<s.length;e++)(i=new n.Cell).copy(s[e]),this.add(i)},toJSON:function(){var t,e,i={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},s=[];for(e in this.cells)t=this.cells[e],s.push({q:t.q,r:t.r,s:t.s,h:t.h,walkable:t.walkable,userData:t.userData});return i.cells=s,i}},n.SqrGrid.prototype.constructor=n.SqrGrid,n.Tile=function(t){t=t||{};var e={cell:null,geometry:null,material:null};if(!(e=n.Tools.merge(e,t)).cell||!e.geometry)throw new Error("Missing vg.Tile configuration");this.cell=e.cell,this.cell.tile&&this.cell.tile!==this&&this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=n.Tools.generateID(),this.geometry=e.geometry,this.material=e.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:n.Tools.randomizeRGB("30, 30, 30",13)})),this.objectType=n.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight="0x0084cc",this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*n.DEG_TO_RAD,this.mesh.scale.set(e.scale,e.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},n.Tile.prototype={select:function(){return this.material.emissive&&this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return null!==this._emissive&&this.material.emissive&&this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&&this.cell.tile&&(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},n.Tile.prototype.constructor=n.Tile,function(){var t=function(){this.obj=null,this.next=null,this.prev=null,this.free=!0},e=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+""+Math.floor(1e3*Math.random()),this.sortArray=[]};e.generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},(e.prototype={getNode:function(t){return this.objToNodeMap[t.uniqueID]},addNode:function(i){var s=new t;if(!i.uniqueID)try{i.uniqueID=e.generateID()}catch(t){return console.error("[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier"),null}return s.obj=i,s.free=!1,this.objToNodeMap[i.uniqueID]=s,s},swapObjects:function(t,e){this.objToNodeMap[t.obj.uniqueID]=null,this.objToNodeMap[e.uniqueID]=t,t.obj=e},add:function(t){var e=this.objToNodeMap[t.uniqueID];if(e){if(!1===e.free)return;e.obj=t,e.free=!1,e.next=null,e.prev=null}else e=this.addNode(t);if(this.first){if(!this.last)throw new Error("[LinkedList.add] No last in the list -- that shouldn't happen here");this.last.next=e,e.prev=this.last,this.last=e,e.next=null}else this.first=e,this.last=e,e.next=null,e.prev=null;this.length++,this.showDebug&&this.dump("after add")},has:function(t){return!!this.objToNodeMap[t.uniqueID]},moveUp:function(t){this.dump("before move up");var e=this.getNode(t);if(!e)throw"Oops, trying to move an object that isn't in the list";if(e.prev){var i=e.prev,s=i.prev;e==this.last&&(this.last=i);var n=e.next;s&&(s.next=e),e.next=i,e.prev=i.prev,i.next=n,i.prev=e,this.first==i&&(this.first=e)}},moveDown:function(t){var e=this.getNode(t);if(!e)throw"Oops, trying to move an object that isn't in the list";if(e.next){var i=e.next;this.moveUp(i.obj),this.last==i&&(this.last=e)}},sort:function(t){var e,i,s=this.sortArray,n=this.first;for(s.length=0;n;)s.push(n.obj),n=n.next;for(this.clear(),s.sort(t),i=s.length,e=0;i>e;e++)this.add(s[e])},remove:function(t){var e=this.getNode(t);return!(!e||e.free)&&(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.prev||(this.first=e.next),e.next||(this.last=e.prev),e.free=!0,e.prev=null,e.next=null,this.length--,!0)},shift:function(){var t=this.first;return 0===this.length?null:(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first=t.next,t.next||(this.last=null),t.free=!0,t.prev=null,t.next=null,this.length--,t.obj)},pop:function(){var t=this.last;return 0===this.length?null:(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.last=t.prev,t.prev||(this.first=null),t.free=!0,t.prev=null,t.next=null,this.length--,t.obj)},concat:function(t){for(var e=t.first;e;)this.add(e.obj),e=e.next},clear:function(){for(var t=this.first;t;)t.free=!0,t=t.next;this.first=null,this.length=0},dispose:function(){for(var t=this.first;t;)t.obj=null,t=t.next;this.first=null,this.objToNodeMap=null},dump:function(t){console.log("===================="+t+"=====================");for(var e=this.first;e;)console.log("{"+e.obj.toString()+"} previous="+(e.prev?e.prev.obj:"NULL")),e=e.next();console.log("==================================="),console.log("Last: {"+(this.last?this.last.obj:"NULL")+"} First: {"+(this.first?this.first.obj:"NULL")+"}")}}).constructor=e,n.LinkedList=e}(),function(){var t=function(t,e,i,s,n){this._listener=e,this.isOnce=i,this.context=s,this.signal=t,this._priority=n||0};(t.prototype={active:!0,params:null,execute:function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this.isOnce&&this.detach()),e},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&&!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this.isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}).constructor=t;var e=function(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}};e.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(t,e){if("function"!=typeof t)throw new Error("Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},_registerListener:function(e,i,s,n){var r,o=this._indexOfListener(e,s);if(-1!==o){if((r=this._bindings[o]).isOnce!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else r=new t(this,e,i,s,n),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){var e=this._bindings.length;do{e--}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var i,s=this._bindings.length;s--;)if((i=this._bindings[s])._listener===t&&i.context===e)return s;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){return this.validateListener(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){this.validateListener(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(t){void 0===t&&(t=null);for(var e=this._bindings.length;e--;)t?this._bindings[e].context===t&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)):this._bindings[e]._destroy();t||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var t,e=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=e),i){t=this._bindings.slice(),this._shouldPropagate=!0;do{i--}while(t[i]&&this._shouldPropagate&&!1!==t[i].execute(e))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},e.prototype.constructor=e,n.Signal=e}(),n.AStarFinder=function(t){t=t||{};var e={allowDiagonal:!1,heuristicFilter:null};e=n.Tools.merge(e,t),this.allowDiagonal=e.allowDiagonal,this.heuristicFilter=e.heuristicFilter,this.list=new n.LinkedList},n.AStarFinder.prototype={findPath:function(t,e,i,s){var r,o,l,c,d,a;for(i=i||this.heuristicFilter,s.clearPath(),this.list.clear(),this.list.add(t);this.list.length>0;){if(this.list.sort(this.compare),(r=this.list.shift())._visited=!0,r===e)return n.PathUtil.backtrace(e);for(d=0,a=(l=s.getNeighbors(r,this.allowDiagonal,i)).length;a>d;d++)if((c=l[d]).walkable&&(o=r._calcCost+s.distance(r,c),!c._visited||o<c._calcCost)){if(c._visited=!0,c._parent=r,c._calcCost=o,c._priority=o+s.distance(e,c),c===e)return n.PathUtil.backtrace(e);this.list.add(c)}}return null},compare:function(t,e){return t._priority-e._priority}},n.AStarFinder.prototype.constructor=n.AStarFinder,n.PathUtil={backtrace:function(t){for(var e=[t];t._parent;)t=t._parent,e.push(t);return e.reverse()},biBacktrace:function(t,e){var i=this.backtrace(t),s=this.backtrace(e);return i.concat(s.reverse())},pathLength:function(t){var e,i,s,n,r,o=0;for(e=1;e<t.length;++e)i=t[e-1],s=t[e],n=i[0]-s[0],r=i[1]-s[1],o+=Math.sqrt(n*n+r*r);return o},interpolate:function(t,e,i,s){var n,r,o,l,c,a,d=Math.abs,u=[];for(n=i>t?1:-1,r=s>e?1:-1,c=(o=d(i-t))-(l=d(s-e));t!==i||e!==s;)u.push([t,e]),(a=2*c)>-l&&(c-=l,t+=n),o>a&&(c+=o,e+=r);return u},expandPath:function(t){var e,i,s,n,r,o,l=[],c=t.length;if(2>c)return l;for(r=0;c-1>r;++r)for(e=t[r],i=t[r+1],n=(s=this.interpolate(e[0],e[1],i[0],i[1])).length,o=0;n-1>o;++o)l.push(s[o]);return l.push(t[c-1]),l},smoothenPath:function(t,e){var i,s,n,r,o,l,c,a,d,u,m,g,p=e.length,h=e[0][0],f=e[0][1],v=e[p-1][0],x=e[p-1][1];for(o=[[i=h,s=f]],c=2;p>c;++c){for(n=(d=e[c])[0],r=d[1],u=this.interpolate(i,s,n,r),g=!1,a=1;a<u.length;++a)if(m=u[a],!t.isWalkableAt(m[0],m[1])){g=!0;break}g&&(l=e[c-1],o.push(l),i=l[0],s=l[1])}return o.push([v,x]),o},compressPath:function(t){if(t.length<3)return t;var e,i,s,n,r,o,l=[],c=t[0][0],a=t[0][1],d=t[1][0],u=t[1][1],m=d-c,g=u-a;for(m/=r=Math.sqrt(m*m+g*g),g/=r,l.push([c,a]),o=2;o<t.length;o++)e=d,i=u,s=m,n=g,m=(d=t[o][0])-e,g=(u=t[o][1])-i,g/=r=Math.sqrt(m*m+g*g),((m/=r)!==s||g!==n)&&l.push([e,i]);return l.push([d,u]),l}},n.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(t){this.crossOrigin=t||!1,this.manager=new THREE.LoadingManager((function(){}),(function(){}),(function(){console.warn("Error loading images")})),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=t},loadTexture:function(t,e,i,s){var n=new THREE.Texture(null,e);return this.imageLoader.load(t,(function(t){n.image=t,n.needsUpdate=!0,i&&i(n)}),null,(function(t){s&&s(t)})),n.sourceFile=t,n}},n.MouseCaster=function(t,e,i){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new n.Signal,this.group=t,this._camera=e,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,(i=i||document).addEventListener("mousemove",this._onDocumentMouseMove.bind(this),!1),i.addEventListener("mousedown",this._onDocumentMouseDown.bind(this),!1),i.addEventListener("mouseup",this._onDocumentMouseUp.bind(this),!1),i.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),i.addEventListener("DOMMouseScroll",this._onMouseWheel.bind(this),!1)},n.MouseCaster.OVER="over",n.MouseCaster.OUT="out",n.MouseCaster.DOWN="down",n.MouseCaster.UP="up",n.MouseCaster.CLICK="click",n.MouseCaster.WHEEL="wheel",n.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var t,e,i=this._raycaster.intersectObject(this.group,!0);i.length>0?(e=(t=i[0]).object.userData.structure,this.pickedObject!=e&&(this.pickedObject&&this.signal.dispatch(n.MouseCaster.OUT,this.pickedObject),this.pickedObject=e,this.selectedObject=null,this.signal.dispatch(n.MouseCaster.OVER,this.pickedObject)),this.position.copy(t.point),this.screenPosition.z=t.distance):(this.pickedObject&&this.signal.dispatch(n.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=i}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(t){return(t=t||window.event).preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&&(this.selectedObject=this.pickedObject),this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.down=1===t.which,this.rightDown=3===t.which,void this.signal.dispatch(n.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(t){return t.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.signal.dispatch(n.MouseCaster.UP,this.pickedObject),this.selectedObject&&this.pickedObject&&this.selectedObject.uniqueID===this.pickedObject.uniqueID&&this.signal.dispatch(n.MouseCaster.CLICK,this.pickedObject),this.down=1!==t.which&&this.down,void(this.rightDown=3!==t.which&&this.rightDown))},_onDocumentMouseMove:function(t){t.preventDefault(),this.screenPosition.x=t.clientX/window.innerWidth*2-1,this.screenPosition.y=-t.clientY/window.innerHeight*2+1},_onMouseWheel:function(t){if(this.active){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?this.wheel++:this.wheel--,this.signal.dispatch(n.MouseCaster.WHEEL,this.wheel)}}},n.MouseCaster.prototype.constructor=n.MouseCaster,n.Scene=function(t,e){var i={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},s={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(i=n.Tools.merge(i,t),"boolean"!=typeof e&&(s=n.Tools.merge(s,e)),this.renderer=new THREE.WebGLRenderer({alpha:i.alpha,antialias:i.antialias}),this.renderer.setClearColor(i.clearColor,0),this.renderer.sortObjects=i.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=i.orthoZoom,this.container=new THREE.Scene,this.container.fog=i.fog,this.container.add(new THREE.AmbientLight(14540253)),i.lightPosition||i.light.position.set(-1,1,-1).normalize(),this.container.add(i.light),"OrthographicCamera"===i.cameraType){var r=window.innerWidth/this.orthoZoom,o=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(r/-2,r/2,o/2,o/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!e,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=s.minDistance,this.controls.maxDistance=s.maxDistance,this.controls.zoomSpeed=s.zoomSpeed,this.controls.noZoom=s.noZoom),i.cameraPosition&&this.camera.position.copy(i.cameraPosition),window.addEventListener("resize",function(){if(this.width=window.innerWidth,this.height=window.innerHeight,"OrthographicCamera"===this.camera.type){var t=this.width/this.orthoZoom,e=this.height/this.orthoZoom;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=e/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}.bind(this),!1),this.attachTo(i.element)},n.Scene.prototype={attachTo:function(t){t.style.width=this.width+"px",t.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),t.appendChild(this.renderer.domElement)},add:function(t){this.container.add(t)},remove:function(t){this.container.remove(t)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)this.orthoZoom=0;else{var t=this.width/this.orthoZoom,e=this.height/this.orthoZoom;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=e/-2,this.camera.updateProjectionMatrix()}},focusOn:function(t){this.camera.lookAt(t.position)}},n.Scene.prototype.constructor=n.Scene,n.SelectionManager=function(t){this.mouse=t,this.onSelect=new n.Signal,this.onDeselect=new n.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},n.SelectionManager.prototype={select:function(t,e){t&&(e=e||!0,this.selected!==t&&this.clearSelection(e),t.selected?this.toggleSelection&&(e&&this.onDeselect.dispatch(t),t.deselect()):t.select(),this.selected=t,e&&this.onSelect.dispatch(t))},clearSelection:function(t){t=t||!0,this.selected&&(t&&this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(t,e){switch(t){case n.MouseCaster.DOWN:e||this.clearSelection();break;case n.MouseCaster.CLICK:this.select(e)}}},n.SelectionManager.prototype.constructor=n.SelectionManager,n.Tools={clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},sign:function(t){return t&&t/Math.abs(t)},random:function(t,e){return 1===arguments.length?Math.random()*t-.5*t:Math.random()*(e-t)+t},randomInt:function(t,e){return 1===arguments.length?Math.random()*t-.5*t|0:Math.random()*(e-t+1)+t|0},normalize:function(t,e,i){return(t-e)/(i-e)},getShortRotation:function(t){return(t%=this.TAU)>this.PI?t-=this.TAU:t<-this.PI&&(t+=this.TAU),t},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!Object.prototype.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},merge:function(t,e){var i=this,s=Array.isArray(e),n=s&&[]||{};return s?(t=t||[],n=n.concat(t),e.forEach((function(e,s){void 0===n[s]?n[s]=e:i.isPlainObject(e)?n[s]=i.merge(t[s],e):-1===t.indexOf(e)&&n.push(e)})),n):(t&&i.isPlainObject(t)&&Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(s){e[s]&&i.isPlainObject(e[s])&&t[s]?n[s]=i.merge(t[s],e[s]):n[s]=e[s]})),n)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},radixSort:function(t,e,i,s){if(s=s||31,!((e=e||0)>=(i=i||t.length)-1||0>s)){for(var n=e,r=i,o=1<<s;r>n;)if(t[n]&o){--r;var l=t[n];t[n]=t[r],t[r]=l}else++n;this.radixSort(t,e,r,s-1),this.radixSort(t,r,i,s-1)}},randomizeRGB:function(t,e){var i,s,n=t.split(","),r="rgb(";for(e=this.randomInt(e),i=0;3>i;i++)0>(s=parseInt(n[i])+e)?s=0:s>255&&(s=255),r+=s+",";return(r=r.substring(0,r.length-1))+")"},getJSON:function(t){var e=new XMLHttpRequest,s=void 0!==t.cache&&t.cache?t.url:t.url+"?t="+Math.floor(1e4*Math.random())+Date.now();e.onreadystatechange=function(){if(200!==this.status)0!==this.status&&console.warn("[Tools.getJSON] Error: "+this.status+" ("+this.statusText+") :: "+t.url);else{var e=null;try{e=JSON.parse(this.responseText)}catch(t){return}t.callback.call(t.scope||null,e)}},e.open("GET",s,!0),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send("")}}},306:function(t,e){t.exports={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]}},307:function(t,e){t.exports.Primitive=AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}}),t.exports.Component=AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){const t=this.el,data=this.data;let e=t.components.material;const n=new THREE.PlaneGeometry(data.width,data.depth,data.density,data.density);n.mergeVertices(),this.waves=[];for(let t,i=0,e=n.vertices.length;i<e;i++)t=n.vertices[i],this.waves.push({z:t.z,ang:Math.random()*Math.PI*2,amp:data.amplitude+Math.random()*data.amplitudeVariance,speed:(data.speed+Math.random()*data.speedVariance)/1e3});e||(e={},e.material=new THREE.MeshPhongMaterial({color:data.color,transparent:data.opacity<1,opacity:data.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(n,e.material),t.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(t,dt){if(!dt)return;const e=this.mesh.geometry.vertices;for(let t,n,i=0;t=e[i];i++)n=this.waves[i],t.z=n.z+Math.sin(n.ang)*n.amp,n.ang+=n.speed*dt;this.mesh.geometry.verticesNeedUpdate=!0}})},308:function(t,e){t.exports.Primitive=AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius","radial-segments":"tube.radialSegments",closed:"tube.closed"}}),t.exports.Component=AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){const t=this.el,data=this.data;let e=t.components.material;if(!data.path.length)return void console.error("[a-tube] `path` property expected but not found.");const n=new THREE.CatmullRomCurve3(data.path.map((function(t){return t=t.split(" "),new THREE.Vector3(Number(t[0]),Number(t[1]),Number(t[2]))}))),r=new THREE.TubeGeometry(n,data.segments,data.radius,data.radialSegments,data.closed);e||(e={},e.material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(r,e.material),this.el.setObject3D("mesh",this.mesh)},update:function(t){Object.keys(t).length&&(this.remove(),this.init())},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}})},309:function(t,e,n){"use strict";n.r(e),n.d(e,"Component",(function(){return o.default})),n.d(e,"Vue",(function(){return r.default})),n.d(e,"Mixins",(function(){return o.mixins})),n.d(e,"Emit",(function(){return d})),n.d(e,"Inject",(function(){return h})),n.d(e,"InjectReactive",(function(){return w})),n.d(e,"Model",(function(){return M})),n.d(e,"ModelSync",(function(){return T})),n.d(e,"Prop",(function(){return _})),n.d(e,"PropSync",(function(){return S})),n.d(e,"Provide",(function(){return C})),n.d(e,"ProvideReactive",(function(){return L})),n.d(e,"Ref",(function(){return R})),n.d(e,"VModel",(function(){return k})),n.d(e,"Watch",(function(){return P}));var r=n(0),o=n(4),l=function(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e},c=/\B([A-Z])/g;function d(t){return function(e,n,r){var o=n.replace(c,"-$1").toLowerCase(),d=r.value;r.value=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var c=function(r){var c=t||o;void 0===r?0===n.length?e.$emit(c):1===n.length?e.$emit(c,n[0]):e.$emit.apply(e,l([c],n)):(n.unshift(r),e.$emit.apply(e,l([c],n)))},h=d.apply(this,n);return m(h)?h.then(c):c(h),h}}}function m(t){return t instanceof Promise||t&&"function"==typeof t.then}function h(t){return Object(o.createDecorator)((function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function f(t){return"function"!=typeof t||!t.managed&&!t.managedReactive}function v(t){var e=function(){var n=this,r="function"==typeof t?t.call(this):t;for(var i in(r=Object.create(r||null))[x]=Object.create(this[x]||{}),e.managed)r[e.managed[i]]=this[i];var o=function(i){r[e.managedReactive[i]]=l[i],Object.defineProperty(r[x],e.managedReactive[i],{enumerable:!0,configurable:!0,get:function(){return n[i]}})},l=this;for(var i in e.managedReactive)o(i);return r};return e.managed={},e.managedReactive={},e}var x="__reactiveInject__";function y(t){Array.isArray(t.inject)||(t.inject=t.inject||{},t.inject[x]={from:x,default:{}})}function w(t){return Object(o.createDecorator)((function(e,n){if(void 0===e.inject&&(e.inject={}),!Array.isArray(e.inject)){var r=t?t.from||t:n,o=!!t&&t.default||void 0;e.computed||(e.computed={}),e.computed[n]=function(){var t=this[x];return t?t[r]:o},e.inject[x]=x}}))}var A="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function E(t,e,n){if(A&&!Array.isArray(t)&&"function"!=typeof t&&!t.hasOwnProperty("type")&&void 0===t.type){var r=Reflect.getMetadata("design:type",e,n);r!==Object&&(t.type=r)}}function M(t,e){return void 0===e&&(e={}),function(n,r){E(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[r]=e,n.model={prop:r,event:t||r}}))(n,r)}}function T(t,e,n){return void 0===n&&(n={}),function(r,l){E(n,r,l),Object(o.createDecorator)((function(r,o){(r.props||(r.props={}))[t]=n,r.model={prop:t,event:e||o},(r.computed||(r.computed={}))[o]={get:function(){return this[t]},set:function(t){this.$emit(e,t)}}}))(r,l)}}function _(t){return void 0===t&&(t={}),function(e,n){E(t,e,n),Object(o.createDecorator)((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function S(t,e){return void 0===e&&(e={}),function(n,r){E(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[t]=e,(n.computed||(n.computed={}))[r]={get:function(){return this[t]},set:function(e){this.$emit("update:"+t,e)}}}))(n,r)}}function C(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;y(e),f(r)&&(r=e.provide=v(r)),r.managed[n]=t||n}))}function L(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;y(e),f(r)&&(r=e.provide=v(r)),r.managedReactive[n]=t||n}))}function R(t){return Object(o.createDecorator)((function(e,n){e.computed=e.computed||{},e.computed[n]={cache:!1,get:function(){return this.$refs[t||n]}}}))}function k(t){void 0===t&&(t={});return Object(o.createDecorator)((function(e,n){(e.props||(e.props={})).value=t,(e.computed||(e.computed={}))[n]={get:function(){return this.value},set:function(t){this.$emit("input",t)}}}))}function P(path,t){void 0===t&&(t={});var e=t.deep,n=void 0!==e&&e,r=t.immediate,l=void 0!==r&&r;return Object(o.createDecorator)((function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var r=t.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:e,deep:n,immediate:l})}))}},310:function(t,e,n){"use strict";n.r(e),n.d(e,"State",(function(){return l})),n.d(e,"Getter",(function(){return c})),n.d(e,"Action",(function(){return d})),n.d(e,"Mutation",(function(){return m})),n.d(e,"namespace",(function(){return h}));var r=n(4),o=n(32),l=f("computed",o.e),c=f("computed",o.c),d=f("methods",o.b),m=f("methods",o.d);function h(t,e){function n(e){return function(a,b){if("string"==typeof b){var n=b,r=a;return e(n,{namespace:t})(r,n)}var o=a,l=function(a,b){var t={};return[a,b].forEach((function(e){Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}(b||{},{namespace:t});return e(o,l)}}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(e)):{State:n(l),Getter:n(c),Mutation:n(m),Action:n(d)}}function f(t,e){function n(map,n){return Object(r.createDecorator)((function(r,o){r[t]||(r[t]={});var l,c=((l={})[o]=map,l);r[t][o]=void 0!==n?e(n,c)[o]:e(c)[o]}))}return function(a,b){if("string"==typeof b){var t=b,e=a;return n(t,void 0)(e,t)}return n(a,function(t){var e=t&&t.namespace;if("string"!=typeof e)return;if("/"!==e[e.length-1])return e+"/";return e}(b))}}},314:function(t,e,n){"use strict";var r=n(11),o=(n(225),n(0));var l=o.default.extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}}),c=l;function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.default.extend({mixins:e})}(c).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark:function(){return this.$vuetify.theme.dark}},beforeCreate:function(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render:function(t){var e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:m({"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl},this.themeClasses),attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},4:function(t,e,n){"use strict";n.r(e),n.d(e,"createDecorator",(function(){return v})),n.d(e,"mixins",(function(){return x}));var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function m(t,e){h(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){h(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){h(t,e,n)}))}function h(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}var f={__proto__:[]}instanceof Array;function v(t){return function(e,n,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function x(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.default.extend({mixins:e})}function y(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var data=new e;e.prototype._init=n;var r={};return Object.keys(data).forEach((function(t){void 0!==data[t]&&(r[t]=data[t])})),r}var w=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(w.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return l({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return y(this,t)}});var o=t.__decorators__;o&&(o.forEach((function(t){return t(e)})),delete t.__decorators__);var c=Object.getPrototypeOf(t.prototype),h=c instanceof r.default?c.constructor:r.default,f=h.extend(e);return M(f,t,h),d()&&m(f,t),f}var E={prototype:!0,arguments:!0,callee:!0,caller:!0};function M(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!E[r]){var l=Object.getOwnPropertyDescriptor(t,r);if(!l||l.configurable){var c,d,m=Object.getOwnPropertyDescriptor(e,r);if(!f){if("cid"===r)return;var h=Object.getOwnPropertyDescriptor(n,r);if(c=m.value,d=o(c),null!=c&&("object"===d||"function"===d)&&h&&h.value===m.value)return}0,Object.defineProperty(t,r,m)}}}))}function T(t){return"function"==typeof t?A(t):function(e){return A(e,t)}}T.registerHooks=function(t){w.push.apply(w,c(t))},e.default=T},55:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,l=r(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||d)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||d):c.length>0?c.map((function(){return t(!1)})):t(!1))}};t.exports=r},76:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(l=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var l,c,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&o[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),e.push(d))}},e}},77:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],l=o[0],c={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[l]?r[l].parts.push(c):n.push(r[l]={id:l,parts:[c]})}return n}n.r(e),n.d(e,"default",(function(){return x}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,d=0,m=!1,h=function(){},f=null,v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function x(t,e,n,o){m=n,f=o||{};var c=r(t,e);return y(c),function(e){for(var n=[],i=0;i<c.length;i++){var o=c[i];(d=l[o.id]).refs--,n.push(d)}e?y(c=r(t,e)):c=[];for(i=0;i<n.length;i++){var d;if(0===(d=n[i]).refs){for(var m=0;m<d.parts.length;m++)d.parts[m]();delete l[d.id]}}}}function y(t){for(var i=0;i<t.length;i++){var e=t[i],n=l[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(A(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(A(e.parts[r]));l[e.id]={id:e.id,refs:1,parts:o}}}}function w(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function A(t){var e,n,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(m)return h;r.parentNode.removeChild(r)}if(v){var o=d++;r=c||(c=w()),e=T.bind(null,r,o,!1),n=T.bind(null,r,o,!0)}else r=w(),e=_.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var E,M=(E=[],function(t,e){return E[t]=e,E.filter(Boolean).join("\n")});function T(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=M(e,o);else{var l=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(l,c[e]):t.appendChild(l)}}function _(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),f.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},98:function(t,e){t.exports=function(component,t){var e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.components=component.exports.options.components),e.components=e.components||{},t)e.components[i]=e.components[i]||t[i]}}}]);