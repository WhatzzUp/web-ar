(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{268:function(e,t,n){"use strict";n.r(t);n(29);var r,o=n(8),c=n(17),l=n(18),d=n(14),h=n(7),v=n(123);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var m=Object(v.Component)({})(r=function(e){Object(l.a)(n,e);var t=f(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).videoWidth=void 0,e.videoHeight=void 0,e.video=void 0,e.qvga={width:{exact:320},height:{exact:240}},e.vga={width:{exact:640},height:{exact:480}},e.resolution=window.innerWidth<640?e.qvga:e.vga,e.streaming=!1,e.canvasOutput=void 0,e.canvasOutputCtx=void 0,e.stream=null,e.detectFace=document.getElementById("face"),e.detectEye=document.getElementById("eye"),e.info=document.getElementById("info"),e}return Object(c.a)(n,[{key:"created",value:function(){console.log("this :>> ",this),console.log(AFRAME)}},{key:"mounted",value:function(){AFRAME.registerComponent("hide-in-ar-mode",{init:function(){var e=this;this.el.sceneEl.addEventListener("enter-vr",(function(t){e.wasVisible=e.el.getAttribute("visible"),e.el.sceneEl.is("ar-mode")&&e.el.setAttribute("visible",!1)})),this.el.sceneEl.addEventListener("exit-vr",(function(t){e.wasVisible&&e.el.setAttribute("visible",!0)}))}}),AFRAME.registerComponent("ar-shadows",{schema:{opacity:{default:.3}},init:function(){var e=this;this.el.sceneEl.addEventListener("enter-vr",(function(t){e.wasVisible=e.el.getAttribute("visible"),e.el.sceneEl.is("ar-mode")&&(e.savedMaterial=e.el.object3D.children[0].material,e.el.object3D.children[0].material=new THREE.ShadowMaterial,e.el.object3D.children[0].material.opacity=e.data.opacity,e.el.setAttribute("visible",!0))})),this.el.sceneEl.addEventListener("exit-vr",(function(t){e.savedMaterial&&(e.el.object3D.children[0].material=e.savedMaterial,e.savedMaterial=null),e.wasVisible||e.el.setAttribute("visible",!1)}))}}),AFRAME.registerComponent("ar-hit-test",{init:function(){var e=this;this.xrHitTestSource=null,this.viewerSpace=null,this.refSpace=null,this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(t){e.viewerSpace=null,e.refSpace=null,e.xrHitTestSource=null})),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(t){var n=e.el.sceneEl.renderer.xr.getSession(),element=e.el;n.addEventListener("select",(function(){var e=element.getAttribute("position");document.getElementById("dino").setAttribute("position",e),document.getElementById("light").setAttribute("position",{x:e.x-2,y:e.y+4,z:e.z+2})})),n.requestReferenceSpace("viewer").then((function(t){e.viewerSpace=t,n.requestHitTestSource({space:e.viewerSpace}).then((function(t){e.xrHitTestSource=t}))})),n.requestReferenceSpace("local-floor").then((function(t){e.refSpace=t}))}))},tick:function(){if(this.el.sceneEl.is("ar-mode")){if(!this.viewerSpace)return;var e=this.el.sceneEl.frame,t=e.getViewerPose(this.refSpace);if(this.xrHitTestSource&&t){var n=e.getHitTestResults(this.xrHitTestSource);if(n.length>0){var r=n[0].getPose(this.refSpace),o=new THREE.Matrix4;o.fromArray(r.transform.matrix);var c=new THREE.Vector3;c.setFromMatrixPosition(o),this.el.setAttribute("position",c)}}}}})}}]),n}(v.Vue))||r,w=n(52),component=Object(w.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("a-scene",{attrs:{embedded:""}},[t("a-assets",{attrs:{timeout:"30000"}},[t("a-asset-item",{attrs:{id:"spinosaurus",src:"https://cdn.glitch.com/324a5290-5aa7-4efc-92d6-ae0736433b12%2Fspinosaurus.glb","response-type":"arraybuffer"}})],1),this._v(" "),t("a-camera",{attrs:{position:"0 1.2 0"}}),this._v(" "),t("a-entity",{attrs:{environment:"preset: forest; lighting: none; shadow: none; lightPosition: 0 2.15 0","hide-in-ar-mode":""}}),this._v(" "),t("a-entity",{attrs:{id:"dino",position:"-1 0 -3",scale:"0.5 0.5 0.5"}},[t("a-entity",{attrs:{position:"0 2.15 0",rotation:"0 55 0","gltf-model":"#spinosaurus","animation-mixer":"",shadow:"cast: true; receive: false"}}),this._v(" "),t("a-plane",{attrs:{height:"30",width:"30",rotation:"-90 0 0",shadow:"receive: true","ar-shadows":"opacity: 0.2",visible:"false"}})],1),this._v(" "),t("a-entity",{attrs:{light:"type: hemisphere; intensity: 1"}}),this._v(" "),t("a-light",{attrs:{id:"light",type:"directional",light:"castShadow: true;\n                    shadowMapHeight: 1024;\n                    shadowMapWidth: 1024;\n                    shadowCameraLeft: -7;\n                    shadowCameraRight: 5;\n                    shadowCameraBottom: -5;\n                    shadowCameraTop: 5;",target:"dino",position:"-2 4 2"}}),this._v(" "),t("a-entity",{attrs:{"gltf-model":"#reticle",scale:"0.8 0.8 0.8","ar-hit-test":""}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);